<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <style type="text/css">
   /*
* The contents of this file are subject to the terms of the Common Development and
* Distribution License (the License). You may not use this file except in compliance with the
* License.
*
* You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the
* specific language governing permission and limitations under the License.
*
* When distributing Covered Software, include this CDDL Header Notice in each file and include
* the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL
* Header, with the fields enclosed by brackets [] replaced by your own identifying
* information: "Portions copyright [year] [name of copyright owner]".
*
* Copyright 2015 ForgeRock AS.
* Portions copyright 2024 3A Systems LLC.
*/

/***********************************/
/* Imported Styles
/***********************************/

@import url(https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,300,400,700);
@import url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css);
@import url(https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css);
/* @import url(https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css); */
@import url(https://cdnjs.cloudflare.com/ajax/libs/jquery.colorbox/1.4.33/example1/colorbox.css);

/***********************************/
/* General Styles
/***********************************/

html {
    height: 100%;
}

body {
    /* Dark Grey */

    color: #2a2f32;
    font-family: 'Open Sans', "proxima-nova", sans-serif;
}

a {
    /* Sea Green */
    color: #519387;
}

a.link[href^="http"] {
    background-image: url("includes/logos/Icon_External_Link.png");
    background-position: top right;
    background-repeat: no-repeat;
    padding-right: 15px;
    margin-right: 2px;
}

a.self-link, a.self-link:hover, a.self-link:active {
    color: inherit;
    text-decoration: none;
}

a[href].self-link:hover::after
{
    -moz-osx-font-smoothing: grayscale;
    content: "\e144";
    color: #519387;
    display: inline-block;
    font-family: "Glyphicons Halflings";
    font-size: 75%;
    font-style: normal;
    line-height: 1;
    padding-left: 5px;
    position: relative;
    top: 1px;
}


li.L0,
li.L1,
li.L2,
li.L3,
li.L5,
li.L6,
li.L7,
li.L8 {
    list-style-type: decimal !important
}

.section,
.chapter,
.preface,
.glossary,
.refentry,
.reference,
.appendix,
.index,
.titlepage h2,
.titlepage h3,
.titlepage h4,
.titlepage h5 {
    padding-top: 60px;
    margin-top: -50px;
}

.left-shape-content {
    background: url("includes/logos/left-shape-4.png") no-repeat scroll 0 0 rgba(0, 0, 0, 0);
    float: left;
    height: 566px;
    position: fixed;
    width: 57px;
    top: 60%;
    z-index: -1;
}

/***********************************/
/* Bootstrap Override Styles
/***********************************/

/* Button Styles */

.btn-primary {
    /* Sea Green */
    background-color: #519387;

    /* Dark Sea Green */
    border-color: #488378;
    color: #fff;
}

.btn-default {
    background-color: #A1A8AD;
    border-color: #8a9298;
    color: #ffffff;
}

.btn-default:hover,
.btn-default:focus,
.btn-default.focus,
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
    background-color: #3f4b54;
    border-color: #1B2025;
    color: #ffffff;
}

/* Tooltip Styles */

.tooltip.in {
    opacity: 0.95;
}

.tooltip.bottom .tooltip-arrow {
    border-bottom-color: #519387;
}

.tooltip-inner {
    background-color: #519387;
}

/* List Styles */

.dl-horizontal dt {
    white-space: normal;
    padding: 0 3px 0 0;
    width: 200px;
}

.dl-horizontal dd {
    border-bottom: 1px dotted rgb(125, 179, 168);
    border-bottom: 1px dotted rgba(125, 179, 168, 0.8);
    margin-bottom: 18px;
    margin-left: 210px;
}

.dl-horizontal {
    border-top: 1px dotted rgb(125, 179, 168);
    border-top: 1px dotted rgba(125, 179, 168, 0.9);
    padding-top: 10px;
}

.variablelist dt {
    margin: 18px 0 5px 15px;
}

.variablelist dd {
    border-bottom: 1px dotted rgba(125, 179, 168, 0.8);
    margin: 5px 0 5px 30px;
}

.variablelist > dl {
    border-top: 1px dotted rgba(125, 179, 168, 0.8);
}


/***********************************/
/* Redirect Page Styles
/***********************************/

.index-redirect,
.index-redirect body {
    height: 100%;
    background-color: #333;
    font-family: 'Open Sans', "proxima-nova", sans-serif;
}
.index-redirect body {
    color: #fff;
    text-align: center;
}
.index-redirect .container {
    display: table;
    vertical-align: middle;
    height: 100%;
}
.index-redirect .btn-primary {
    /* Sea Green */
    background-color: #519387;

    /* Dark Sea Green */
    border-color: #488378;
    color: #fff;
}
.index-redirect .cover-heading {
    font-weight: 400 !important;
}
.index-redirect .vertical-center-row {
    display: table-cell;
    vertical-align: middle;
}

/***********************************/
/* Header Styles
/***********************************/

.navbar-brand {
    padding: 7px 15px;
    display: flex;
    align-items: center;
}
.navbar-brand > img {
    height: 100%;
}

.navbar.navbar-inverse.navbar-fixed-top {
    box-shadow: 0 0 10px 2px #111;
}
.nav > li > a {
    font-weight: 200;
}

/***********************************/
/* Banner Styles
/***********************************/

.jumbotron {
    /* Sea Green */
    background: url("includes/logos/hero-bg-01.png") no-repeat scroll left top #519387;
    color: white;
    box-shadow: 0 0 10px 2px grey;
    margin-top: 50px;
    padding: 0 0 10px;
}
.jumbotron small {
    color: white;
}
.jumbotron p {
    font-size: 12px;
    font-weight: 400;
    margin-bottom: 5px;
}
.jumbotron h1 {
    font-size: 23px !important;
    font-weight: 300 !important;
}

/***********************************/
/* Table of Contents Styles
/***********************************/

#sidebar .nav>li>a {
    /* Light Grey */

    color: #777;
    border-left: 4px solid transparent;
    padding: 4px 10px;
    font-size: 13px;
    font-weight: 400;
}
/* nested links */

#sidebar .nav .nav>li>a {
    padding-top: 2px;
    padding-bottom: 2px;
    padding-left: 30px;
    font-size: 12px;
}
/* nested nested links */

#sidebar .nav .nav .nav>li>a {
    font-size: 11px;
    padding-bottom: 2px;
    padding-left: 50px;
    padding-top: 4px;
}
/* nested nested nested links */

#sidebar .nav .nav .nav .nav>li>a {
    font-size: 11px;
    padding-bottom: 2px;
    padding-left: 70px;
    padding-top: 4px;
}
/* active and hover links */

#sidebar .nav>.active>a,
#sidebar .nav>.locked-active>a,
#sidebar .nav>li>a:hover,
#sidebar .nav>li>a:focus {
    text-decoration: none;
    /*
    background-color: rgb(125, 179, 168, 0.8);
    background-color: rgba(125, 179, 168, 0.8);
    border-color: rgb(45, 52, 55, 0.8);
    border-color: rgba(45, 52, 55, 0.8);
    color: white;
    */
    /* Bright Yellow */

    background-color: #eeea07;
    border-color: #eeea07;
    /* Grey */

    color: #2a2f32;
}
/* all active links */

#sidebar .nav>.active>a,
#sidebar .nav>.active:hover>a,
#sidebar .nav>.active:focus>a {
    font-weight: 600;
}
/* nested active links */

#sidebar .nav .nav>.active>a,
#sidebar .nav .nav>.active:hover>a,
#sidebar .nav .nav>.active:focus>a {
    font-weight: 400;
}
/* nested nested active links */

#sidebar .nav .nav .nav>.active>a,
#sidebar .nav .nav .nav>.active:hover>a,
#sidebar .nav .nav .nav>.active:focus>a {
    font-weight: 300;
}
/* nested nested active links */

#sidebar .nav .nav .nav>.active>a,
#sidebar .nav .nav .nav>.active:hover>a,
#sidebar .nav .nav .nav>.active:focus>a {
    font-weight: 300;
}
/* hide all (inactive) nested list */

#sidebar .nav ul.nav {
    display: none;
}
/* show active nested list */

#sidebar .nav>.active>ul.nav {
    display: block;
}
#sidebar.affix {
    top: 66px;
    position: fixed;
    bottom: 30px;
    height: auto;
    overflow-y: scroll;
}
#sidebar.affix-bottom {
    position: absolute;
}

/***********************************/
/* Content Styles
/***********************************/

/* Main Content Styles */

h1 {
    font-size: 40px !important;
    font-weight: 700 !important;
}

h1 span {
    margin-right: .3em;
}

#doc-content h1,
#doc-content .h1 {
    /* Sea Green */
    border-bottom: 2px solid #70ab9b;
    font-size: 36px;
    margin-top: 24px;
    padding-bottom: 5px;
}

h2 {
    font-size: 32px !important;
    font-weight: 700 !important;
}

h5, .h5 {
    border-bottom: 1px solid #d3d3d3;
    font-size: 16px;
    padding-bottom: 4px;
    font-style: italic;
}

.anchorjs-link .anchorjs-icon {
    color: #A1A8AD;
    text-decoration: none;
}
.anchorjs-link:hover .anchorjs-icon {
    color: #519387;
    text-decoration: none;
}

h1:hover > .anchorjs-link,
h2:hover > .anchorjs-link,
h3:hover > .anchorjs-link,
h4:hover > .anchorjs-link,
h5:hover > .anchorjs-link,
.anchorjs-link:focus {
    opacity: 1 !important;
    transition: color 0.16s linear 0s;
    text-decoration: none;
}

.chapter > p:first-of-type,
.preface > p:first-of-type {
    font-size: 21px;
    font-weight: 300;
    line-height: 1.4;
    margin-bottom: 20px;
}

#doc-content {
    padding: 0 20px 85px 10px;
}

div.procedure, div.table {
    margin-top:-50px;
    padding-top: 60px;
}

div.procedure-title, div.table-title {
    margin: 6px 0 8px;
}

div.procedure-inner {
    border-color: lightslategray;
    border-left: 6px solid lightslategray;
    border-style: dotted dotted dotted solid;
    border-width: 1px 1px 1px 6px;
    margin: 15px 0 10px;
    padding: 10px 15px 10px 10px;
}

.author {
    display: inline;
}

.table {
    font-size: 14px;
}

div.simplelist {
    margin-bottom: 10px;
    width: 100%;
    font-size: 15px;
}

/* Title Styles */

.procedure-title > a, .procedure-title > a:hover {
    color: lightslategray;
    font-size: 14pt;
    font-weight: 400;
}

.itemizedlist-title {
    font-size: 18px;
    font-weight: 600;
    margin: 12px 0 6px;
}

.figure-title {
    font-weight: bold;
    margin: 16px 0 4px;
    text-align: center;
}

.table-title {
    font-size: 12pt;
    font-weight: 700;
}

.variablelist-title {
    font-weight: bold;
    margin: 10px 0;
    text-decoration: underline;
}

/* Code Styles */

.btn-copy-cmdline,
.btn-copy-codelisting {
    /* White */

    background-color: #fff;
    /* Light Grey */

    border: 1px solid #e1e1e8;
    border-radius: 0 4px;
    color: #777;
    display: block;
    font-size: 12px;
    padding: 5px 8px;
    position: absolute;
    right: 5px;
    top: 5px;
    z-index: 10;
}

pre.prettyprint {
    border: 1px solid #ccc;
    padding: 9.5px;
    font-size: 12px;
}

.zero-clipboard {
    display: block;
    position: relative;
}
.zeroclipboard-is-hover {
    /* Light Sea Green */

    background-color: #6faa9b;
    border-color: #6faa9b;
    color: #fff;
    cursor: pointer;
}

.ui-effects-transfer {
    border: 1px dotted black;
    background-color: yellow;
    opacity: 0.4;
}

/* Modal Dialog Styles */

#doc-content .modal h1.title {
    font-size: 40px !important;
    font-weight: 500 !important;
    margin: 14px 0 5px;
}
#doc-content .modal h2.subtitle {
    font-size: 26px !important;
    font-weight: 400 !important;
    margin-bottom: 26px;
}
#doc-content .modal h3.author {
    font-size: 14px !important;
    font-style: italic;
    font-weight: 100 !important;
    margin: 4px 0 5px 18px;
}
#doc-content .modal .affiliation .orgname {
    display: block;
    font-size: 20px !important;
    font-weight: 400 !important;
    margin: 20px 0 0 0;
}
#doc-content .modal .affiliation .address p {
    font-size: 16px !important;
    font-weight: 100 !important;
    margin: 4px 0;
}
#doc-content .modal .copyright {
    display: none;
}
#doc-content .modal .copyright {
    display: none;
}
#doc-content .modal .abstract .abstract-title {
    font-size: 20px !important;
    font-weight: 400 !important;
}
#doc-content .modal .abstract > p {
    margin: 10px 0 5px 20px;
    font-size: 16px !important;
    font-weight: 100 !important;
}

/* Image Styles */

.fancybox > img {
    cursor: zoom-in;
}
a.fancybox {
    text-decoration: none;
}

#cboxTitle {
    color: #519387;
    font-size: 14px;
    font-weight: 700;
}

#cboxOverlay{
    background: none repeat scroll 0 0 rgba(66, 130, 116, 0.6);
}

img.img-responsive {
    margin-bottom: 20px;
}

/* Index Styles */

.indexdiv > h3 {
    border-bottom: 2px dotted lightgrey;
    padding-bottom: 5px;
}
.indexdiv > dl {
    margin-left: 30px;
}
.indexdiv dl {
    margin-bottom: 5px;
}
.indexdiv dt {
    margin: 5px 0 2px;
}
.indexdiv dd {
    margin-left: 35px;
}
.indexdiv .indexterm {
    font-weight: 200;
}

/* Reference Styles */

.refnamediv h2 {
    display: none;
}

.refsect1 h2,
.refsynopsisdiv h2 {
    font-size: 20px !important;
    font-weight: 400 !important;
}

.refnamediv p {
    font-size: 32px !important;
    font-weight: 700 !important;
}

/***********************************/
/* Footer Styles
/***********************************/

.back-to-top {
    position: fixed;
    bottom: 55px;
    right: 5px;
    display: none;
    z-index: 15;
}

#footer {
    display: none;
}

.footer {
    /* Light Grey */
    background-color: #f5f5f5;

    /* Medium Grey */
    border-top: 1px solid #ACB5BD;
    bottom: 0;
    font-size: 12px;
    height: 30px;
    padding-top: 4px;
    position: fixed;
    width: 100%;
    z-index: 100;
}

.footer h3 {
    margin: 0;
}

.footer a:hover {
    text-decoration: none;
}

.footer-item {
    line-height: 22px;
    margin-left: 10px;
}

.footer-item.highlighted {
    /* Orange */
    color: #f7a540;
}

.footer-item.highlighted:hover {
    /* Dark Orange */
    color: #c97208;
}

.footer span {
    /* Grey */
    color: #2a2f32;
    margin-bottom: 0;
}

.footer .footer-left {
    float: left;
}

.footer .footer-right {
    float: right;
}

/***********************************/

  </style><meta name="viewport" content="width=device-width, initial-scale=1"><title>OpenAM Upgrade Guide</title><script src="https://code.jquery.com/jquery-1.11.2.min.js" type="text/javascript"></script><script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js" type="text/javascript"></script><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="description" content="This guide shows you how to upgrade OpenAM. OpenAM provides open source Authentication, Authorization, Entitlement, and Federation software."><script type="text/javascript">
     /*
 * The contents of this file are subject to the terms of the Common Development and
 * Distribution License (the License). You may not use this file except in compliance with the
 * License.
 *
 * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the
 * specific language governing permission and limitations under the License.
 *
 * When distributing Covered Software, include this CDDL Header Notice in each file and include
 * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL
 * Header, with the fields enclosed by brackets [] replaced by your own identifying
 * information: "Portions copyright [year] [name of copyright owner]".
 *
 * Copyright 2015 ForgeRock AS.
 */

//

var loadJavaScriptsFN = function () {
    $.ajaxSetup({ cache: true });
    $.getScript("http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js", function () { prettyPrint() });
    $.getScript("http://cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.2.0/ZeroClipboard.min.js", function () {enableZeroClipboardFN() });
    $.getScript("http://cdnjs.cloudflare.com/ajax/libs/jquery.colorbox/1.4.33/jquery.colorbox-min.js", function () { enableColorboxFN() });
};

var wrapConfigurablesFn = function () {
    $('*:contains("https://openam.example.com:8443")').each(function(){
        if($(this).children().length < 1)
            $(this).html(
                $(this).text().replace(new RegExp("https://openam.example.com:8443", 'g'),'<span class="exampleUrl">https://openam.example.com:8443</span>')
            )
    });
    $('*:contains("amadmin")').each(function(){
        if($(this).children().length < 1)
            $(this).html(
                $(this).text().replace(new RegExp("amadmin", 'g'),'<span class="exampleAdmin">amadmin</span>')
            )
    });
    $('*:contains("iPlanetDirectoryPro")').each(function(){
        if($(this).children().length < 1)
            $(this).html(
                $(this).text().replace(new RegExp("iPlanetDirectoryPro", 'g'),'<span class="exampleSsoCookieName">iPlanetDirectoryPro</span>')
            )
    });
};

var btnClickHandler = function () {
    $("button#applyDocUpdate").click(function(){

        $('span.exampleUrl').fadeOut("slow", function(){
            $('span.exampleUrl').text($("input#exampleUrl").val());
            $('span.exampleUrl').fadeIn("slow");
        });

        $('span.exampleAdmin').fadeOut("slow", function(){
            $('span.exampleAdmin').text($("input#exampleAdmin").val());
            $('span.exampleAdmin').fadeIn("slow");
        });

        $('span.exampleSsoCookieName').fadeOut("slow", function(){
            $('span.exampleSsoCookieName').text($("input#exampleSsoCookieName").val());
            $('span.exampleSsoCookieName').fadeIn("slow");
        });

        $('#docConfig').modal('hide');
    });
};


var addCopyButtonFN = function () {
    $( ".cmdline" ).each(function() {
        $(this).before('<div class="zero-clipboard hidden-xs"><span class="btn-copy-cmdline"><span class="glyphicon glyphicon-pencil"></span> Copy<span class="hidden-sm"> command to clipboard</span></span></div>');
    });

    $( ".codelisting" ).each(function() {
        $(this).before('<div class="zero-clipboard hidden-xs"><span class="btn-copy-codelisting"><span class="glyphicon glyphicon-pencil"></span> Copy<span class="hidden-sm"> code to clipboard</span></span></div>');
    });
};
var enableScrollSpyFN = function () {
    $('body').scrollspy({
        target: '#sidebar',
        offset: 16
    });
};

var enableToolTipFN = function () {
    $(function () {
        $("[data-toggle='tooltip']").tooltip({placement: 'bottom'});
    });
};

var enableBackToTopFadeInFN = function () {
    var offset = 220;
    var duration = 500;
    $(window).scroll(function() {
        if ($(this).scrollTop() > offset) {
            $('.back-to-top').fadeIn(duration);
        } else {
            $('.back-to-top').fadeOut(duration);
        }
    });

    $('.back-to-top').click(function(event) {
        event.preventDefault();
        $('html, body').animate({scrollTop: 0}, duration);
        return false;
    })
};

var enableClampedWidthsFN = function () {

    /*
     * Clamped-width.
     * Usage:
     *  <div data-clampedwidth=".myParent">This long content will force clamped width</div>
     *
     * Author: LV
     */
    $('[data-clampedwidth]').each(function () {
        var elem = $(this);
        var parentPanel = elem.data('clampedwidth');
        var resizeFn = function () {
            var sideBarNavWidth = $(parentPanel).width() - parseInt(elem.css('paddingLeft')) - parseInt(elem.css('paddingRight')) - parseInt(elem.css('marginLeft')) - parseInt(elem.css('marginRight')) - parseInt(elem.css('borderLeftWidth')) - parseInt(elem.css('borderRightWidth'));
            elem.css('width', sideBarNavWidth);
        };

        resizeFn();
        $(window).resize(resizeFn);
    });
};

var affixToCFN = function() {
    $('#sidebar').affix({
        offset: {
            top: function () {
                return (this.top = $('.jumbotron').outerHeight(true)-66)
            }
        }
    });
};

var attachAnchorsToHeadings = function() {
    //addAnchors('h1.title, h2.title, h3.title, h4.title, h5.title');


    $('h1.title, h2.title, h3.title, h4.title, h5.title, .procedure-title, .table-title').each(function () {

        var href = $(this).closest("div[id]").attr("id");

        if (href === undefined || href === "") { // Unable to locate ID of parent element.
            return;
        }

        $(this).wrapInner('<a class=\"self-link" href=\"#' + href + '\"></a>');

    });
};

var addZeroClipboardToCmdlineButtonsFN = function () {
    var copycmdline = new ZeroClipboard( $('.btn-copy-cmdline') );

    copycmdline.on( 'ready', function(event) {
        // console.log( 'movie is loaded' );

        copycmdline.on( 'copy', function(event) {
            var wrappedText = "";
            $(event.target).parent().next().find("strong").each(function(index) {
                wrappedText += $(this).text() + "\n";
            });
            event.clipboardData.setData('text/plain', wrappedText);
        });

        copycmdline.on( 'aftercopy', function(event) {
            // console.log('Copied to clipboard: ' + event.data['text/plain']);
            $(event.target).parent().next().find("strong").each(function(index) {
                $(this).effect("transfer", { to: $(event.target)}, 750);
            });
        });
    });

    copycmdline.on( 'error', function(event) {
        console.log( 'ZeroClipboard error of type "' + event.name + '": ' + event.message );
        ZeroClipboard.destroy();
    });
};

var addZeroClipboardToCodeButtonsFN = function () {
    var copycodelisting = new ZeroClipboard( $('.btn-copy-codelisting') );

    copycodelisting.on( 'ready', function(event) {
        //console.log( 'movie is loaded' );

        copycodelisting.on( 'copy', function(event) {
            var wrappedText = "";
            $(event.target).parent().next(".codelisting.linenums").children().contents().each(function(index) {
                wrappedText += $(this).text() + "\n";
            });
            if(wrappedText == "") {
                wrappedText = $(event.target).parent().next(".codelisting").contents().text();
            };
            event.clipboardData.setData('text/plain', wrappedText);
        });

        copycodelisting.on( 'aftercopy', function(event) {
            // console.log('Copied code to clipboard: ' + event.data['text/plain']);
            $(event.target).parent().next(".codelisting").first().effect("transfer", { to: $(event.target)}, 750);
        });
    });

    copycodelisting.on( 'error', function(event) {
        console.log( 'ZeroClipboard error of type "' + event.name + '": ' + event.message );
        ZeroClipboard.destroy();
    });
};

var enableColorboxFN = function () {
    $(".fancybox").colorbox({
        title: function() {
            return $(this).children('img').attr('alt');
        },
        opacity: 1,
        transition:"elastic",
        initialWidth: 0,
        initialHeight: 0,
        maxWidth:"95%",
        maxHeight: "95%",
        scalePhotos: true,
        fixed: true
    });
};

var trackPageViewsFN = function () {

    $("a").click(function() {
        var href = $(this).attr('href');
        if(href) {
            var titleText =  $(this).text();
            if(href.charAt(0) === '#') {
                ga('send', {
                    'hitType': 'pageview',
                    'page': location.pathname + location.search + href,
                    'title': titleText
                });
            };
            if(href.charAt(0) === '.') {
                var lastHashPos = href.lastIndexOf('#');
                var cleanHref = href.slice(3,lastHashPos);
                var cleanFrag = href.slice(lastHashPos);
                if(window.location.href.search(cleanHref) > -1)
                {
                    ga('send', {
                        'hitType': 'pageview',
                        'page': location.pathname + location.search + cleanFrag,
                        'title': titleText
                    });
                }
            };
        }
    });
};

var enableZeroClipboardFN = function () {
    ZeroClipboard.config({
            swfPath:  "includes/swf/ZeroClipboard.swf",
            trustedDomains: ["*"],
            forceEnhancedClipboard: false,
            forceHandCursor: true,
            debug: false}
    );
    addCopyButtonFN();
    addZeroClipboardToCmdlineButtonsFN();
    addZeroClipboardToCodeButtonsFN();
};

$(document).ready(function() {
    //wrapConfigurablesFn();
    btnClickHandler();
    enableToolTipFN();
    enableBackToTopFadeInFN();
    enableClampedWidthsFN();
    enableScrollSpyFN();
    affixToCFN();
    attachAnchorsToHeadings();
    trackPageViewsFN();
    loadJavaScriptsFN();
});

//

    </script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navbar navbar-inverse navbar-fixed-top"><nav class="container-fluid"><div class="navbar-header"><a href="/" class="navbar-brand"><span>Open Identity Platform</span></a></div><ul id="pdf-link" class="nav navbar-nav navbar-right hidden-xs"><li><a href="https://github.com/OpenIdentityPlatform/OpenAM/wiki/docbkx/pdf/OpenAM-Upgrade-Guide.pdf" target="_blank"><span class="glyphicon glyphicon-save"></span> Download PDF Version</a></li></ul></nav></div><div class="jumbotron"><div class="container-fluid"><h1>OpenAM  Upgrade Guide<span></span><small></small></h1><p>This guide shows you how to upgrade OpenAM. OpenAM provides open source
   Authentication, Authorization, Entitlement, and Federation software.</p></div></div><div class="left-shape-content"></div><div class="container-fluid"><div class="row"><div class="col-sm-3 hidden-xs"><div id="sidebar" data-clampedwidth=".col-sm-3"><h4 class="toc-title">OpenAM  Upgrade Guide<br><small class="toc-subtitle"></small></h4><ul class="nav nav-stacked"><li><a href="#preface">Preface</a><ul class="nav nav-stacked"><li><a href="#d6779e119">1. Who Should Use this Guide</a></li><li><a href="#formatting-conventions">2. Formatting Conventions</a></li><li><a href="#accessing-doc-online">3. Accessing Documentation Online</a></li><li><a href="#joining-the-community">4. Joining the Open Identity Platform Community</a></li></ul></li><li><a href="#chap-about-upgrades">1. About Upgrading OpenAM</a><ul class="nav nav-stacked"><li><a href="#upgrade-planning">1.1. Planning the Upgrade</a></li><li><a href="#upgrade-best-practices">1.2. Best Practices for Upgrades</a><ul class="nav nav-stacked"><li><a href="#plan-upgrade-downtime">1.2.1. Route Around Servers During Downtime</a></li><li><a href="#pre-upgrade-backup">1.2.2. Back Up the Deployment</a></li><li><a href="#pre-upgrade-customization">1.2.3. Apply Customization Before Upgrading</a></li><li><a href="#post-upgrade-rollback">1.2.4. Plan for Rollback</a></li></ul></li></ul></li><li><a href="#chap-upgrade-servers">2. Upgrading OpenAM Servers</a></li><li><a href="#chap-legacy-servers">3. Migrating Legacy Servers</a></li><li><a href="#chap-upgrade-components">4. Upgrading OpenAM Components</a></li></ul></div></div><div id="doc-content" class="col-sm-9"><div class="titlepage modal fade" id="myModal"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">X</span></button><h4 class="modal-title">About this document</h4></div><div class="modal-body"><div><div><h1 class="title">OpenAM  Upgrade Guide</h1></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Mark</span> <span class="surname">Craig</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Vanessa</span> <span class="surname">Richie</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Mike</span> <span class="surname">Jang</span></h3></div></div></div><div><p class="releaseinfo"></p></div><div><p class="copyright">Copyright &copy; 2011-2013 ForgeRock AS</p></div><div><a href="legalnotice.html">Legal Notice</a></div><div><p class="pubdate">Publication date: August&nbsp;28,&nbsp;2024</p></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>This guide shows you how to upgrade OpenAM. OpenAM provides open source
   Authentication, Authorization, Entitlement, and Federation software.</p></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div></div></div><div lang="en" class="preface" id="preface"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p>This guide describes how to upgrade OpenAM servers, policy agents, and
 tools.</p><div class="section" id="d6779e119"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.&nbsp;Who Should Use this Guide</h2></div></div></div><p>This guide is for anyone who needs to upgrade an OpenAM deployment.
  This guide assumes you are familiar with OpenAM installation and
  configuration, and that you are familiar with the current OpenAM
  deployment that you plan to upgrade.</p><p>You do not need to be an OpenAM wizard to learn something from
  this guide, though a background in access management and maintaining
  web application software can help. You do need some background in
  managing services on your operating systems and in your application
  servers. You can nevertheless get started with this guide, and then
  learn more as you go.</p></div><div lang="en" class="section" id="formatting-conventions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.&nbsp;Formatting Conventions</h2></div></div></div><p>
  Most examples in the documentation are created in GNU/Linux or Mac OS X
  operating environments.

  If distinctions are necessary between operating environments,
  examples are labeled with the operating environment name in parentheses.

  To avoid repetition file system directory names are often given
  only in UNIX format as in <code class="filename">/path/to/server</code>,
  even if the text applies to <code class="filename">C:\path\to\server</code> as well.
 </p><p>
  Absolute path names usually begin with the placeholder
  <code class="filename">/path/to/</code>.

  This path might translate to <code class="filename">/opt/</code>,
  <code class="filename">C:\Program Files\</code>, or somewhere else on your system.
 </p><p>
  Command line, terminal sessions are formatted as follows:
 </p><pre class="cmdline prettyprint">$ <strong>echo $JAVA_HOME</strong>
<em>/path/to/jdk</em></pre><p>
  Command output is sometimes formatted for narrower, more readable output
  even though formatting parameters are not shown in the command.
  In the following example,
  the query string parameter <code class="literal">_prettyPrint=true</code> is omitted
  and some of the output is replaced with an ellipsis (<code class="literal">...</code>):
 </p><pre class="cmdline prettyprint">
$ <strong>curl https://bjensen:hifalutin@opendj.example.com:8443/users/newuser</strong>
<em>{
  "_rev" : "000000005b337348",
  "_id" : "newuser",
  ...
}</em>
 </pre><p>
  Program listings are formatted as follows:
 </p><pre class="codelisting prettyprint">
class Test {
    public static void main(String [] args)  {
        System.out.println("This is a program listing.");
    }
}
 </pre></div><div lang="en" class="section" id="accessing-doc-online"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.&nbsp;Accessing Documentation Online</h2></div></div></div><p>
  Open Identity Platform core documentation, such as this document, aims to be
  technically accurate and complete with respect to the software documented.
 </p><div class="itemizedlist"><p>
   Core documentation therefore follows a three-phase review process
   designed to eliminate errors:
  </p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Product managers and software architects review project documentation design
    with respect to the readers' software lifecycle needs.
   </p></li><li class="listitem"><p>
    Subject matter experts review proposed documentation changes for
    technical accuracy and completeness
    with respect to the corresponding software.
   </p></li><li class="listitem"><p>
    Quality experts validate implemented documentation changes
    for technical accuracy, completeness in scope,
    and usability for the readership.
   </p></li></ul></div><p>
  The review process helps to ensure that documentation published for
  a Open Identity Platform release is technically accurate and complete.
 </p><p>
  Fully reviewed, published core documentation is available at
  <a class="link" href="https://doc.openidentityplatform.org/" target="_blank">https://doc.openidentityplatform.org/</a>.
  Use this documentation when working with a Open Identity Platform release.
 </p><p>
  You can find pre-release draft documentation at the online
  <a class="link" href="https://github.com/OpenIdentityPlatform" target="_blank">community resource center</a>.
  Use this documentation when trying a nightly build.
 </p></div><div lang="en" class="section" id="joining-the-community"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.&nbsp;Joining the Open Identity Platform Community</h2></div></div></div><p>
  Visit the
  <a class="link" href="https://github.com/OpenIdentityPlatform" target="_blank">community resource center</a>
  where you can find information about each project,
  download nightly builds, browse the resource catalog,
  ask and answer questions on the forums, find community events near you,
  and of course get the source code as well.
 </p></div></div><div lang="en" class="chapter" id="chap-about-upgrades"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;1.&nbsp;About Upgrading OpenAM</h1></div></div></div><p>This chapter covers common aspects of upgrading an OpenAM deployment,
 whether you are moving to a new maintenance release, upgrading to a new major
 release, or migrating from a legacy release to a newer OpenAM release.</p><p>Release levels, and how much change to expect in a maintenance, minor,
 or major release, are defined in the <em class="citetitle">Administration Guide</em>
 section, <a href="../admin-guide/index.html#release-levels" class="link"><em class="citetitle">ForgeRock Product
 Release Levels</em></a>. Release levels are identified by version
 number.</p><div class="section" id="upgrade-planning"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.1.&nbsp;Planning the Upgrade</h2></div></div></div><div class="itemizedlist"><p>How much you must do to upgrade OpenAM software depends on the
   magnitude of the differences between the version you currently use and
   the new version.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Maintenance releases have a limited effect on current functionality
    but contain necessary bug and security fixes. You should keep up to date
    with maintenance releases as the fixes are important and the risk of
    affecting service is minimal.</p></li><li class="listitem"><p>When upgrading to a new major or minor release, always plan and test
    the changes before carrying out the upgrade in production. Make sure you
    read release notes for intervening versions with care, identifying any
    changes likely to affect your deployment, and then plan accordingly.</p></li><li class="listitem"><p>These suggestions are true both for OpenAM server components, and
    also for policy agents.</p></li></ul></div><p>To upgrade from OpenAM server 9.5 and later you can use the Upgrade
  Wizard. The OpenAM server Upgrade Wizard, added in OpenAM 10.0.0, appears
  when you replace a deployed OpenAM server .war with a newer version and browse
  to the deployment URL. The Upgrade Wizard brings the OpenAM configuration,
  including the version number, up to date with the new version. The CLI
  counterpart of the Upgrade Wizard is ,
  which you install as described in <a href="../install-guide/index.html#install-openam-config-tools" class="link"><em class="citetitle">To Set Up Configuration Tools</em></a>.</p><p>For legacy releases, meaning OpenAM server version 9.0 and earlier
  including Sun Access Manager and OpenSSO releases, you must reinstall and
  configure OpenAM server rather than upgrade. Moving to a new release from a
  legacy release is therefore a migration, rather than a simple upgrade.</p></div><div class="section" id="upgrade-best-practices"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.2.&nbsp;Best Practices for Upgrades</h2></div></div></div><p>Be prepared before you begin an upgrade, even if the upgrade is for a
   maintenance release.</p><div class="section" id="plan-upgrade-downtime"><div class="titlepage"><div><div><h3 class="title">1.2.1.&nbsp;Route Around Servers During Downtime</h3></div></div></div><p>Upgrading servers takes at least one of your OpenAM sites down while
    the server configurations are being brought up to date with the newer
    version. Plan for this site to be down, routing client applications to
    another site until the upgrade process is complete and you have validated
    the result. Make sure client application owners are well aware of the
    change, and let them know what to expect.</p><p>If you only have a single OpenAM site, make sure the downtime happens
    in a low usage window, and make sure you let client application owners plan
    accordingly.</p><p>During an upgrade you must restrict access to OpenAM Console: The
    Upgrade Wizard page does not require authorization; any user with access
    to OpenAM Console immediately after you deploy the new .war can therefore
    initiate the upgrade process.</p></div><div class="section" id="pre-upgrade-backup"><div class="titlepage"><div><div><h3 class="title">1.2.2.&nbsp;Back Up the Deployment</h3></div></div></div><p>Always back up your deployment before you upgrade, as you must be
    able to roll back should something go wrong during the upgrade
    process.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Backing up your configuration as described in <a href="../admin-guide/index.html#chap-backup-restore" class="link"><em class="citetitle">Backing Up
      and Restoring OpenAM Configurations</em></a> is good for
      production environments.</p></li><li class="listitem"><p>In preparation for upgrading OpenAM servers and their
      configurations, also take LDIF backups of the configuration store data
      in the directory servers. If possible, stop servers before upgrading
      and take a file system backup of the deployed servers and also of their
      configuration directories as well. This can make it easier to roll back
      from a failed upgrade.</p><p>For example, if you deploy OpenAM server in Apache Tomcat under
      <code class="literal">/openam</code>, you might take a file system backup of the
      following directories for each OpenAM server.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="filename">/path/to/tomcat/webapps/openam/</code></p></li><li class="listitem"><p><code class="filename">~/openam/</code></p></li><li class="listitem"><p><code class="filename">~/.openamcfg/</code></p></li></ul></div></li><li class="listitem"><p>When upgrading web policy agents, take a file system backup of the
      policy agent installation and configuration directories.</p><p>When upgrading Java EE policy agents, it can be easier to uninstall
      the new version and reinstall the old version than to restore from file
      system backup.</p></li><li class="listitem"><p>When upgrading tools, keep copies of any tools scripts that you
      have edited for your deployment. Also back up any trust stores used to
      connect securely.</p></li></ul></div></div><div class="section" id="pre-upgrade-customization"><div class="titlepage"><div><div><h3 class="title">1.2.3.&nbsp;Apply Customization Before Upgrading</h3></div></div></div><p>Before you upgrade OpenAM servers, prepare a .war file that contains
    any customizations you require.</p><div class="itemizedlist"><p>Customizations include any changes you have made to the OpenAM
     server installation, such as the following.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Plugin and extensions such as custom authentication modules,
      response providers, post authentication plugins, SAML 2.0 attribute
      mappers, and OAuth 2.0 scope implementations</p><p>These are described in the <a href="../dev-guide/index.html#dev-guide" class="link"><em class="citetitle">Developer's
      Guide</em></a>.</p></li><li class="listitem"><p>Customized JSPs, redesigned login or service pages, additional CSS
      and visual content, and modified authentication module callback
      files</p><p>These are described in the <a href="../install-guide/index.html#chap-custom-ui" class="link"><em class="citetitle">Installation
      Guide</em></a>.</p></li><li class="listitem"><p>Any changes to OpenAM classes</p></li><li class="listitem"><p>Any changes or additional Java class libraries (such as .jar files
      in <code class="filename">WEB-INF/lib</code></p></li></ul></div></div><div class="section" id="post-upgrade-rollback"><div class="titlepage"><div><div><h3 class="title">1.2.4.&nbsp;Plan for Rollback</h3></div></div></div><p>Sometimes even a well-planned upgrade operation fails to go smoothly.
    In such cases, you need a plan to roll back smoothly to the pre-upgrade
    version.</p><p>For OpenAM servers, you can roll back by restoring from file system
    backup. If you use an external configuration directory service, restore the
    old configuration from LDIF before restarting the old servers.</p><p>For web policy agents, you can roll back by restoring from file system
    backup. If you used configuration only available to newer agents, restore
    the pre-upgrade configuration before restarting the old agents.</p><p>For Java EE policy agents, uninstall the newer agents and reinstall
    the older agents, including the old configurations.</p></div></div></div><div lang="en" class="chapter" id="chap-upgrade-servers"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;2.&nbsp;Upgrading OpenAM Servers</h1></div></div></div><p>This chapter covers upgrade from OpenAM core server 9.5 or later to the
 current version. For other OpenAM components, see <a href="../admin-guide/index.html#chap-backup-restore" class="link"><em class="citetitle">Upgrading OpenAM
 Components</em></a>.</p><p>OpenAM server upgrade relies on the Upgrade Wizard to make the
 necessary changes to the configuration store. You must then restart OpenAM or
 the container in which it runs. Even a version number change requires that you
 run the Upgrade Wizard, so needing to run the Upgrade Wizard says nothing about
 the significance of the changes that have been made to OpenAM. You must run
 the Upgrade Wizard even for maintenance releases.</p><p>Make sure you try upgrading OpenAM in a test environment before applying
 the upgrade in your production environment.</p><div class="procedure" id="upgrade-server"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;2.1.&nbsp;To Upgrade From OpenAM 9.5 or Later</div><p>Follow these steps to upgrade a site of OpenAM servers (version 9.5 or
  later). During the upgrade process, you must take the OpenAM servers in the
  site out of production, instead redirecting client application traffic
  elsewhere. This is required because upgrade involves making changes to
  OpenAM's configuration model. If the upgrade fails, you must be able to
  roll back before the configuration changes impact other sites.</p><ol class="procedure" type="1"><li class="step"><p>Prepare your customized OpenAM server .war file.</p></li><li class="step"><p>Back up the deployment.</p></li><li class="step"><p>Route client application traffic to another site during the upgrade.</p></li><li class="step"><p>For servers in the site, stop OpenAM, or if necessary stop the
   container where OpenAM runs.</p></li><li class="step"><p>For servers in the site, deploy your customized server .war file.</p><p>When you deploy the new .war file, you might have to delete working
   files left by the old installation. For example, if you deploy on Apache
   Tomcat, replacing <code class="filename">/path/to/tomcat/webapps/openam.war</code>,
   then also recursively delete the
   <code class="filename">/path/to/tomcat/webapps/openam/</code>
   and <code class="filename">/path/to/tomcat/work/Catalina/localhost/openam/</code>
   directories before restarting the server.</p></li><li class="step"><p>For servers in the site, restart OpenAM or the container where it runs.</p></li><li class="step"><p>For the first server in the site, follow the instructions in the
   Upgrade Wizard.</p><p>Alternatively, you can use the
   <code class="filename"></code> command-line tool
   to upgrade the server configuration. The procedure, <a href="../install-guide/index.html#install-openam-config-tools" class="link"><em class="citetitle">To Set Up
   Configuration Tools</em></a>, describes how to install the
   tool.</p></li><li class="step"><p>If you want to configure the upgraded system with a different
   directory service for the Core Token Service (CTS), read <a href="../install-guide/index.html#chap-cts" class="link">
   <em class="citetitle">Configuring the Core Token Service</em></a>.</p></li><li class="step"><p>Validate that the service is performing as expected.</p></li><li class="step"><p>Allow client application traffic to flow to the upgraded site.</p></li></ol></div></div><div class="procedure" id="after-upgrading-from-10-1"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;2.2.&nbsp;To Complete Upgrade from OpenAM 10.1.0 Xpress</div><p>When upgrading from OpenAM 10.1.0 Xpress, the upgrade tool does not
   change the Dashboard service LDAP schema, although the object IDs used in
   the Dashboard service LDAP schema definitions are not correct.</p><p>You can fix the object IDs manually using the OpenDJ
   <span class="command"><strong>ldapmodify</strong></span> command. The command is delivered with OpenDJ
   directory server.</p><ol class="procedure" type="1"><li class="step"><p>Update the LDAP schema defined in the OpenDJ directory server where
   OpenAM stores its configuration.</p><p>Make the change on one of the replicated OpenDJ configuration
   directory servers.</p><p>The example command shown below uses the <span class="command"><strong>ldapmodify</strong></span>
   command delivered with the embedded OpenDJ configuration directory server
   for OpenAM with deployment URI <code class="literal">/openam</code>. When you use the
   embedded OpenDJ configuration directory server, the password for the
   <code class="literal">cn=Directory Manager</code> account is the same password used
   by <code class="literal">amadmin</code>.</p><p>The LDAP schema definitions are stored on the LDAP subentry
   with distinguished name <code class="literal">cn=schema</code>. You use the
   following LDIF format definitions to correct the object IDs in the
   definitions.</p><pre class="cmdline prettyprint">$ cd ~/openam/opends/bin
$ cat dash.ldif
dn: cn=schema
changetype: modify
delete: objectClasses
objectClasses: ( 1.3.6.1.4.1.1466.101.120.1433 NAME
  'forgerock-am-dashboard-service' AUXILIARY MAY (
   assignedDashboard ) X-ORIGIN 'Forgerock' )
-
delete: attributeTypes
attributeTypes: ( 1.3.6.1.4.1.36733.2.1.9.2.811 NAME ( 'assignedDashboard' )
  DESC 'Dashboard App registry' SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
  X-ORIGIN 'OpenAM' )
-
add: attributeTypes
attributeTypes: ( 1.3.6.1.4.1.36733.2.2.1.3.1 NAME ( 'assignedDashboard' )
  DESC 'Dashboard App registry' SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
  X-ORIGIN 'OpenAM' )
-
add: objectClasses
objectClasses: ( 1.3.6.1.4.1.36733.2.2.2.3.1 NAME
  'forgerock-am-dashboard-service' AUXILIARY MAY (
  assignedDashboard ) X-ORIGIN 'Forgerock' )

$ ./ldapmodify -p 50389 -D "cn=Directory Manager" -w password -f ./dash.ldif
Processing MODIFY request for cn=schema
MODIFY operation successful for DN cn=schema</pre></li><li class="step"><p>If you want to configure the upgraded system with a different
   directory service for the Core Token Service (CTS), read <a href="../install-guide/index.html#chap-cts" class="link">
   <em class="citetitle">Configuring the Core Token Service</em></a>.</p></li></ol></div></div></div><div lang="en" class="chapter" id="chap-legacy-servers"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;3.&nbsp;Migrating Legacy Servers</h1></div></div></div><p>Rather than upgrade legacy servers (OpenAM 9.0, OpenSSO and Sun Access
 Manager servers), you instead migrate from your existing deployment to a new
 deployment.</p><p>For complex legacy deployments, ForgeRock can assist you in the
 migration process. Send mail to <a class="link" href="mailto:info@forgerock.com" target="_top">info@forgerock.com</a> for more information.</p><div class="procedure" id="upgrade-legacy"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;3.1.&nbsp;To Upgrade A Legacy Deployment</div><ol class="procedure" type="1"><li class="step"><p>Prepare your customized OpenAM server .war file.</p></li><li class="step"><p>Prepare a new deployment, installing servers from the new, customized
   .war file as described in the <em class="citetitle">Installation Guide</em>,
   starting with the instructions in <a href="../install-guide/index.html#chap-install-core" class="link"><em class="citetitle">Installing OpenAM
   Core Services</em></a>.</p></li><li class="step"><p>After installation, configure the new servers in the same way as the
   old servers, adapting as necessary.</p><p>You can use the <span class="command"><strong>ssoadm do-batch</strong></span> command to apply
   multiple changes with one command.</p></li><li class="step"><p>Validate that the new service is performing as expected.</p></li><li class="step"><p>Redirect client application traffic from the old deployment to the new
   deployment.</p></li></ol></div></div></div><div lang="en" class="chapter" id="chap-upgrade-components"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;4.&nbsp;Upgrading OpenAM Components</h1></div></div></div><p>This chapter is concerned with upgrades for policy agents, OpenAM tools,
 and the OpenAM distributed authentication UI.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="#upgrade-web-policy-agents" title="Procedure&nbsp;4.1.&nbsp;To Upgrade Web Policy Agents">Procedure&nbsp;4.1, &#8220;To Upgrade Web Policy Agents&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#upgrade-java-ee-policy-agents" title="Procedure&nbsp;4.2.&nbsp;To Upgrade Java EE Policy Agents">Procedure&nbsp;4.2, &#8220;To Upgrade Java EE Policy Agents&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#upgrade-tools" title="Procedure&nbsp;4.3.&nbsp;To Upgrade OpenAM Tools">Procedure&nbsp;4.3, &#8220;To Upgrade OpenAM Tools&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#upgrade-das" title="Procedure&nbsp;4.4.&nbsp;To Upgrade OpenAM Distributed Authentication Server">Procedure&nbsp;4.4, &#8220;To Upgrade OpenAM Distributed Authentication Server&#8221;</a></p></li></ul></div><div class="procedure" id="upgrade-web-policy-agents"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.1.&nbsp;To Upgrade Web Policy Agents</div><ol class="procedure" type="1"><li class="step"><p>Back up the policy agent installation and configuration directories.</p><p>Also back up the configuration if it is stored centrally in OpenAM.</p></li><li class="step"><p>Redirect client traffic away from the protected application.</p></li><li class="step"><p>Stop the web server where the policy agent is installed.</p></li><li class="step"><p>Extract the new files over the old installation.</p></li><li class="step"><p>Start the web server where the policy agent is installed.</p><p>For new features, the policy agent uses the default configuration
   until you make changes.</p></li><li class="step"><p>Validate that the policy agent is performing as expected.</p></li><li class="step"><p>Allow client traffic to flow to the protected application.</p></li></ol></div></div><div class="procedure" id="upgrade-java-ee-policy-agents"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.2.&nbsp;To Upgrade Java EE Policy Agents</div><ol class="procedure" type="1"><li class="step"><p>Back up the policy agent installation and configuration directories.</p><p>Also back up the configuration if it is stored centrally in OpenAM.</p></li><li class="step"><p>Redirect client traffic away from the protected application.</p></li><li class="step"><p>Uninstall the old policy agent.</p></li><li class="step"><p>Install the new policy agent.</p><p>For new features, the policy agent uses the default configuration
   until you make changes.</p></li><li class="step"><p>Validate that the policy agent is performing as expected.</p></li><li class="step"><p>Allow client traffic to flow to the protected application.</p></li></ol></div></div><div class="procedure" id="upgrade-tools"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.3.&nbsp;To Upgrade OpenAM Tools</div><p>Since OpenAM 10.1, the session tools are no longer needed. Upgrading
  other tools consists of installing new tools and customizing tools scripts
  as necessary.</p><ol class="procedure" type="1"><li class="step"><p>Install new versions of the tools.</p></li><li class="step"><p>Apply any customizations you made to the scripts, referring to the
   old tools installation as necessary.</p></li><li class="step"><p>Once the new tools are working, you can delete the old tools.</p></li></ol></div></div><div class="procedure" id="upgrade-das"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.4.&nbsp;To Upgrade OpenAM Distributed Authentication Server</div><p>If you deployed the distributed authentication server (DAS) .war file,
  then you should upgrade the DAS when you upgrade other OpenAM servers.</p><ol class="procedure" type="1"><li class="step"><p>Redirect client application traffic away from the server.</p></li><li class="step"><p>Stop the DAS or the container in which it runs.</p></li><li class="step"><p>Deploy the new DAS .war file.</p><p>When you deploy the new .war file, you might have to delete working
   files left by the old installation.</p></li><li class="step"><p>Restart the DAS or the container in which it runs.</p></li><li class="step"><p>Validate that the DAS is working as expected.</p></li><li class="step"><p>Allow client application traffic to flow back to the server.</p></li></ol></div></div></div></div><a href="#" class="back-to-top hidden-xs"><button type="button" class="btn btn-primary btn-default"><span class="glyphicon glyphicon-chevron-up"></span></button></a></div></div><div class="footer"><div class="container-fluid"><div class="footer-left"><span class="footer-item">Copyright &copy;
              2011-2013&nbsp;
              ForgeRock AS;&nbsp;
              &nbsp;
              &nbsp;
          </span></div><div class="footer-right"><a target="_blank" class="footer-item snap-left" href="legalnotice.html"><i class="glyphicon glyphicon-briefcase"></i> Legal Notice</a><a target="_blank" class="footer-item snap-left" href="https://github.com/OpenIdentityPlatform/OpenAM/issues"><i class="glyphicon glyphicon-ok-sign"></i> Feedback</a><a target="_blank" class="footer-item snap-left" href="#" data-toggle="modal" data-target="#myModal"><i class="glyphicon glyphicon-info-sign"></i> About</a></div></div></div></body></html>