<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <style type="text/css">
   /*
* The contents of this file are subject to the terms of the Common Development and
* Distribution License (the License). You may not use this file except in compliance with the
* License.
*
* You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the
* specific language governing permission and limitations under the License.
*
* When distributing Covered Software, include this CDDL Header Notice in each file and include
* the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL
* Header, with the fields enclosed by brackets [] replaced by your own identifying
* information: "Portions copyright [year] [name of copyright owner]".
*
* Copyright 2015 ForgeRock AS.
* Portions copyright 2024 3A Systems LLC.
*/

/***********************************/
/* Imported Styles
/***********************************/

@import url(https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,300,400,700);
@import url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css);
@import url(https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css);
/* @import url(https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css); */
@import url(https://cdnjs.cloudflare.com/ajax/libs/jquery.colorbox/1.4.33/example1/colorbox.css);

/***********************************/
/* General Styles
/***********************************/

html {
    height: 100%;
}

body {
    /* Dark Grey */

    color: #2a2f32;
    font-family: 'Open Sans', "proxima-nova", sans-serif;
}

a {
    color: #1e20b4;
}

a:hover, a:focus {
    color: #1e20b4;
}

a.link[href^="http"] {
    background-image: url("includes/logos/Icon_External_Link.png");
    background-position: top right;
    background-repeat: no-repeat;
    padding-right: 15px;
    margin-right: 2px;
}

a.self-link, a.self-link:hover, a.self-link:active {
    color: inherit;
    text-decoration: none;
}

a[href].self-link:hover::after
{
    -moz-osx-font-smoothing: grayscale;
    content: "\e144";
    color: #1e20b4;
    display: inline-block;
    font-family: "Glyphicons Halflings";
    font-size: 75%;
    font-style: normal;
    line-height: 1;
    padding-left: 5px;
    position: relative;
    top: 1px;
}


li.L0,
li.L1,
li.L2,
li.L3,
li.L5,
li.L6,
li.L7,
li.L8 {
    list-style-type: decimal !important
}

.section,
.chapter,
.preface,
.glossary,
.refentry,
.reference,
.appendix,
.index,
.titlepage h2,
.titlepage h3,
.titlepage h4,
.titlepage h5 {
    padding-top: 60px;
    margin-top: -50px;
}

.left-shape-content {
    background: no-repeat scroll 0 0 rgba(0, 0, 0, 0);
    float: left;
    height: 566px;
    position: fixed;
    width: 57px;
    top: 60%;
    z-index: -1;
}

/***********************************/
/* Bootstrap Override Styles
/***********************************/

/* Button Styles */

.btn-primary {
    /* Sea Green */
    background-color: #519387;

    /* Dark Sea Green */
    border-color: #488378;
    color: #fff;
}

.btn-default {
    background-color: #A1A8AD;
    border-color: #8a9298;
    color: #ffffff;
}

.btn-default:hover,
.btn-default:focus,
.btn-default.focus,
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
    background-color: #3f4b54;
    border-color: #1B2025;
    color: #ffffff;
}

/* Tooltip Styles */

.tooltip.in {
    opacity: 0.95;
}

.tooltip.bottom .tooltip-arrow {
    border-bottom-color: #27297e;
}

.tooltip-inner {
    background-color: #27297e;
}

/* List Styles */

.dl-horizontal dt {
    white-space: normal;
    padding: 0 3px 0 0;
    width: 200px;
}

.dl-horizontal dd {
    border-bottom: 1px dotted rgb(125, 179, 168);
    border-bottom: 1px dotted rgba(125, 179, 168, 0.8);
    margin-bottom: 18px;
    margin-left: 210px;
}

.dl-horizontal {
    border-top: 1px dotted rgb(125, 179, 168);
    border-top: 1px dotted rgba(125, 179, 168, 0.9);
    padding-top: 10px;
}

.variablelist dt {
    margin: 18px 0 5px 15px;
}

.variablelist dd {
    border-bottom: 1px dotted rgba(125, 179, 168, 0.8);
    margin: 5px 0 5px 30px;
}

.variablelist > dl {
    border-top: 1px dotted rgba(125, 179, 168, 0.8);
}


/***********************************/
/* Redirect Page Styles
/***********************************/

.index-redirect,
.index-redirect body {
    height: 100%;
    background-color: #333;
    font-family: 'Open Sans', "proxima-nova", sans-serif;
}
.index-redirect body {
    color: #fff;
    text-align: center;
}
.index-redirect .container {
    display: table;
    vertical-align: middle;
    height: 100%;
}
.index-redirect .btn-primary {
    /* Sea Green */
    background-color: #519387;

    /* Dark Sea Green */
    border-color: #488378;
    color: #fff;
}
.index-redirect .cover-heading {
    font-weight: 400 !important;
}
.index-redirect .vertical-center-row {
    display: table-cell;
    vertical-align: middle;
}

/***********************************/
/* Header Styles
/***********************************/

.navbar-brand {
    padding: 7px 15px;
    display: flex;
    align-items: center;
}
.navbar-brand > img {
    height: 100%;
}

.navbar.navbar-inverse.navbar-fixed-top {
    box-shadow: 0 0 10px 2px #111;
}
.nav > li > a {
    font-weight: 200;
}

/***********************************/
/* Banner Styles
/***********************************/

.jumbotron {
    /* Sea Green */
    background: no-repeat scroll left top #00013c;
    color: white;
    box-shadow: 0 0 10px 2px grey;
    margin-top: 50px;
    padding: 0 0 10px;
}
.jumbotron small {
    color: white;
}
.jumbotron p {
    font-size: 12px;
    font-weight: 400;
    margin-bottom: 5px;
}
.jumbotron h1 {
    font-size: 23px !important;
    font-weight: 300 !important;
}

/***********************************/
/* Table of Contents Styles
/***********************************/

#sidebar .nav>li>a {
    /* Light Grey */

    color: #777;
    border-left: 4px solid transparent;
    padding: 4px 10px;
    font-size: 13px;
    font-weight: 400;
}
/* nested links */

#sidebar .nav .nav>li>a {
    padding-top: 2px;
    padding-bottom: 2px;
    padding-left: 30px;
    font-size: 12px;
}
/* nested nested links */

#sidebar .nav .nav .nav>li>a {
    font-size: 11px;
    padding-bottom: 2px;
    padding-left: 50px;
    padding-top: 4px;
}
/* nested nested nested links */

#sidebar .nav .nav .nav .nav>li>a {
    font-size: 11px;
    padding-bottom: 2px;
    padding-left: 70px;
    padding-top: 4px;
}
/* active and hover links */

#sidebar .nav>.active>a,
#sidebar .nav>.locked-active>a,
#sidebar .nav>li>a:hover,
#sidebar .nav>li>a:focus {
    text-decoration: none;
    /*
    background-color: rgb(125, 179, 168, 0.8);
    background-color: rgba(125, 179, 168, 0.8);
    border-color: rgb(45, 52, 55, 0.8);
    border-color: rgba(45, 52, 55, 0.8);
    color: white;
    */
    /* Bright Yellow */

    background-color: #e2e2fe;
    border-color: #e2e2fe;
    /* Grey */

    color: #2a2f32;
}
/* all active links */

#sidebar .nav>.active>a,
#sidebar .nav>.active:hover>a,
#sidebar .nav>.active:focus>a {
    font-weight: 600;
}
/* nested active links */

#sidebar .nav .nav>.active>a,
#sidebar .nav .nav>.active:hover>a,
#sidebar .nav .nav>.active:focus>a {
    font-weight: 400;
}
/* nested nested active links */

#sidebar .nav .nav .nav>.active>a,
#sidebar .nav .nav .nav>.active:hover>a,
#sidebar .nav .nav .nav>.active:focus>a {
    font-weight: 300;
}
/* nested nested active links */

#sidebar .nav .nav .nav>.active>a,
#sidebar .nav .nav .nav>.active:hover>a,
#sidebar .nav .nav .nav>.active:focus>a {
    font-weight: 300;
}
/* hide all (inactive) nested list */

#sidebar .nav ul.nav {
    display: none;
}
/* show active nested list */

#sidebar .nav>.active>ul.nav {
    display: block;
}
#sidebar.affix {
    top: 66px;
    position: fixed;
    bottom: 30px;
    height: auto;
    overflow-y: scroll;
}
#sidebar.affix-bottom {
    position: absolute;
}

/***********************************/
/* Content Styles
/***********************************/

/* Main Content Styles */

h1 {
    font-size: 40px !important;
    font-weight: 700 !important;
}

h1 span {
    margin-right: .3em;
}

#doc-content h1,
#doc-content .h1 {
    /* Sea Green */
    border-bottom: 2px solid #27297e;
    font-size: 36px;
    margin-top: 24px;
    padding-bottom: 5px;
}

h2 {
    font-size: 32px !important;
    font-weight: 700 !important;
}

h5, .h5 {
    border-bottom: 1px solid #d3d3d3;
    font-size: 16px;
    padding-bottom: 4px;
    font-style: italic;
}

.anchorjs-link .anchorjs-icon {
    color: #A1A8AD;
    text-decoration: none;
}
.anchorjs-link:hover .anchorjs-icon {
    color: #519387;
    text-decoration: none;
}

h1:hover > .anchorjs-link,
h2:hover > .anchorjs-link,
h3:hover > .anchorjs-link,
h4:hover > .anchorjs-link,
h5:hover > .anchorjs-link,
.anchorjs-link:focus {
    opacity: 1 !important;
    transition: color 0.16s linear 0s;
    text-decoration: none;
}

.chapter > p:first-of-type,
.preface > p:first-of-type {
    font-size: 21px;
    font-weight: 300;
    line-height: 1.4;
    margin-bottom: 20px;
}

#doc-content {
    padding: 0 20px 85px 10px;
}

div.procedure, div.table {
    margin-top:-50px;
    padding-top: 60px;
}

div.procedure-title, div.table-title {
    margin: 6px 0 8px;
}

div.procedure-inner {
    border-color: lightslategray;
    border-left: 6px solid lightslategray;
    border-style: dotted dotted dotted solid;
    border-width: 1px 1px 1px 6px;
    margin: 15px 0 10px;
    padding: 10px 15px 10px 10px;
}

.author {
    display: inline;
}

.table {
    font-size: 14px;
}

div.simplelist {
    margin-bottom: 10px;
    width: 100%;
    font-size: 15px;
}

/* Title Styles */

.procedure-title > a, .procedure-title > a:hover {
    color: lightslategray;
    font-size: 14pt;
    font-weight: 400;
}

.itemizedlist-title {
    font-size: 18px;
    font-weight: 600;
    margin: 12px 0 6px;
}

.figure-title {
    font-weight: bold;
    margin: 16px 0 4px;
    text-align: center;
}

.table-title {
    font-size: 12pt;
    font-weight: 700;
}

.variablelist-title {
    font-weight: bold;
    margin: 10px 0;
    text-decoration: underline;
}

/* Code Styles */

.btn-copy-cmdline,
.btn-copy-codelisting {
    /* White */

    background-color: #fff;
    /* Light Grey */

    border: 1px solid #e1e1e8;
    border-radius: 0 4px;
    color: #777;
    display: block;
    font-size: 12px;
    padding: 5px 8px;
    position: absolute;
    right: 5px;
    top: 5px;
    z-index: 10;
}

pre.prettyprint {
    border: 1px solid #ccc;
    padding: 9.5px;
    font-size: 12px;
}

.zero-clipboard {
    display: block;
    position: relative;
}
.zeroclipboard-is-hover {
    /* Light Sea Green */

    background-color: #6faa9b;
    border-color: #6faa9b;
    color: #fff;
    cursor: pointer;
}

.ui-effects-transfer {
    border: 1px dotted black;
    background-color: yellow;
    opacity: 0.4;
}

/* Modal Dialog Styles */

#doc-content .modal h1.title {
    font-size: 40px !important;
    font-weight: 500 !important;
    margin: 14px 0 5px;
}
#doc-content .modal h2.subtitle {
    font-size: 26px !important;
    font-weight: 400 !important;
    margin-bottom: 26px;
}
#doc-content .modal h3.author {
    font-size: 14px !important;
    font-style: italic;
    font-weight: 100 !important;
    margin: 4px 0 5px 18px;
}
#doc-content .modal .affiliation .orgname {
    display: block;
    font-size: 20px !important;
    font-weight: 400 !important;
    margin: 20px 0 0 0;
}
#doc-content .modal .affiliation .address p {
    font-size: 16px !important;
    font-weight: 100 !important;
    margin: 4px 0;
}
#doc-content .modal .copyright {
    display: none;
}
#doc-content .modal .copyright {
    display: none;
}
#doc-content .modal .abstract .abstract-title {
    font-size: 20px !important;
    font-weight: 400 !important;
}
#doc-content .modal .abstract > p {
    margin: 10px 0 5px 20px;
    font-size: 16px !important;
    font-weight: 100 !important;
}

/* Image Styles */

.fancybox > img {
    cursor: zoom-in;
}
a.fancybox {
    text-decoration: none;
}

#cboxTitle {
    color: #519387;
    font-size: 14px;
    font-weight: 700;
}

#cboxOverlay{
    background: none repeat scroll 0 0 rgba(66, 130, 116, 0.6);
}

img.img-responsive {
    margin-bottom: 20px;
}

/* Index Styles */

.indexdiv > h3 {
    border-bottom: 2px dotted lightgrey;
    padding-bottom: 5px;
}
.indexdiv > dl {
    margin-left: 30px;
}
.indexdiv dl {
    margin-bottom: 5px;
}
.indexdiv dt {
    margin: 5px 0 2px;
}
.indexdiv dd {
    margin-left: 35px;
}
.indexdiv .indexterm {
    font-weight: 200;
}

/* Reference Styles */

.refnamediv h2 {
    display: none;
}

.refsect1 h2,
.refsynopsisdiv h2 {
    font-size: 20px !important;
    font-weight: 400 !important;
}

.refnamediv p {
    font-size: 32px !important;
    font-weight: 700 !important;
}

/***********************************/
/* Footer Styles
/***********************************/

.back-to-top {
    position: fixed;
    bottom: 55px;
    right: 5px;
    display: none;
    z-index: 15;
}

#footer {
    display: none;
}

.footer {
    /* Light Grey */
    background-color: #f5f5f5;

    /* Medium Grey */
    border-top: 1px solid #ACB5BD;
    bottom: 0;
    font-size: 12px;
    height: 30px;
    padding-top: 4px;
    position: fixed;
    width: 100%;
    z-index: 100;
}

.footer h3 {
    margin: 0;
}

.footer a:hover {
    text-decoration: none;
}

.footer-item {
    line-height: 22px;
    margin-left: 10px;
}

.footer-item.highlighted {
    /* Orange */
    color: #f7a540;
}

.footer-item.highlighted:hover {
    /* Dark Orange */
    color: #c97208;
}

.footer span {
    /* Grey */
    color: #2a2f32;
    margin-bottom: 0;
}

.footer .footer-left {
    float: left;
}

.footer .footer-right {
    float: right;
}

/***********************************/
  </style><meta name="viewport" content="width=device-width, initial-scale=1"><title>OpenDJ Administration Guide</title><script src="https://code.jquery.com/jquery-1.11.2.min.js" type="text/javascript"></script><script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js" type="text/javascript"></script><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="description" content="Hands-on guide to configuring and using OpenDJ features. The OpenDJ project offers open source LDAP directory services in Java."><script type="text/javascript">
     /*
 * The contents of this file are subject to the terms of the Common Development and
 * Distribution License (the License). You may not use this file except in compliance with the
 * License.
 *
 * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the
 * specific language governing permission and limitations under the License.
 *
 * When distributing Covered Software, include this CDDL Header Notice in each file and include
 * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL
 * Header, with the fields enclosed by brackets [] replaced by your own identifying
 * information: "Portions copyright [year] [name of copyright owner]".
 *
 * Copyright 2015 ForgeRock AS.
 */

//

var loadJavaScriptsFN = function () {
    $.ajaxSetup({ cache: true });
    $.getScript("http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js", function () { prettyPrint() });
    $.getScript("http://cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.2.0/ZeroClipboard.min.js", function () {enableZeroClipboardFN() });
    $.getScript("http://cdnjs.cloudflare.com/ajax/libs/jquery.colorbox/1.4.33/jquery.colorbox-min.js", function () { enableColorboxFN() });
};

var wrapConfigurablesFn = function () {
    $('*:contains("https://openam.example.com:8443")').each(function(){
        if($(this).children().length < 1)
            $(this).html(
                $(this).text().replace(new RegExp("https://openam.example.com:8443", 'g'),'<span class="exampleUrl">https://openam.example.com:8443</span>')
            )
    });
    $('*:contains("amadmin")').each(function(){
        if($(this).children().length < 1)
            $(this).html(
                $(this).text().replace(new RegExp("amadmin", 'g'),'<span class="exampleAdmin">amadmin</span>')
            )
    });
    $('*:contains("iPlanetDirectoryPro")').each(function(){
        if($(this).children().length < 1)
            $(this).html(
                $(this).text().replace(new RegExp("iPlanetDirectoryPro", 'g'),'<span class="exampleSsoCookieName">iPlanetDirectoryPro</span>')
            )
    });
};

var btnClickHandler = function () {
    $("button#applyDocUpdate").click(function(){

        $('span.exampleUrl').fadeOut("slow", function(){
            $('span.exampleUrl').text($("input#exampleUrl").val());
            $('span.exampleUrl').fadeIn("slow");
        });

        $('span.exampleAdmin').fadeOut("slow", function(){
            $('span.exampleAdmin').text($("input#exampleAdmin").val());
            $('span.exampleAdmin').fadeIn("slow");
        });

        $('span.exampleSsoCookieName').fadeOut("slow", function(){
            $('span.exampleSsoCookieName').text($("input#exampleSsoCookieName").val());
            $('span.exampleSsoCookieName').fadeIn("slow");
        });

        $('#docConfig').modal('hide');
    });
};


var addCopyButtonFN = function () {
    $( ".cmdline" ).each(function() {
        $(this).before('<div class="zero-clipboard hidden-xs"><span class="btn-copy-cmdline"><span class="glyphicon glyphicon-pencil"></span> Copy<span class="hidden-sm"> command to clipboard</span></span></div>');
    });

    $( ".codelisting" ).each(function() {
        $(this).before('<div class="zero-clipboard hidden-xs"><span class="btn-copy-codelisting"><span class="glyphicon glyphicon-pencil"></span> Copy<span class="hidden-sm"> code to clipboard</span></span></div>');
    });
};
var enableScrollSpyFN = function () {
    $('body').scrollspy({
        target: '#sidebar',
        offset: 16
    });
};

var enableToolTipFN = function () {
    $(function () {
        $("[data-toggle='tooltip']").tooltip({placement: 'bottom'});
    });
};

var enableBackToTopFadeInFN = function () {
    var offset = 220;
    var duration = 500;
    $(window).scroll(function() {
        if ($(this).scrollTop() > offset) {
            $('.back-to-top').fadeIn(duration);
        } else {
            $('.back-to-top').fadeOut(duration);
        }
    });

    $('.back-to-top').click(function(event) {
        event.preventDefault();
        $('html, body').animate({scrollTop: 0}, duration);
        return false;
    })
};

var enableClampedWidthsFN = function () {

    /*
     * Clamped-width.
     * Usage:
     *  <div data-clampedwidth=".myParent">This long content will force clamped width</div>
     *
     * Author: LV
     */
    $('[data-clampedwidth]').each(function () {
        var elem = $(this);
        var parentPanel = elem.data('clampedwidth');
        var resizeFn = function () {
            var sideBarNavWidth = $(parentPanel).width() - parseInt(elem.css('paddingLeft')) - parseInt(elem.css('paddingRight')) - parseInt(elem.css('marginLeft')) - parseInt(elem.css('marginRight')) - parseInt(elem.css('borderLeftWidth')) - parseInt(elem.css('borderRightWidth'));
            elem.css('width', sideBarNavWidth);
        };

        resizeFn();
        $(window).resize(resizeFn);
    });
};

var affixToCFN = function() {
    $('#sidebar').affix({
        offset: {
            top: function () {
                return (this.top = $('.jumbotron').outerHeight(true)-66)
            }
        }
    });
};

var attachAnchorsToHeadings = function() {
    //addAnchors('h1.title, h2.title, h3.title, h4.title, h5.title');


    $('h1.title, h2.title, h3.title, h4.title, h5.title, .procedure-title, .table-title').each(function () {

        var href = $(this).closest("div[id]").attr("id");

        if (href === undefined || href === "") { // Unable to locate ID of parent element.
            return;
        }

        $(this).wrapInner('<a class=\"self-link" href=\"#' + href + '\"></a>');

    });
};

var addZeroClipboardToCmdlineButtonsFN = function () {
    var copycmdline = new ZeroClipboard( $('.btn-copy-cmdline') );

    copycmdline.on( 'ready', function(event) {
        // console.log( 'movie is loaded' );

        copycmdline.on( 'copy', function(event) {
            var wrappedText = "";
            $(event.target).parent().next().find("strong").each(function(index) {
                wrappedText += $(this).text() + "\n";
            });
            event.clipboardData.setData('text/plain', wrappedText);
        });

        copycmdline.on( 'aftercopy', function(event) {
            // console.log('Copied to clipboard: ' + event.data['text/plain']);
            $(event.target).parent().next().find("strong").each(function(index) {
                $(this).effect("transfer", { to: $(event.target)}, 750);
            });
        });
    });

    copycmdline.on( 'error', function(event) {
        console.log( 'ZeroClipboard error of type "' + event.name + '": ' + event.message );
        ZeroClipboard.destroy();
    });
};

var addZeroClipboardToCodeButtonsFN = function () {
    var copycodelisting = new ZeroClipboard( $('.btn-copy-codelisting') );

    copycodelisting.on( 'ready', function(event) {
        //console.log( 'movie is loaded' );

        copycodelisting.on( 'copy', function(event) {
            var wrappedText = "";
            $(event.target).parent().next(".codelisting.linenums").children().contents().each(function(index) {
                wrappedText += $(this).text() + "\n";
            });
            if(wrappedText == "") {
                wrappedText = $(event.target).parent().next(".codelisting").contents().text();
            };
            event.clipboardData.setData('text/plain', wrappedText);
        });

        copycodelisting.on( 'aftercopy', function(event) {
            // console.log('Copied code to clipboard: ' + event.data['text/plain']);
            $(event.target).parent().next(".codelisting").first().effect("transfer", { to: $(event.target)}, 750);
        });
    });

    copycodelisting.on( 'error', function(event) {
        console.log( 'ZeroClipboard error of type "' + event.name + '": ' + event.message );
        ZeroClipboard.destroy();
    });
};

var enableColorboxFN = function () {
    $(".fancybox").colorbox({
        title: function() {
            return $(this).children('img').attr('alt');
        },
        opacity: 1,
        transition:"elastic",
        initialWidth: 0,
        initialHeight: 0,
        maxWidth:"95%",
        maxHeight: "95%",
        scalePhotos: true,
        fixed: true
    });
};

var trackPageViewsFN = function () {

    $("a").click(function() {
        var href = $(this).attr('href');
        if(href) {
            var titleText =  $(this).text();
            if(href.charAt(0) === '#') {
                ga('send', {
                    'hitType': 'pageview',
                    'page': location.pathname + location.search + href,
                    'title': titleText
                });
            };
            if(href.charAt(0) === '.') {
                var lastHashPos = href.lastIndexOf('#');
                var cleanHref = href.slice(3,lastHashPos);
                var cleanFrag = href.slice(lastHashPos);
                if(window.location.href.search(cleanHref) > -1)
                {
                    ga('send', {
                        'hitType': 'pageview',
                        'page': location.pathname + location.search + cleanFrag,
                        'title': titleText
                    });
                }
            };
        }
    });
};

var enableZeroClipboardFN = function () {
    ZeroClipboard.config({
            swfPath:  "includes/swf/ZeroClipboard.swf",
            trustedDomains: ["*"],
            forceEnhancedClipboard: false,
            forceHandCursor: true,
            debug: false}
    );
    addCopyButtonFN();
    addZeroClipboardToCmdlineButtonsFN();
    addZeroClipboardToCodeButtonsFN();
};

$(document).ready(function() {
    //wrapConfigurablesFn();
    btnClickHandler();
    enableToolTipFN();
    enableBackToTopFadeInFN();
    enableClampedWidthsFN();
    enableScrollSpyFN();
    affixToCFN();
    attachAnchorsToHeadings();
    trackPageViewsFN();
    loadJavaScriptsFN();
});

//

    </script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navbar navbar-inverse navbar-fixed-top"><nav class="container-fluid"><div class="navbar-header"><a href="/" class="navbar-brand"><span>Open Identity Platform</span></a></div><ul id="pdf-link" class="nav navbar-nav navbar-right hidden-xs"><li><a href="https://github.com/OpenIdentityPlatform/OpenDJ/wiki/docbkx/pdf/OpenDJ-Admin-Guide.pdf" target="_blank"><span class="glyphicon glyphicon-save"></span> Download PDF Version</a></li></ul></nav></div><div class="jumbotron"><div class="container-fluid"><h1>OpenDJ Administration Guide<span></span><small>Version 4.8.1-SNAPSHOT</small></h1><p>Hands-on guide to configuring and using OpenDJ features. The OpenDJ
   project offers open source LDAP directory services in Java.</p></div></div><div class="left-shape-content"></div><div class="container-fluid"><div class="row"><div class="col-sm-3 hidden-xs"><div id="sidebar" data-clampedwidth=".col-sm-3"><h4 class="toc-title">OpenDJ Administration Guide<br><small class="toc-subtitle">Version 4.8.1-SNAPSHOT</small></h4><ul class="nav nav-stacked"><li><a href="#preface">Preface</a><ul class="nav nav-stacked"><li><a href="#d0e164">1. Who Should Read this Guide</a></li><li><a href="#formatting-conventions">2. Formatting Conventions</a></li><li><a href="#accessing-doc-online">3. Accessing Documentation Online</a></li><li><a href="#joining-the-community">4. Joining the Open Identity Platform Community</a></li></ul></li><li><a href="#chap-admin-tools">1. Administration Interfaces &amp; Tools</a><ul class="nav nav-stacked"><li><a href="#control-panel">1.1. Control Panel</a></li><li><a href="#cli-overview">1.2. Command-Line Tools</a></li></ul></li><li><a href="#chap-server-process">2. Managing Server Processes</a><ul class="nav nav-stacked"><li><a href="#start-server">2.1. Starting a Server</a></li><li><a href="#stop-server">2.2. Stopping a Server</a></li><li><a href="#restart-server">2.3. Restarting a Server</a></li><li><a href="#crash-recovery">2.4. Server Recovery</a></li></ul></li><li><a href="#chap-import-export">3. Importing &amp; Exporting LDIF Data</a><ul class="nav nav-stacked"><li><a href="#generating-ldif">3.1. Generating Test Data</a></li><li><a href="#importing-exporting-ldif">3.2. Importing &amp; Exporting Data</a></li><li><a href="#ldif-tools">3.3. Other Tools For Working With LDIF Data</a><ul class="nav nav-stacked"><li><a href="#ldifsearch-example">3.3.1. Searching in LDIF With <span class="command"><strong>ldifsearch</strong></span></a></li><li><a href="#ldifmodify-example">3.3.2. Updating LDIF With <span class="command"><strong>ldifmodify</strong></span></a></li><li><a href="#ldif-diff-example">3.3.3. Comparing LDIF With <span class="command"><strong>ldif-diff</strong></span></a></li></ul></li><li><a href="#create-database-backend">3.4. Creating a New Database Backend</a></li><li><a href="#delete-database-backend">3.5. Deleting a Database Backend</a></li></ul></li><li><a href="#chap-connection-handlers">4. Configuring Connection Handlers</a><ul class="nav nav-stacked"><li><a href="#configure-ldap-port">4.1. LDAP Client Access</a></li><li><a href="#setup-server-cert">4.2. Preparing For Secure Communications</a></li><li><a href="#configure-starttls">4.3. LDAP Client Access With Transport Layer Security</a></li><li><a href="#configure-ssl">4.4. LDAP Client Access Over SSL</a></li><li><a href="#restrict-clients">4.5. Restricting Client Access</a></li><li><a href="#tls-protocols-cipher-suites">4.6. TLS Protocols &amp; Cipher Suites</a></li><li><a href="#setup-rest2ldap">4.7. RESTful Client Access</a></li><li><a href="#setup-dsml">4.8. DSML Client Access</a></li><li><a href="#jmx-access">4.9. JMX Client Access</a></li><li><a href="#ldif-access">4.10. LDIF File Access</a></li><li><a href="#snmp-access">4.11. SNMP Access</a></li></ul></li><li><a href="#chap-privileges-acis">5. Configuring Privileges &amp; Access Control</a><ul class="nav nav-stacked"><li><a href="#about-acis">5.1. About Access Control Instructions</a><ul class="nav nav-stacked"><li><a href="#aci-targets">5.1.1. ACI Targets</a></li><li><a href="#aci-permissions">5.1.2. ACI Permissions</a></li><li><a href="#aci-subjects">5.1.3. ACI Subjects</a></li><li><a href="#aci-evaluation">5.1.4. How ACI is Evaluated</a></li><li><a href="#aci-required">5.1.5. ACI Required For LDAP Operations</a></li></ul></li><li><a href="#about-privileges">5.2. About Privileges</a></li><li><a href="#configure-privileges">5.3. Configuring Privileges</a></li><li><a href="#configure-acis">5.4. Configuring Access Control</a></li><li><a href="#get-effective-rights">5.5. Viewing Effective Rights</a></li></ul></li><li><a href="#chap-ldap-operations">6. Performing LDAP Operations</a><ul class="nav nav-stacked"><li><a href="#search-ldap">6.1. Searching the Directory</a></li><li><a href="#compare-ldap">6.2. Comparing Attribute Values</a></li><li><a href="#write-ldap">6.3. Updating the Directory</a><ul class="nav nav-stacked"><li><a href="#add-ldap">6.3.1. Adding Entries</a></li><li><a href="#modify-ldap">6.3.2. Modifying Entry Attributes</a></li><li><a href="#filter-adds-modifies">6.3.3. Filtering Add &amp; Modify Operations</a></li><li><a href="#rename-ldap">6.3.4. Renaming Entries</a></li><li><a href="#rename-moddn">6.3.5. Moving Entries</a></li><li><a href="#delete-ldap">6.3.6. Deleting Entries</a></li></ul></li><li><a href="#change-password">6.4. Changing Passwords</a></li><li><a href="#tools-properties">6.5. Configuring Default Settings</a></li><li><a href="#client-auth">6.6. Authenticating To the Directory Server</a></li><li><a href="#proxied-authz">6.7. Configuring Proxied Authorization</a></li><li><a href="#client-cert-auth">6.8. Authenticating Using a Certificate</a></li></ul></li><li><a href="#chap-rest-operations">7. Performing RESTful Operations</a><ul class="nav nav-stacked"><li><a href="#understand-rest">7.1. Understanding the OpenDJ REST API</a></li><li><a href="#authenticate-rest">7.2. Authenticating Over REST</a></li><li><a href="#create-rest">7.3. Creating Resources</a></li><li><a href="#read-rest">7.4. Reading a Resource</a></li><li><a href="#update-rest">7.5. Updating Resources</a></li><li><a href="#delete-rest">7.6. Deleting Resources</a></li><li><a href="#patch-rest">7.7. Patching Resources</a></li><li><a href="#action-rest">7.8. Using Actions</a></li><li><a href="#query-rest">7.9. Querying Resource Collections</a></li><li><a href="#modifyPassword">7.10. Change Your Password</a></li><li><a href="#resetPassword">7.11. Reset a Password</a></li></ul></li><li><a href="#chap-indexing">8. Indexing Attribute Values</a><ul class="nav nav-stacked"><li><a href="#indexes-overview">8.1. Index Types &amp; What Each Does</a><ul class="nav nav-stacked"><li><a href="#indexes-approximate">8.1.1. Approximate Index</a></li><li><a href="#indexes-equality">8.1.2. Equality Index</a></li><li><a href="#indexes-ordering">8.1.3. Ordering Index</a></li><li><a href="#indexes-presence">8.1.4. Presence Index</a></li><li><a href="#indexes-substring">8.1.5. Substring Index</a></li><li><a href="#indexes-vlv">8.1.6. Virtual List View (Browsing) Index</a></li><li><a href="#indexes-extensible">8.1.7. Extensible Matching Rule Index</a></li></ul></li><li><a href="#configure-indexes">8.2. Configuring &amp; Rebuilding Indexes</a><ul class="nav nav-stacked"><li><a href="#configure-standard-index">8.2.1. Configuring a Standard Index</a></li><li><a href="#configure-vlv">8.2.2. Configuring a Virtual List View Index</a></li><li><a href="#rebuild-index">8.2.3. Rebuilding Indexes</a></li><li><a href="#index-entry-limits">8.2.4. Changing Index Entry Limits</a></li></ul></li><li><a href="#verify-index">8.3. Verifying Indexes</a></li><li><a href="#debug-search-indexes">8.4. Checking Indexes For a Search</a></li><li><a href="#default-indexes">8.5. Default Indexes</a></li></ul></li><li><a href="#chap-replication">9. Managing Data Replication</a><ul class="nav nav-stacked"><li><a href="#repl-quick-setup">9.1. Replication Quick Setup</a></li><li><a href="#about-repl">9.2. About Replication</a><ul class="nav nav-stacked"><li><a href="#repl-what-it-is">9.2.1. What Replication Is</a></li><li><a href="#repl-per-suffix">9.2.2. Replication Per Suffix</a></li><li><a href="#repl-connection-selection">9.2.3. Replication Connection Selection</a></li></ul></li><li><a href="#configure-repl">9.3. Configuring Replication</a><ul class="nav nav-stacked"><li><a href="#enable-repl">9.3.1. Enabling Replication</a></li><li><a href="#init-repl">9.3.2. Initializing Replicas</a></li><li><a href="#stop-repl">9.3.3. Stopping Replication</a></li><li><a href="#repl-dedicated-servers">9.3.4. Stand-alone Replication Servers</a></li><li><a href="#repl-groups">9.3.5. Replication Groups</a></li><li><a href="#read-only-repl">9.3.6. Read-Only Replicas</a></li><li><a href="#repl-assured">9.3.7. Assured Replication</a></li><li><a href="#repl-subtree">9.3.8. Subtree Replication</a></li><li><a href="#repl-fractional">9.3.9. Fractional Replication</a></li></ul></li><li><a href="#repl-change-notification">9.4. Change Notification For Your Applications</a></li></ul></li><li><a href="#chap-backup-restore">10. Backing Up &amp; Restoring Data</a><ul class="nav nav-stacked"><li><a href="#backup">10.1. Backing Up Directory Data</a></li><li><a href="#restore-data">10.2. Restoring Directory Data From Backup</a></li></ul></li><li><a href="#chap-pwd-policy">11. Configuring Password Policy</a><ul class="nav nav-stacked"><li><a href="#pwp-overview">11.1. About OpenDJ Password Policies</a><ul class="nav nav-stacked"><li><a href="#pwp-per-server">11.1.1. Server Based Password Policies</a></li><li><a href="#pwp-replicated">11.1.2. Subentry Based Password Policies</a></li><li><a href="#pwp-application">11.1.3. Which Password Policy Applies</a></li></ul></li><li><a href="#configure-pwp">11.2. Configuring Password Policies</a></li><li><a href="#assign-pwp">11.3. Assigning Password Policies</a></li><li><a href="#configure-pwd-generation">11.4. Configuring Password Generation</a></li><li><a href="#configure-pwd-storage">11.5. Configuring Password Storage</a></li><li><a href="#configure-pwd-validation">11.6. Configuring Password Validation</a></li></ul></li><li><a href="#chap-account-lockout">12. Implementing Account Lockout &amp; Notification</a><ul class="nav nav-stacked"><li><a href="#configure-account-lockout">12.1. Configuring Account Lockout</a></li><li><a href="#manage-accounts">12.2. Managing Accounts Manually</a></li><li><a href="#account-status-notification">12.3. Managing Account Status Notification</a></li></ul></li><li><a href="#chap-resource-limits">13. Setting Resource Limits</a><ul class="nav nav-stacked"><li><a href="#limit-search-resources">13.1. Limiting Search Resources</a></li><li><a href="#limit-idle-time">13.2. Limiting Idle Time</a></li><li><a href="#limit-max-request-size">13.3. Limiting Maximum Request Size</a></li></ul></li><li><a href="#chap-groups">14. Working With Groups of Entries</a><ul class="nav nav-stacked"><li><a href="#static-groups">14.1. Creating Static Groups</a></li><li><a href="#dynamic-groups">14.2. Creating Dynamic Groups</a></li><li><a href="#virtual-static-groups">14.3. Creating Virtual Static Groups</a></li><li><a href="#group-membership">14.4. Looking Up Group Membership</a></li><li><a href="#referential-integrity">14.5. Configuring Referential Integrity</a></li></ul></li><li><a href="#chap-attribute-uniqueness">15. Implementing Attribute Value Uniqueness</a></li><li><a href="#chap-schema">16. Managing Schema</a><ul class="nav nav-stacked"><li><a href="#about-schema">16.1. About Directory Schema</a></li><li><a href="#update-schema">16.2. Updating Directory Schema</a></li><li><a href="#schema-legacy-support">16.3. Relaxing Schema Checking to Import Legacy Data</a></li><li><a href="#standard-schema">16.4. Standard Schema Included With OpenDJ</a></li></ul></li><li><a href="#chap-referrals">17. Working With Referrals</a><ul class="nav nav-stacked"><li><a href="#referrals-overview">17.1. About Referrals</a></li><li><a href="#managing-referrals">17.2. Managing Referrals</a></li></ul></li><li><a href="#chap-virtual-attrs-collective-attrs">18. Working With Virtual and Collective Attributes</a><ul class="nav nav-stacked"><li><a href="#virtual-attributes">18.1. Virtual Attributes</a></li><li><a href="#collective-attributes">18.2. Collective Attributes</a></li></ul></li><li><a href="#chap-pta">19. Configuring Pass Through Authentication</a><ul class="nav nav-stacked"><li><a href="#about-pta">19.1. About Pass Through Authentication</a></li><li><a href="#configure-pta">19.2. Setting Up Pass Through Authentication</a></li><li><a href="#assigning-pta">19.3. Assigning Pass Through Authentication Policies</a></li></ul></li><li><a href="#chap-samba">20. Samba Password Synchronization</a></li><li><a href="#chap-monitoring">21. Monitoring, Logging, &amp; Alerts</a><ul class="nav nav-stacked"><li><a href="#ldap-monitoring">21.1. LDAP-Based Monitoring</a></li><li><a href="#snmp-monitoring">21.2. SNMP-Based Monitoring</a></li><li><a href="#jmx-monitoring">21.3. JMX-Based Monitoring</a></li><li><a href="#monitoring-status-and-tasks">21.4. Server Operation &amp; Tasks</a></li><li><a href="#logging">21.5. Server Logs</a><ul class="nav nav-stacked"><li><a href="#log-rotation">21.5.1. Log Rotation &amp; Retention</a></li><li><a href="#log-filtering">21.5.2. Log Filtering</a></li></ul></li><li><a href="#alert-notifications">21.6. Alert Notifications</a></li></ul></li><li><a href="#chap-tuning">22. Tuning Servers For Performance</a><ul class="nav nav-stacked"><li><a href="#perf-define-starting-points">22.1. Defining Performance Requirements &amp; Constraints</a><ul class="nav nav-stacked"><li><a href="#perf-sla">22.1.1. Service-Level Agreements</a></li><li><a href="#perf-constraints">22.1.2. Available Resources</a><ul class="nav nav-stacked"><li><a href="#perf-hardware">22.1.2.1. Server Hardware Recommendations</a></li><li><a href="#perf-storage">22.1.2.2. Storage Recommendations</a></li></ul></li></ul></li><li><a href="#perf-testing">22.2. Testing Performance</a></li><li><a href="#perf-tweaking">22.3. Tweaking OpenDJ Performance</a><ul class="nav nav-stacked"><li><a href="#perf-java">22.3.1. Java Settings</a></li><li><a href="#perf-data-storage">22.3.2. Data Storage Settings</a></li><li><a href="#perf-import">22.3.3. LDIF Import Settings</a></li><li><a href="#perf-db-cache">22.3.4. Database Cache Settings</a></li><li><a href="#perf-entry-cache">22.3.5. Entry Cache Settings</a></li><li><a href="#perf-logging">22.3.6. Logging Settings</a></li></ul></li></ul></li><li><a href="#chap-change-certs">23. Changing Server Certificates</a></li><li><a href="#chap-mv-servers">24. Moving Servers</a><ul class="nav nav-stacked"><li><a href="#moving-servers-overview">24.1. Overview</a></li><li><a href="#before-moving-servers">24.2. Before You Move</a></li><li><a href="#moving-servers">24.3. Moving a Server</a></li></ul></li><li><a href="#chap-troubleshooting">25. Troubleshooting Server Problems</a><ul class="nav nav-stacked"><li><a href="#troubleshoot-identify-problem">25.1. Identifying the Problem</a></li><li><a href="#troubleshoot-installation">25.2. Troubleshooting Installation &amp; Upgrade</a></li><li><a href="#troubleshoot-reset-admin-passwords">25.3. Resetting Administrator Passwords</a></li><li><a href="#troubleshoot-enable-debug-logging">25.4. Enabling Debug Logging</a></li><li><a href="#troubleshoot-use-lockdown-mode">25.5. Preventing Access While You Fix Issues</a></li><li><a href="#troubleshoot-import">25.6. Troubleshooting LDIF Import</a></li><li><a href="#troubleshoot-secure-connections">25.7. Troubleshooting TLS/SSL Connections</a><ul class="nav nav-stacked"><li><a href="#troubleshoot-certificate-authentication">25.7.1. Troubleshooting Certificates &amp; SSL Authentication</a></li><li><a href="#troubleshoot-compromised-key">25.7.2. Handling Compromised Keys</a></li></ul></li><li><a href="#troubleshoot-connections">25.8. Troubleshooting Client Operations</a><ul class="nav nav-stacked"><li><a href="#troubleshoot-simple-paged-results">25.8.1. Clients Need Simple Paged Results Control</a></li></ul></li><li><a href="#troubleshoot-repl">25.9. Troubleshooting Replication</a></li><li><a href="#troubleshoot-get-help">25.10. Asking For Help</a></li></ul></li><li><a href="#admin-tools-ref">I. Tools Reference</a><ul class="nav nav-stacked"><li><a href="#backup-1">backup &#8212; back up OpenDJ directory data</a></li><li><a href="#base64-1">base64 &#8212; encode and decode base64 strings</a></li><li><a href="#control-panel-1">control-panel &#8212; start the OpenDJ graphical admin interface</a></li><li><a href="#create-rc-script-1">create-rc-script &#8212; script to manage OpenDJ as a service on UNIX</a></li><li><a href="#dbtest-1">dbtest &#8212; gather OpenDJ JE database debugging information</a></li><li><a href="#dsconfig-1">dsconfig &#8212; manage OpenDJ directory server configuration</a></li><li><a href="#dsframework-1">dsframework &#8212; manage OpenDJ administration framework</a></li><li><a href="#dsjavaproperties-1">dsjavaproperties &#8212; apply OpenDJ Java home and JVM settings</a></li><li><a href="#dsreplication-1">dsreplication &#8212; manage OpenDJ directory data replication</a></li><li><a href="#encode-password-1">encode-password &#8212; encode a password with an OpenDJ storage scheme</a></li><li><a href="#export-ldif-1">export-ldif &#8212; export OpenDJ directory data in LDIF</a></li><li><a href="#import-ldif-1">import-ldif &#8212; import OpenDJ directory data from LDIF</a></li><li><a href="#ldapcompare-1">ldapcompare &#8212; perform LDAP compare operations</a></li><li><a href="#ldapdelete-1">ldapdelete &#8212; perform LDAP delete operations</a></li><li><a href="#ldapmodify-1">ldapmodify &#8212; perform LDAP modify, add, delete, mod DN operations</a></li><li><a href="#ldappasswordmodify-1">ldappasswordmodify &#8212; perform LDAP password modifications</a></li><li><a href="#ldapsearch-1">ldapsearch &#8212; perform LDAP search operations</a></li><li><a href="#ldif-diff-1">ldif-diff &#8212; compare small LDIF files</a></li><li><a href="#ldifmodify-1">ldifmodify &#8212; apply LDIF changes to LDIF</a></li><li><a href="#ldifsearch-1">ldifsearch &#8212; search LDIF with LDAP filters</a></li><li><a href="#list-backends-1">list-backends &#8212; list OpenDJ backends and base DNs</a></li><li><a href="#make-ldif-1">make-ldif &#8212; generate test LDIF</a></li><li><a href="#make-ldif-template-5">make-ldif.template &#8212; template file for the make-ldif command</a></li><li><a href="#manage-account-1">manage-account &#8212; manage state of directory server accounts</a></li><li><a href="#manage-tasks-1">manage-tasks &#8212; manage OpenDJ server administration tasks</a></li><li><a href="#rebuild-index-1">rebuild-index &#8212; rebuild index after configuration change</a></li><li><a href="#restore-1">restore &#8212; restore OpenDJ directory data backups</a></li><li><a href="#setup-1">setup &#8212; install OpenDJ directory server</a></li><li><a href="#start-ds-1">start-ds &#8212; start OpenDJ directory server</a></li><li><a href="#status-1">status &#8212; display basic OpenDJ server information</a></li><li><a href="#stop-ds-1">stop-ds &#8212; stop OpenDJ directory server</a></li><li><a href="#uninstall-1">uninstall &#8212; remove OpenDJ directory server software</a></li><li><a href="#upgrade-1">upgrade &#8212; upgrade OpenDJ configuration &amp; application data</a></li><li><a href="#verify-index-1">verify-index &#8212; check index for consistency or errors</a></li></ul></li><li><a href="#glossary">OpenDJ Glossary</a></li><li><a href="#appendix-rest2ldap">A. REST LDAP Configuration</a></li><li><a href="#appendix-file-layout">B. File Layout</a></li><li><a href="#appendix-ports-used">C. Ports Used</a></li><li><a href="#appendix-standards">D. Standards, RFCs, &amp; Internet-Drafts</a></li><li><a href="#appendix-controls">E. LDAP Controls</a></li><li><a href="#appendix-extended-ops">F. LDAP Extended Operations</a></li><li><a href="#appendix-l10n">G. Localization</a><ul class="nav nav-stacked"><li><a href="#supported-languages">G.1. OpenDJ Languages</a></li><li><a href="#supported-locales">G.2. Directory Support For Locales and Language Subtypes</a></li></ul></li><li><a href="#appendix-interface-stability">H. Release Levels &amp; Interface Stability</a><ul class="nav nav-stacked"><li><a href="#release-levels">H.1. Open Identity Platform Product Release Levels</a></li><li><a href="#interface-stability">H.2. Open Identity Platform Product Interface Stability</a></li></ul></li><li><a href="#d0e31878">Index</a></li></ul></div></div><div id="doc-content" class="col-sm-9"><div class="titlepage modal fade" id="myModal"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">X</span></button><h4 class="modal-title">About this document</h4></div><div class="modal-body"><div><div><h1 class="title">OpenDJ Administration Guide</h1></div><div><h2 class="subtitle">Version 4.8.1-SNAPSHOT</h2></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Valery </span> <span class="surname">Kharseko</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Mark </span> <span class="surname">Craig</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Nemanja </span> <span class="surname">Luki&#263;</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Ludovic </span> <span class="surname">Poitou</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Chris </span> <span class="surname">Ridd</span></h3><div lang="en" class="affiliation"><span class="orgname">ForgeRock AS<br></span><div class="address"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="street">201&nbsp;Mission&nbsp;St.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="otheraddr">Suite&nbsp;2900</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="city">San&nbsp;Francisco</span>,&nbsp;<span class="state">CA</span>&nbsp;<span class="postcode">94105</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="country">USA</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="phone">+1&nbsp;415-599-1100&nbsp;(US)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<code class="uri">www.forgerock.com</code><br>
&nbsp;&nbsp;&nbsp;</p></div></div></div></div></div><div><p class="releaseinfo">${softwareReleaseDate}</p></div><div><p class="copyright">Copyright &copy; 2011-2014 ForgeRock AS</p></div><div><p class="copyright">Copyright &copy; 2024-  Open Identity Platform Community</p></div><div><a href="legalnotice.html">Legal Notice</a></div><div><p class="pubdate">${publicationDate}</p></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Hands-on guide to configuring and using OpenDJ features. The OpenDJ
   project offers open source LDAP directory services in Java.</p></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div></div></div><div lang="en" class="preface" id="preface"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p>This guide shows you how to configure, maintain, and troubleshoot
 OpenDJ directory services. This guide also describes file layouts, ports
 used, and standards, controls, extended operations, and languages supported
 for OpenDJ installations.</p><div class="section" id="d0e164"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.&nbsp;Who Should Read this Guide</h2></div></div></div><p>This guide is written for directory designers and administrators who
  build, deploy, and maintain OpenDJ directory services for your
  organizations.</p><p>This guide starts by introducing the OpenDJ administrative interfaces
  and tools, and by showing how to manage OpenDJ server processes. It also
  demonstrates how to import and export directory data. This guide continues
  by showing how to configure and monitor the principle features of individual
  OpenDJ servers, and how to configure and monitor replicated server
  topologies for distributed high availability. It then demonstrates how to
  tune, troubleshoot, and move servers. This guide concludes with appendices
  of useful reference information for directory designers and
  administrators.</p><p>You do not need to be an LDAP wizard to learn something from this
  guide, though a background in directory services and maintaining server
  software can help. You do need some background in managing servers and
  services on your operating system of choice. You can nevertheless get
  started with this guide, and then learn more as you go along.</p></div><div lang="en" class="section" id="formatting-conventions"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.&nbsp;Formatting Conventions</h2></div></div></div><p>
  Most examples in the documentation are created in GNU/Linux or Mac OS X
  operating environments.

  If distinctions are necessary between operating environments,
  examples are labeled with the operating environment name in parentheses.

  To avoid repetition file system directory names are often given
  only in UNIX format as in <code class="filename">/path/to/server</code>,
  even if the text applies to <code class="filename">C:\path\to\server</code> as well.
 </p><p>
  Absolute path names usually begin with the placeholder
  <code class="filename">/path/to/</code>.

  This path might translate to <code class="filename">/opt/</code>,
  <code class="filename">C:\Program Files\</code>, or somewhere else on your system.
 </p><p>
  Command line, terminal sessions are formatted as follows:
 </p><pre class="cmdline prettyprint">$ <strong>echo $JAVA_HOME</strong>
<em>/path/to/jdk</em></pre><p>
  Command output is sometimes formatted for narrower, more readable output
  even though formatting parameters are not shown in the command.
  In the following example,
  the query string parameter <code class="literal">_prettyPrint=true</code> is omitted
  and some of the output is replaced with an ellipsis (<code class="literal">...</code>):
 </p><pre class="cmdline prettyprint">
$ <strong>curl https://bjensen:hifalutin@opendj.example.com:8443/users/newuser</strong>
<em>{
  "_rev" : "000000005b337348",
  "_id" : "newuser",
  ...
}</em>
 </pre><p>
  Program listings are formatted as follows:
 </p><pre class="codelisting prettyprint">
class Test {
    public static void main(String [] args)  {
        System.out.println("This is a program listing.");
    }
}
 </pre></div><div lang="en" class="section" id="accessing-doc-online"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.&nbsp;Accessing Documentation Online</h2></div></div></div><p>
  Open Identity Platform core documentation, such as this document, aims to be
  technically accurate and complete with respect to the software documented.
 </p><div class="itemizedlist"><p>
   Core documentation therefore follows a three-phase review process
   designed to eliminate errors:
  </p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Product managers and software architects review project documentation design
    with respect to the readers' software lifecycle needs.
   </p></li><li class="listitem"><p>
    Subject matter experts review proposed documentation changes for
    technical accuracy and completeness
    with respect to the corresponding software.
   </p></li><li class="listitem"><p>
    Quality experts validate implemented documentation changes
    for technical accuracy, completeness in scope,
    and usability for the readership.
   </p></li></ul></div><p>
  The review process helps to ensure that documentation published for
  a Open Identity Platform release is technically accurate and complete.
 </p><p>
  Fully reviewed, published core documentation is available at
  <a class="link" href="https://doc.openidentityplatform.org/" target="_blank">https://doc.openidentityplatform.org/</a>.
  Use this documentation when working with a Open Identity Platform release.
 </p><p>
  You can find pre-release draft documentation at the online
  <a class="link" href="https://github.com/OpenIdentityPlatform" target="_blank">community resource center</a>.
  Use this documentation when trying a nightly build.
 </p></div><div lang="en" class="section" id="joining-the-community"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.&nbsp;Joining the Open Identity Platform Community</h2></div></div></div><p>
  Visit the
  <a class="link" href="https://github.com/OpenIdentityPlatform" target="_blank">community resource center</a>
  where you can find information about each project,
  download nightly builds, browse the resource catalog,
  ask and answer questions on the forums, find community events near you,
  and of course get the source code as well.
 </p></div></div><div lang="en" class="chapter" id="chap-admin-tools"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;1.&nbsp;Administration Interfaces &amp; Tools</h1></div></div></div><p>OpenDJ server software installs with a cross-platform, Java Swing-based
 Control Panel for many day-to-day tasks. OpenDJ server software also installs
 command-line tools for configuration and management tasks.</p><p>This chapter is one of the few to include screen shots of the control
 panel. Most examples make use of the command-line tools. Once you understand
 the concepts, and how to perform a task using the command-line tools, you
 no doubt need no more than to know where to start in the Control Panel to
 accomplish what you set out to do.</p><p>At a protocol level, administration tools and interfaces connect to
 servers through a different network port than that used to listen for traffic
 from other client applications.</p><p>This chapter takes a quick look at the tools for managing directory
 services.</p><div class="section" id="control-panel"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.1.&nbsp;Control Panel</h2></div></div></div><a class="indexterm" name="d0e281"></a><p>OpenDJ Control Panel offers a graphical user interface for
  managing both local and remote servers. You choose the server to manage
  when you start the Control Panel. The Control Panel connects to the
  administration server port, making a secure LDAPS connection.</p><div class="itemizedlist"><p>Start OpenDJ Control Panel.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>(UNIX) Run <span class="command"><strong>opendj/bin/control-panel</strong></span>.</p></li><li class="listitem"><p>(Windows) Double-click <code class="filename">opendj\bat\control-panel.bat</code>.</p></li><li class="listitem"><p>(Mac OS X) Double-click <code class="filename">opendj/bin/ControlPanel.app</code>.</p></li></ul></div><p>When you login to OpenDJ Control Panel, you authenticate over LDAP.
  This means that if users can run the Control Panel, they can use it to manage
  a running server. Yet, to start and stop the server process through OpenDJ
  Control Panel, you must start the Control Panel on the system where OpenDJ
  runs, as the user who owns the OpenDJ server files (such as the user who
  installed OpenDJ). In other words, the OpenDJ Control Panel does not do
  remote process management.</p><div class="mediaobject" align="center" id="figure-opendj-control-panel"><a class="fancybox" href="images/OpenDJ-Control-Panel.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_OpenDJ-Control-Panel.png" align="middle"></a><div class="caption"><p>OpenDJ Control Panel displays key information about the
   server.</p></div></div><div class="variablelist"><p>Down the left side of OpenDJ Control Panel, notice what you can
   configure.</p><dl class="variablelist"><dt><span class="term">Directory Data</span></dt><dd><p>Directory data provisioning is typically not something you do
     by hand in most deployments. Usually entries are created, modified, and
     deleted through specific directory client applications. The Manage
     Entries window can be useful, however, both in the lab as you design
     and test directory data, and also if you modify individual ACIs or
     debug issues with particular entries.</p><div class="mediaobject" align="center" id="figure-manage-entries"><a class="fancybox" href="images/Manage-Entries.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_Manage-Entries.png" align="middle"></a><div class="caption"><p>The Manage Entries window can check that your changes are
     valid before sending the request to the directory.</p></div></div><p>Additionally, the Directory Data list makes it easy to create
     a new base DN, and then import user data for the new base DN from LDIF.
     You can also use the tools in the list to export user data to LDIF,
     and to backup and restore user data.</p></dd><dt><span class="term">Schema</span></dt><dd><p>The Manage Schema window lets you browse and modify the rules
     that define how data is stored in the directory. You can add new schema
     definitions such as new attribute types and new object classes while the
     server is running, and the changes you make take effect immediately.</p></dd><dt><span class="term">Indexes</span></dt><dd><p>The Manage Indexes window gives you a quick overview of all
     the indexes currently maintained for directory attributes. To protect
     your directory resources from being absorbed by costly searches on
     unindexed attributes, you may choose to keep the default behavior,
     preventing unindexed searches, instead adding indexes required by specific
     applications. (Notice that if the number of user data entries is smaller
     than the default resource limits, you can still perform what appear
     to be unindexed searches. That is because the <code class="literal">dn2id</code>
     index returns all user data entries without hitting a resource limit that
     would make the search unindexed.)</p><p>OpenDJ Control Panel also allows you to verify and rebuild
     existing indexes, which you may have to do after an upgrade operation,
     or if you have reason to suspect index corruption.</p></dd><dt><span class="term">Monitoring</span></dt><dd><p>The Monitoring list gives you windows to observe information
     about the system, the JVM used, and indications about how the cache is
     used, whether the work queue has been filling up, as well as details
     about the database. You can also view the numbers and types of requests
     arriving over the connection handlers, and the current tasks in progress
     as well.</p></dd><dt><span class="term">Runtime Options</span></dt><dd><p>If you did not set appropriate JVM runtime options during the
     installation process, this is the list that allows you to do so through
     the Control Panel.</p></dd></dl></div></div><div class="section" id="cli-overview"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.2.&nbsp;Command-Line Tools</h2></div></div></div><a class="indexterm" name="d0e364"></a><p>All OpenDJ command-line tools take the <code class="option">--help</code> option.</p><p>All commands call Java programs and therefore involve starting a
  JVM.</p><div class="itemizedlist"><p>Setup, upgrade, and uninstall tools are located in the directory where
   you unpacked OpenDJ, such as <code class="filename">/path/to/opendj</code>. Find the
   additional command-line tools for your platform.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>(UNIX) In <code class="filename">opendj/bin</code>.</p></li><li class="listitem"><p>(Windows) In <code class="filename">opendj\bat</code>.</p></li></ul></div><p>The following list uses the UNIX names for the tools. On Windows
  all command-line tools have the extension .bat.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="../admin-guide/index.html#backup-1" class="link">backup</a></span></dt><dd><p>Backup or schedule backup of directory data.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#base64-1" class="link">base64</a></span></dt><dd><p>Encode and decode data in base64 format.</p><p>Base64 encoding represents binary data in ASCII, and can be used to
     encode character strings in LDIF, for example.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#create-rc-script-1" class="link">create-rc-script</a>
    (UNIX)</span></dt><dd><p>Generate a script you can use to start, stop, and restart the server
     either directly or at system boot and shutdown. Use <span class="command"><strong>create-rc-script -f
     <em class="replaceable"><code>script-file</code></em></strong></span>.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#dbtest-1" class="link">dbtest</a></span></dt><dd><p>Debug JE databases.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#dsconfig-1" class="link">dsconfig</a></span></dt><dd><p>The <span class="command"><strong>dsconfig</strong></span> command is the primary command-line
     tool for viewing and editing OpenDJ configuration. When started without
     arguments, <span class="command"><strong>dsconfig</strong></span> prompts you for administration
     connection information. Once connected it presents you with a menu-driven
     interface to the server configuration.</p><p>When you pass connection information, subcommands, and additional
     options to <span class="command"><strong>dsconfig</strong></span>, the command runs in script mode
     and so is not interactive.</p><p>You can prepare <span class="command"><strong>dsconfig</strong></span> batch scripts by running
     the tool with the <code class="option">--commandFilePath</code> option in interactive
     mode, then reading from the batch file with the
     <code class="option">--batchFile</code> option in script mode. Batch files can be
     useful when you have many <span class="command"><strong>dsconfig</strong></span> commands to run
     and want to avoid starting the JVM and setting up a new connection for
     each command.</p><p>In addition to the <a href="../admin-guide/index.html#dsconfig-1" class="link">dsconfig</a> reference
     that covers subcommands, the <a class="link" href="${configRefBase}" target="_blank"><em class="citetitle">Configuration Reference</em></a> covers the
     properties you can set using the <span class="command"><strong>dsconfig</strong></span>
     command.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#dsjavaproperties-1" class="link">dsjavaproperties</a></span></dt><dd><p>Apply changes you make to
     <code class="filename">opendj/config/java.properties</code>, which sets Java
     runtime options.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#dsreplication-1" class="link">dsreplication</a></span></dt><dd><p>Configure data replication between directory servers to keep their
     contents in sync.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#encode-password-1" class="link">encode-password</a></span></dt><dd><p>Encode a clear text password according to one of the available
     storage schemes.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#export-ldif-1" class="link">export-ldif</a></span></dt><dd><p>Export directory data to LDAP Data Interchange Format, a standard,
     portable, text-based representation of directory content.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#import-ldif-1" class="link">import-ldif</a></span></dt><dd><p>Load LDIF content into the directory, overwriting existing
     data.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#ldapcompare-1" class="link">ldapcompare</a></span></dt><dd><p>Compare the attribute values you specify with those stored on
     entries in the directory.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#ldapdelete-1" class="link">ldapdelete</a></span></dt><dd><p>Delete one entry or an entire branch of subordinate entries in the
     directory.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#ldapmodify-1" class="link">ldapmodify</a></span></dt><dd><p>Modify the specified attribute values for the specified
     entries.</p><p>Use the <span class="command"><strong>ldapmodify</strong></span> command with the
     <code class="option">-a</code> option to add new entries.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#ldappasswordmodify-1" class="link">ldappasswordmodify</a></span></dt><dd><p>Modify user passwords.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#ldapsearch-1" class="link">ldapsearch</a></span></dt><dd><p>Search a branch of directory data for entries matching the LDAP
     filter that you specify.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#ldif-diff-1" class="link">ldif-diff</a></span></dt><dd><p>Display differences between two LDIF files, with the resulting output
     having LDIF format.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#ldifmodify-1" class="link">ldifmodify</a></span></dt><dd><p>Similar to the <span class="command"><strong>ldapmodify</strong></span> command, modify
     specified attribute values for specified entries in an LDIF file.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#ldifsearch-1" class="link">ldifsearch</a></span></dt><dd><p>Similar to the <span class="command"><strong>ldapsearch</strong></span> command, search a branch
     of data in LDIF for entries matching the LDAP filter you specify.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#list-backends-1" class="link">list-backends</a></span></dt><dd><p>List backends and base DNs served by OpenDJ.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#make-ldif-1" class="link">make-ldif</a></span></dt><dd><p>Generate directory data in LDIF, based on templates that define how
     the data should appear.</p><p>The <span class="command"><strong>make-ldif</strong></span> command is designed to help you
     quickly generate test data that mimics data you expect to have in
     production, but without compromising private information.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#manage-account-1" class="link">manage-account</a></span></dt><dd><p>Lock and unlock user accounts, and view and manipulate password
     policy state information.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#manage-tasks-1" class="link">manage-tasks</a></span></dt><dd><p>View information about tasks scheduled to run in the server, and
     cancel specified tasks.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#rebuild-index-1" class="link">rebuild-index</a></span></dt><dd><p>Rebuild an index stored in a JE backend.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#restore-1" class="link">restore</a></span></dt><dd><p>Restore user data from backup.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#start-ds-1" class="link">start-ds</a></span></dt><dd><p>Start OpenDJ directory server.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#status-1" class="link">status</a></span></dt><dd><p>Display information about the server.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#stop-ds-1" class="link">stop-ds</a></span></dt><dd><p>Stop OpenDJ directory server.</p></dd><dt><span class="term"><a href="../admin-guide/index.html#verify-index-1" class="link">verify-index</a></span></dt><dd><p>Verify that an index stored in a JE backend is not corrupt.</p></dd><dt><span class="term">windows-service.bat (Windows)</span></dt><dd><p>Register OpenDJ as a Windows Service.</p></dd></dl></div></div></div><div lang="en" class="chapter" id="chap-server-process"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;2.&nbsp;Managing Server Processes</h1></div></div></div><p>Using the OpenDJ Control Panel, you can start and stop local servers.
 You can also start and stop OpenDJ using command-line tools, and use the
 operating system's capabilities for starting OpenDJ at boot time.</p><p>This chapter demonstrates how to start and stop server processes
 with command line tools and using operating system capabilities. This
 chapter also describes what OpenDJ directory server does during startup
 and shutdown, and how it recovers following an abrupt shutdown such as
 happens during a system crash or when you kill the server process using
 system tools.</p><div class="section" id="start-server"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.1.&nbsp;Starting a Server</h2></div></div></div><a class="indexterm" name="d0e676"></a><div class="itemizedlist"><p>Use one of the following techniques.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Use the <span class="command"><strong>start-ds</strong></span> command.</p><pre class="cmdline prettyprint">$ opendj/bin/start-ds</pre><p>Alternatively, you can specify the --no-detach option to start
    the server in the foreground.</p></li><li class="listitem"><p>(UNIX) Create an RC script, and then use the script to start
    the server.</p><p>Unless you run OpenDJ as root, use the --userName
    <em class="replaceable"><code>userName</code></em> option to specify the user
    who installed OpenDJ.</p><pre class="cmdline prettyprint">$ sudo opendj/bin/create-rc-script
 --outputFile /etc/init.d/opendj
 --userName mark
$ sudo /etc/init.d/opendj start</pre><p>For example, on Linux if you run OpenDJ as root, you can use the
    RC script to start the server at system boot, and stop the server at
    system shutdown.</p><pre class="cmdline prettyprint">$ sudo update-rc.d opendj defaults
update-rc.d: warning: /etc/init.d/opendj missing LSB information
update-rc.d: see &lt;http://wiki.debian.org/LSBInitScripts&gt;
 Adding system startup for /etc/init.d/opendj ...
   /etc/rc0.d/K20opendj -&gt; ../init.d/opendj
   /etc/rc1.d/K20opendj -&gt; ../init.d/opendj
   /etc/rc6.d/K20opendj -&gt; ../init.d/opendj
   /etc/rc2.d/S20opendj -&gt; ../init.d/opendj
   /etc/rc3.d/S20opendj -&gt; ../init.d/opendj
   /etc/rc4.d/S20opendj -&gt; ../init.d/opendj
   /etc/rc5.d/S20opendj -&gt; ../init.d/opendj</pre></li><li class="listitem"><p>(Windows) Register OpenDJ as a Windows Service, and then manage
    the service through Windows administration tools.</p><pre class="cmdline prettyprint">C:\Users\Mark&gt; opendj\bat\windows-service.bat --enableService</pre></li></ul></div><p>By default OpenDJ saves a compressed version of the server
  configuration used on successful startup. This ensures that the server
  provides a "last known good" configuration, which can be used as a reference
  or copied into the active configuration if the server fails to start with the
  current active configuration. It is possible, though not usually recommended,
  to turn this behavior off by changing the global server setting
  <code class="literal">save-config-on-successful-startup</code> to
  <code class="literal">false</code>.</p></div><div class="section" id="stop-server"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.2.&nbsp;Stopping a Server</h2></div></div></div><a class="indexterm" name="d0e726"></a><div class="itemizedlist"><p>Use one of the following techniques.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Use the <span class="command"><strong>stop-ds</strong></span> command.</p><pre class="cmdline prettyprint">$ opendj/bin/stop-ds</pre></li><li class="listitem"><p>(UNIX) Create an RC script, and then use the script to stop
    the server.</p><pre class="cmdline prettyprint">$ sudo opendj/bin/create-rc-script
 --outputFile /etc/init.d/opendj
 --userName mark
$ sudo /etc/init.d/opendj stop</pre></li><li class="listitem"><p>(Windows) Register OpenDJ as a Windows Service, and then manage
    the service through Windows administration tools.</p><pre class="cmdline prettyprint">C:\Users\Mark&gt; opendj\bat\windows-service.bat --enableService</pre></li></ul></div></div><div class="section" id="restart-server"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.3.&nbsp;Restarting a Server</h2></div></div></div><a class="indexterm" name="d0e756"></a><div class="itemizedlist"><p>Use one of the following techniques.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Use the <span class="command"><strong>stop-ds</strong></span> command.</p><pre class="cmdline prettyprint">$ opendj/bin/stop-ds --restart</pre></li><li class="listitem"><p>(UNIX) Create an RC script, and then use the script to stop
    the server.</p><pre class="cmdline prettyprint">$ sudo opendj/bin/create-rc-script
 --outputFile /etc/init.d/opendj
 --userName mark
$ /etc/init.d/opendj restart</pre></li><li class="listitem"><p>(Windows) Register OpenDJ as a Windows Service, and then manage
    the service through Windows administration tools.</p><pre class="cmdline prettyprint">C:\Users\Mark&gt; opendj\bat\windows-service.bat --enableService</pre></li></ul></div></div><div class="section" id="crash-recovery"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2.4.&nbsp;Server Recovery</h2></div></div></div><a class="indexterm" name="d0e786"></a><p>OpenDJ tends to show resilience when restarting after a crash or after
  the server process is killed abruptly. OpenDJ might have to replay the last
  few entries in a transaction log. Generally OpenDJ returns to service
  quickly.</p><p>You can find Berkeley Java Edition database recovery messages in the
  database log file, such as
  <code class="filename">/path/to/opendj/db/userRoot/je.info.0</code>. The following
  shows two example messages from that log, the first written at the beginning
  of the recovery process, the second written at the end of the process.</p><pre class="cmdline prettyprint">111104 10:23:48:967 CONFIG [/path/to/opendj/db/userRoot]Recovery
 underway, found end of log
...
111104 10:23:49:015 CONFIG [/path/to/opendj/db/userRoot]Recovery finished:
 Recovery Info ...</pre><p>What can take some time during server startup is preloading database
  content into memory when the server starts. Objects cached in memory do not
  survive a crash. By default, OpenDJ does not cache objects in memory before
  starting to accept client requests. You can however set a
  <a class="link" href="${configRefBase}local-db-backend.html#preload-time-limit" target="_top"><code class="literal">preload-time-limit</code></a> for the database cache of your
  backend if you do want to load objects into the database cache before
  OpenDJ begins accepting client connections.</p></div></div><div lang="en" class="chapter" id="chap-import-export"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;3.&nbsp;Importing &amp; Exporting LDIF Data</h1></div></div></div><a class="indexterm" name="d0e811"></a><a class="indexterm" name="d0e814"></a><a class="indexterm" name="d0e817"></a><a class="indexterm" name="d0e822"></a><a class="indexterm" name="d0e825"></a><a class="indexterm" name="d0e828"></a><a class="indexterm" name="d0e833"></a><p>LDAP Data Interchange Format provides a mechanism for representing
 directory data in text format. LDIF data is typically used to initialize
 directory databases, but also may be used to move data between different
 directories that cannot replicate directly, or even as an alternative
 backup format.</p><p>This chapter shows you how to import and export LDIF.
 This chapter also covers creating test data in LDIF format, and manipulating
 LDIF data with command-line tools.</p><div class="section" id="generating-ldif"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.1.&nbsp;Generating Test Data</h2></div></div></div><p>When you install OpenDJ, you have the option of importing sample
  data generated during the installation. This procedure demonstrates how to
  generate LDIF using the <span class="command"><strong>make-ldif</strong></span> command.</p><div class="procedure" id="generate-ldif"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;3.1.&nbsp;To Generate Test LDIF Data</div><a class="indexterm" name="d0e853"></a><p>The <span class="command"><strong>make-ldif</strong></span> command uses templates to provide
   sample data. Default templates are located in the
   <code class="filename">OpenDJ/config/MakeLDIF/</code> directory. The
   <code class="filename">example.template</code> file can be used to create
   a suffix with entries of the type <code class="literal">inetOrgPerson</code>. You can
   do the equivalent in OpenDJ Control Panel (Directory Data &gt; New Base
   DN... &gt; Import Automatically Generated Example Data).</p><ol class="procedure" type="1"><li class="step"><p>Write a file to act as the template for your generated LDIF.</p><p>The resulting test data template depends on what data you expect to
    encounter in production. Base your work on your knowledge of the production
    data, and on the sample template, 
    <code class="filename">OpenDJ/config/MakeLDIF/example.template</code>, and
    associated data.</p><p>See <a href="../admin-guide/index.html#make-ldif-template-5" class="link"><em class="citetitle">make-ldif.template</em></a> for reference information about
    template files.</p></li><li class="step"><p>Create additional data files for the content in your template to be
    selected randomly from a file, rather than generated by an expression.</p><p>Additional data files are located in the same directory as your
    template file.</p></li><li class="step"><p>Decide whether you want to generate the same test data each time
    you run the <span class="command"><strong>make-ldif</strong></span> command with your template.</p><p>If so, provide the same <code class="literal">randomSeed</code> integer each
    time you run the command.</p></li><li class="step"><p>Before generating a very large LDIF file, make sure you have enough
    space on disk.</p></li><li class="step"><p>Run the <span class="command"><strong>make-ldif</strong></span> command to generate your
    LDIF file.</p><pre class="cmdline prettyprint">$ make-ldif
 --randomSeed 0
 --templateFile /path/to/my.template
 --ldifFile /path/to/generated.ldif
Processed 1000 entries
Processed 2000 entries
...
Processed 10000 entries
LDIF processing complete.  10003 entries written</pre></li></ol></div></div></div><div class="section" id="importing-exporting-ldif"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.2.&nbsp;Importing &amp; Exporting Data</h2></div></div></div><p>You can use the OpenDJ Control Panel to import data (Directory
  Data &gt; Import LDIF...) and to export data (Directory Data &gt; Export
  LDIF...). The following procedures demonstrate how to use the
  <span class="command"><strong>import-ldif</strong></span> and <span class="command"><strong>export-ldif</strong></span>
  commands.</p><div class="procedure" id="import-ldif"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;3.2.&nbsp;To Import LDIF Data</div><p>The most efficient method of importing LDIF data is to take the
   OpenDJ server offline. Alternatively, you can schedule a task to import
   the data while the server is online.</p><ol class="procedure" type="1"><li class="step"><p>If you do not want to use the default <code class="literal">userRoot</code>
    backend, create a new JE backend for your data.</p><p>See <a class="xref" href="#create-database-backend" title="3.4.&nbsp;Creating a New Database Backend">Section&nbsp;3.4, &#8220;Creating a New Database Backend&#8221;</a> for details.</p></li><li class="step"><p>The following example imports <code class="literal">dc=example,dc=org</code>
    data into the <code class="literal">userRoot</code> backend, overwriting existing
    data.</p><ul class="stepalternatives">
     <li class="step"><p>If you want to speed up the process&#8212;for example because you
      have millions of directory entries to import&#8212;first shut down the
      server, and then run the <span class="command"><strong>import-ldif</strong></span> command.</p><pre class="cmdline prettyprint">$ stop-ds
$ import-ldif
 --offline
 --includeBranch dc=example,dc=org
 --backendID userRoot
 --ldifFile /path/to/generated.ldif</pre></li>
     <li class="step"><p>If not, schedule a task to import the data while online.</p><pre class="cmdline prettyprint">$ import-ldif
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --includeBranch dc=example,dc=org
 --backendID userRoot
 --ldifFile /path/to/generated.ldif
 --trustAll</pre><p>Notice that the task is scheduled through communication over SSL on
     the administration port, by default <code class="literal">4444</code>. You can
     schedule the import task to start at a particular time using the
     <code class="option">--start</code> option.</p><p>The <code class="option">--trustAll</code> option trusts all SSL certificates,
     such as a default self-signed certificate used for testing.</p></li>
   </ul></li></ol></div></div><div class="procedure" id="export-ldif"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;3.3.&nbsp;To Export LDIF Data</div><ul class="procedure"><li class="step"><p>The following example exports <code class="literal">dc=example,dc=org</code>
   data from the <code class="literal">userRoot</code> backend.</p><ul class="stepalternatives">
    <li class="step"><p>If you want to speed up export, first shut down the server, and then
     export data using the <span class="command"><strong>export-ldif</strong></span> command.</p><pre class="cmdline prettyprint">$ stop-ds
$ export-ldif
 --offline
 --includeBranch dc=example,dc=org
 --backendID userRoot
 --ldifFile /path/to/backup.ldif</pre></li>
     <li class="step"><p>If not, schedule a task to export the data while online.</p><pre class="cmdline prettyprint">$ export-ldif
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --includeBranch dc=example,dc=org
 --backendID userRoot
 --ldifFile /path/to/backup.ldif
 --start 20111221230000
 --trustAll</pre><p>The <code class="option">--start 20111221230000</code> option tells OpenDJ to
      start the export at 11 PM on December 21, 2012.</p><p>If OpenDJ is stopped at this time, then when you start OpenDJ again,
      the server attempts to perform the task after starting up.</p></li>
    </ul></li></ul></div></div></div><div class="section" id="ldif-tools"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.3.&nbsp;Other Tools For Working With LDIF Data</h2></div></div></div><a class="indexterm" name="d0e1022"></a><p>This section demonstrates the <span class="command"><strong>ldifsearch</strong></span>,
  <span class="command"><strong>ldifmodify</strong></span>, and <span class="command"><strong>ldif-diff</strong></span> tools.</p><div class="section" id="ldifsearch-example"><div class="titlepage"><div><div><h3 class="title">3.3.1.&nbsp;Searching in LDIF With <span class="command"><strong>ldifsearch</strong></span></h3></div></div></div><p>The <span class="command"><strong>ldifsearch</strong></span> command lets you search LDIF files
   in a similar way to how you search LDAP directories with the
   <span class="command"><strong>ldapsearch</strong></span> command.</p><pre class="cmdline prettyprint">$ ldifsearch
 --baseDN dc=example,dc=org
 --ldifFile generated.ldif
 "(sn=Grenier)"
 mobile
dn: uid=user.4630,ou=People,dc=example,dc=org
mobile: +1 728 983 6669</pre><p>The <code class="option">--ldifFile <em class="replaceable"><code>ldif-file</code></em></code>
   option replaces the <code class="option">--hostname</code> and <code class="option">--port</code>
   options used to connect to an LDAP directory. Otherwise the command syntax
   and LDIF output is familiar to <span class="command"><strong>ldapsearch</strong></span> users.</p></div><div class="section" id="ldifmodify-example"><div class="titlepage"><div><div><h3 class="title">3.3.2.&nbsp;Updating LDIF With <span class="command"><strong>ldifmodify</strong></span></h3></div></div></div><p>The <span class="command"><strong>ldifmodify</strong></span> command lets you apply changes to
   LDIF files, generating a new, changed version of the original file.</p><pre class="cmdline prettyprint">$ cat changes.ldif 
dn: uid=user.0,ou=People,dc=example,dc=org
changetype: modify
replace: description
description: This is the new description for Aaccf Amar.
-
replace: initials
initials: AAA

$ ldifmodify
 --sourceLDIF generated.ldif
 --changesLDIF changes.ldif
 --targetLDIF new.ldif</pre><p>Notice that the resulting new LDIF file is likely to be about the
   same size as the source LDIF file.</p></div><div class="section" id="ldif-diff-example"><div class="titlepage"><div><div><h3 class="title">3.3.3.&nbsp;Comparing LDIF With <span class="command"><strong>ldif-diff</strong></span></h3></div></div></div><p>The <span class="command"><strong>ldif-diff</strong></span> command reports differences between
   two LDIF files in LDIF format.</p><pre class="cmdline prettyprint">$ ldif-diff --sourceLDIF old.ldif --targetLDIF new.ldif
dn: uid=user.0,ou=People,dc=example,dc=org
changetype: modify
add: initials
initials: AAA
-
delete: initials
initials: ASA
-
add: description
description: This is the new description for Aaccf Amar.
-
delete: description
description: This is the description for Aaccf Amar.

</pre><p>As the <span class="command"><strong>ldif-diff</strong></span> command reads both files into
   memory, constructing tree maps to perform the comparison, the command
   is designed to work with small files and fragments. The command can quickly
   run out of memory when calculating differences between large files.</p></div></div><div class="section" id="create-database-backend"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.4.&nbsp;Creating a New Database Backend</h2></div></div></div><a class="indexterm" name="d0e1106"></a><p>OpenDJ stores your data in a <em class="firstterm">backend</em>. OpenDJ
  stores directory data in backends. Backends are what you backup and restore.
  By default, OpenDJ stores your data in a backend named
  <code class="literal">userRoot</code>. You can create new backends using the
  <span class="command"><strong>dsconfig</strong></span> command. The following example creates a
  local backend named <code class="literal">testData</code>.</p><pre class="cmdline prettyprint">$ dsconfig create-backend --backend-name testData --type local-db


&gt;&gt;&gt;&gt; Configuring the "base-dn" property

    Specifies the base DN(s) for the data that the backend handles.

    A single backend may be responsible for one or more base DNs. Note that no
    two backends may have the same base DN although one backend may have a
    base DN that is below a base DN provided by another backend (similar to
    the use of sub-suffixes in the Sun Java System Directory Server). If any
    of the base DNs is subordinate to a base DN for another backend, then all
    base DNs for that backend must be subordinate to that same base DN.

    Syntax:  DN

Enter a value for the "base-dn" property: dc=example,dc=org

Enter another value for the "base-dn" property [continue]: 


&gt;&gt;&gt;&gt; Configuring the "enabled" property

    Indicates whether the backend is enabled in the server.

    If a backend is not enabled, then its contents are not accessible when
    processing operations.

Select a value for the "enabled" property:

    1)  true
    2)  false

    ?)  help
    q)  quit

Enter choice: 1


&gt;&gt;&gt;&gt; Configure the properties of the Local DB Backend

        Property           Value(s)
        --------------------------------------
    1)  backend-id         testData
    2)  base-dn            "dc=example,dc=org"
    3)  compact-encoding   true
    4)  db-cache-percent   10
    5)  db-cache-size      0 b
    6)  db-directory       db
    7)  enabled            true
    8)  index-entry-limit  4000
    9)  writability-mode   enabled

    ?)  help
    f)  finish - create the new Local DB Backend
    q)  quit

Enter choice [f]: 

The Local DB Backend was created successfully</pre><p>Alternatively, you can create a new backend in OpenDJ Control Panel
  (Directory Data &gt; New Base DN... &gt; Backend &gt; New Backend:
  <em class="replaceable"><code>backend-name</code></em>).</p></div><div class="section" id="delete-database-backend"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3.5.&nbsp;Deleting a Database Backend</h2></div></div></div><a class="indexterm" name="d0e1135"></a><p>You delete a database backend by using the <span class="command"><strong>dsconfig
  delete-backend</strong></span> command.</p><p>When you delete a database backend by using the <span class="command"><strong>dsconfig
  delete-backend</strong></span> command, OpenDJ does not actually remove the
  database files for two reasons. First, a mistake could potentially cause
  lots of data to be lost. Second, deleting a large database backend could
  cause severe service degradation due to a sudden increase in I/O load.</p><p>Instead, after you run the <span class="command"><strong>dsconfig delete-backend</strong></span>
  command you must also manually remove the database backend files.</p><p>If you do run the <span class="command"><strong>dsconfig delete-backend</strong></span> command by
  mistake and have not yet deleted the actual files, then you can recover from
  the mistake by creating the backend again, reconfiguring the indexes that
  were removed, and rebuilding the indexes as described in the section on <a href="../admin-guide/index.html#configure-indexes" class="link"><em class="citetitle">Configuring &amp;
  Rebuilding Indexes</em></a>.</p></div></div><div lang="en" class="chapter" id="chap-connection-handlers"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;4.&nbsp;Configuring Connection Handlers</h1></div></div></div><a class="indexterm" name="d0e1168"></a><p>This chapter shows you how to configure OpenDJ directory server to
 listen for directory client requests, using connection handlers. You can view
 information about connection handlers in the OpenDJ Control Panel, and update
 the configuration using the <span class="command"><strong>dsconfig</strong></span> command.</p><div class="section" id="configure-ldap-port"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.1.&nbsp;LDAP Client Access</h2></div></div></div><p>You configure LDAP client access by using the command-line tool
  <span class="command"><strong>dsconfig</strong></span>. By default you configure OpenDJ to listen for
  LDAP when you install.</p><p>The standard port number for LDAP client access is 389. If you
  install OpenDJ directory server as a user who can use port 389 and the port
  is not yet in use, then 389 is the default port number presented at
  installation time. If you install as a user who cannot use a port &lt; 1024,
  then the default port number presented at installation time is 1389.</p><div class="procedure" id="change-ldap-port"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.1.&nbsp;To Change the LDAP Port Number</div><ol class="procedure" type="1"><li class="step"><p>Change the port number using the <span class="command"><strong>dsconfig</strong></span>
    command.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAP Connection Handler"
 --set listen-port:11389
 --trustAll
 --no-prompt</pre><p>This example changes the port number to 11389 in the configuration.</p></li><li class="step"><p>Restart the connection handler so the change takes effect.</p><p> To restart the connection handler, you disable it, then enable
    it again.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAP Connection Handler"
 --set enabled:false
 --trustAll
 --no-prompt
$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAP Connection Handler"
 --set enabled:true
 --trustAll
 --no-prompt</pre></li></ol></div></div></div><div class="section" id="setup-server-cert"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.2.&nbsp;Preparing For Secure Communications</h2></div></div></div><a class="indexterm" name="d0e1213"></a><p>One common way to protect connections between OpenDJ and client
  applications involves using StartTLS for LDAP or LDAPS to secure
  connections. OpenDJ and client applications use X.509 digital certificates
  to set up secure connections.</p><p>Both OpenDJ and client applications check that certificates are signed
  by a trusted party before accepting them. Merely setting up a secure
  connection therefore involves a sort of authentication using certificates.
  If either OpenDJ or the client application cannot trust the peer certificate,
  then the attempt to set up a secure connection must fail.</p><p>By default OpenDJ client tools prompt you if they do not recognize the
  server certificate. Other clients might not prompt you. OpenDJ server has no
  one to prompt when a client presents a certificate that cannot be
  trusted, so it must simply refuse to set up the
  connection.<a href="#ftn.d0e1222" class="footnote"><sup class="footnote" id="d0e1222">[1]</sup></a>
  In other words, it is important for both OpenDJ and client applications
  to be able to verify that peer certificates exchanged have been signed by
  a trusted party.</p><p>In practice this means that both OpenDJ and client applications must
  put the certificates that were used to sign each others' certificates in their
  respective trust stores. Conventionally, certificates are therefore signed by
  a Certificate Authority (CA). A CA is trusted to sign other certificates. The
  Java runtime environment for example comes with a trust store holding
  certificates from many well-known CAs.<a href="#ftn.d0e1228" class="footnote"><sup class="footnote" id="d0e1228">[2]</sup></a> If your client uses a valid
  certificate signed by one of these CAs, then OpenDJ can verify the
  certificate without additional configuration, because OpenDJ can find
  the CA certificate in the Java CA certificate trust store. Likewise if
  you set up StartTLS or LDAPS in OpenDJ using a valid certificate signed
  by one of these CAs, then many client applications can verify the OpenDJ
  server certificate without further configuration.</p><p>In summary, if you need a certificate to be recognized automatically,
  get the certificate signed by a well-known CA.</p><p>You can, however, choose to have your certificates signed some other
  way. You can set up your own CA. You can use a CA whose signing certificate
  is not widely distributed. You can also use self-signed certificates. In each
  case, you must add the signing certificates into the trust store of each
  peer making secure connections.</p><p>For OpenDJ directory server, you can choose to import your own CA-signed
  certificate as part of the installation process, or later using command-line
  tools. Alternatively, you can let the OpenDJ installation program create a
  self-signed certificate as part of the OpenDJ installation process. In
  addition, you can add a signing certificate to the OpenDJ trust store using
  the Java <span class="command"><strong>keytool</strong></span> command.</p><p>The following example shows the <span class="command"><strong>keytool</strong></span> command to
  add a client application's binary format, self-signed certificate to the
  OpenDJ trust store (assuming OpenDJ is already configured to use secure
  connections). This enables OpenDJ to recognize the self-signed client
  application certificate. (By definition a self-signed certificate is itself
  the signing certificate. Notice that the Owner and the Issuer are the
  same.)</p><pre class="cmdline prettyprint">$ keytool
 -import
 -alias myapp-cert
 -file myapp-cert.crt
 -keystore /path/to/opendj/config/truststore
 -storepass `cat /path/to/opendj/config/keystore.pin`
Owner: CN=My App, OU=Apps, DC=example, DC=com
Issuer: CN=My App, OU=Apps, DC=example, DC=com
Serial number: 5ae2277
Valid from: Fri Jan 18 18:27:09 CET 2013 until: Thu Jan 13 18:27:09 CET 2033
Certificate fingerprints:
	 MD5:  48:AC:F9:13:11:E0:AB:C4:65:A2:83:9E:DB:FE:0C:37
	 SHA1: F9:61:54:37:AA:C1:BC:92:45:07:64:4B:23:6C:BC:C9:CD:1D:44:0F
	 SHA256: 2D:B1:58:CD:33:40:E9:ED:...:EA:C9:FF:6A:19:93:FE:E4:84:E3
	 Signature algorithm name: SHA256withRSA
	 Version: 3

Extensions:

#1: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: 54 C0 C5 9C 73 37 85 4B   F2 3B D3 37 FD 45 0A AB  T...s7.K.;.7.E..
0010: C9 6B 32 95                                        .k2.
]
]

Trust this certificate? [no]:  yes
Certificate was added to keystore</pre><p>When working with a certificate in printable encoding format (.pem)
  rather than binary format, use the <code class="option">-rfc</code> option, too.</p><p>Restart OpenDJ after adding certificates to the trust store to make
  sure that OpenDJ reads the updated trust store file.</p><p>On the client side, if your applications are also Java applications,
  then you can also import the OpenDJ signing certificate into the trust
  store for the applications using the <span class="command"><strong>keytool</strong></span>
  command.</p><p>The following example shows the <span class="command"><strong>keytool</strong></span> command
  to export the OpenDJ self-signed certificate in binary format.</p><pre class="cmdline prettyprint">$ keytool
 -export
 -alias server-cert
 -file server-cert.crt
 -keystore /path/to/opendj/config/keystore
 -storepass `cat /path/to/opendj/config/keystore.pin`
Certificate stored in file &lt;server-cert.crt&gt;</pre><p>Importing the server certificate is similar to importing the client
  certificate, as shown above.</p><p>The following sections describe how to get and install certificates
  for OpenDJ directory server on the command line, for use when setting up
  StartTLS or LDAPS.</p><div class="procedure" id="new-ca-signed-cert"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.2.&nbsp;To Request and Install a CA-Signed Certificate</div><p>First you create a server certificate in a Java Key Store. Next you
   issue a signing request to the CA, and get the CA-signed certificate as a
   reply. Then you set up the Key Manager Provider and Trust Manager Provider
   to rely on your new server certificate stored in the OpenDJ key store.</p><ol class="procedure" type="1"><li class="step"><p>Generate the server certificate by using the Java
    <span class="command"><strong>keytool</strong></span> command.</p><p>The CN attribute value is the FQDN for OpenDJ directory server, which
    you can see under Server Details in the OpenDJ Control Panel.</p><pre class="cmdline prettyprint">$ keytool
 -genkey
 -alias server-cert
 -keyalg rsa
 -dname "CN=opendj.example.com,O=Example Corp,C=FR"
 -keystore /path/to/opendj/config/keystore
 -storepass changeit
 -keypass changeit</pre><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>Notice that the <code class="option">-storepass</code> and
    <code class="option">-keypass</code> options take identical password arguments.
    OpenDJ requires that you use the same password to protect both the keystore
    and also the private key.</p></div></div></li><li class="step"><p>Create a certificate signing request file for the certificate you
    generated.</p><pre class="cmdline prettyprint">$ keytool
 -certreq
 -alias server-cert
 -keystore /path/to/opendj/config/keystore
 -storepass changeit
 -file server-cert.csr</pre></li><li class="step"><p>Have the CA sign the request
    (<code class="filename">server-cert.csr</code>).</p><p>See the instructions from your CA on how to provide the
    request.</p><p>The CA returns the signed certificate.</p></li><li class="step"><p>If you have set up your own CA and signed the certificate, or are
    using a CA whose signing certificate is not included in the Java runtime
    environment, import the CA certificate into the key store so that it can be
    trusted.</p><p>Otherwise, when you import the signed certificate in the reply from
    the (unknown) CA, <span class="command"><strong>keytool</strong></span> fails to import the signed
    certificate with the message <code class="literal">keytool error: java.lang.Exception:
    Failed to establish chain from reply</code>.</p><p>The following example illustrates import of a CA certificate created
    with the <span class="command"><strong>openssl</strong></span> command. See the
    <span class="command"><strong>openssl</strong></span> documentation for instructions on creating CAs
    and on signing other certificates with the CA you created.</p><pre class="cmdline prettyprint">$ keytool
 -import
 -keystore /path/to/opendj/config/keystore
 -file ca.crt
 -alias ca-cert
 -storepass changeit
Owner: EMAILADDRESS=admin@example.com, CN=Example CA, O=Example Corp, C=FR
Issuer: EMAILADDRESS=admin@example.com, CN=Example CA, O=Example Corp, C=FR
Serial number: d4586ea05c878b0c
Valid from: Tue Jan 29 09:30:31 CET 2013 until: Mon Jan 24 09:30:31 CET 2033
Certificate fingerprints:
	 MD5:  8A:83:61:9B:E7:18:A2:21:CE:92:94:96:59:68:60:FA
	 SHA1: 01:99:18:38:3A:57:D7:92:7B:D6:03:8C:7B:E4:1D:37:45:0E:29:DA
	 SHA256: 5D:20:F1:86:CC:CD:64:50:...:DF:15:43:07:69:44:00:FB:36:CF
	 Signature algorithm name: SHA1withRSA
	 Version: 3

Extensions:

#1: ObjectId: 2.5.29.35 Criticality=false
AuthorityKeyIdentifier [
KeyIdentifier [
0000: 30 07 67 7D 1F 09 B6 E6   90 85 95 58 94 37 FD 31  0.g........X.7.1
0010: 03 D4 56 7B                                        ..V.
]
[EMAILADDRESS=admin@example.com, CN=Example CA, O=Example Corp, C=FR]
SerialNumber: [    d4586ea0 5c878b0c]
]

#2: ObjectId: 2.5.29.19 Criticality=false
BasicConstraints:[
  CA:true
  PathLen:2147483647
]

#3: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: 30 07 67 7D 1F 09 B6 E6   90 85 95 58 94 37 FD 31  0.g........X.7.1
0010: 03 D4 56 7B                                        ..V.
]
]

Trust this certificate? [no]:  yes
Certificate was added to keystore</pre></li><li class="step"><p>Import the signed certificate from the CA reply into the keystore
    where you generated the server certificate.</p><p>In this example the certificate from the reply is
    <code class="filename">~/Downloads/server-cert.crt</code>.</p><pre class="cmdline prettyprint">$ keytool
 -import
 -trustcacerts
 -alias server-cert
 -file ~/Downloads/server-cert.crt
 -keystore /path/to/opendj/config/keystore
 -storepass changeit
 -keypass changeit
Certificate reply was installed in keystore</pre></li><li class="step"><p>Configure the File Based Key Manager Provider for JKS to use the file
    name and key store PIN that you set up with the <span class="command"><strong>keytool</strong></span>
    command.</p><pre class="cmdline prettyprint">$ dsconfig
 set-key-manager-provider-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name JKS
 --set enabled:true
 --set key-store-pin:changeit
 --remove key-store-pin-file:config/keystore.pin
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Configure the File Based Trust Manager Provider for JKS to use the
    key store and PIN as well.</p><pre class="cmdline prettyprint">$ dsconfig
 set-trust-manager-provider-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name JKS
 --set enabled:true
 --set trust-store-file:config/keystore
 --set trust-store-pin:changeit
 --trustAll
 --no-prompt</pre><p>At this point, OpenDJ directory server can use your new CA-signed
    certificate, for example for StartTLS and LDAPS connection handlers.</p></li><li class="step"><p>If you use a CA certificate that is not known to clients, such as a
    CA that you set up yourself rather than a well-known CA whose certificate
    is included with the client system, import the CA certificate into the
    client application trust store. Otherwise the client application cannot
    trust the signature on the OpenDJ CA-signed server certificate.</p></li></ol></div></div><div class="procedure" id="new-self-signed-cert"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.3.&nbsp;To Create &amp; Install a Self-Signed Certificate</div><p>If you choose to configure LDAP Secure Access when setting up OpenDJ
   directory server, the setup program generates a key pair in the Java Key
   Store <code class="filename">/path/to/opendj/config/keystore</code>, and self-signs
   the public key certificate, which has the alias <code class="literal">server-cert</code>.
   The password for the key store and the private key is stored in clear text
   in the file <code class="filename">/path/to/opendj/config/keystore.pin</code>.</p><p>If you want to secure communications, but did not chose to configure
   LDAP Secure Access at setup time, this procedure can help. The following
   steps explain how to create and install a key pair with a self-signed
   certificate in preparation to configure LDAPS or HTTPS. First you create a
   key pair in a new Java Key Store, and then self-sign the certificate. Next,
   you set up the Key Manager Provider and Trust Manager Provider to access
   the new server certificate in the new key store.</p><p>If instead you want to <span class="emphasis"><em>replace the existing server key pair
   with self-signed certificate</em></span>, then first use <span class="command"><strong>keytool
   -delete -alias server-cert</strong></span> to delete the existing keys before you
   generate a new key pair with the same alias. You can also either reuse the
   existing password in <code class="filename">keystore.pin</code>, or use a new password
   as shown in the steps below.</p><ol class="procedure" type="1"><li class="step"><p>Generate the server certificate using the Java
    <span class="command"><strong>keytool</strong></span> command.</p><pre class="cmdline prettyprint">$ keytool
 -genkey
 -alias server-cert
 -keyalg rsa
 -dname "CN=opendj.example.com,O=Example Corp,C=FR"
 -keystore /path/to/opendj/config/keystore
 -storepass changeit
 -keypass changeit</pre><p>In this example, OpenDJ is running on a system with fully qualified
    host name <code class="literal">opendj.example.com</code>. The Java Key Store (JKS)
    is created in the <code class="filename">config</code> directory where OpenDJ is
    installed, which is the default value for JKS.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>Notice that the <code class="option">-storepass</code> and
     <code class="option">-keypass</code> options take identical password arguments.
     OpenDJ requires that you use the same password to protect both the
     key store and also the private key.</p></div></div><p>Keep track of the password provided to the <code class="option">-storepass</code>
    and <code class="option">-keypass</code> options.</p></li><li class="step"><p>Self-sign the server certificate.</p><pre class="cmdline prettyprint">$ keytool
 -selfcert
 -alias server-cert
 -keystore /path/to/opendj/config/keystore
 -storepass changeit</pre></li><li class="step"><p>Configure the File Based Key Manager Provider for JKS to access the
    Java Key Store with key store/private key password.</p><p>In this example, the alias is <code class="literal">server-cert</code> and the
    password is <code class="literal">changeit</code>.</p><p>If you are replacing a key pair with a self-signed certificate,
    reusing the <code class="literal">server-cert</code> alias and password stored in
    <code class="filename">keystore.pin</code>, then you can skip this step.</p><pre class="cmdline prettyprint">$ echo changeit &gt; /path/to/opendj/config/keystore.pin
$ chmod 600 /path/to/opendj/config/keystore.pin
$ dsconfig
 set-key-manager-provider-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name JKS
 --set enabled:true
 --set key-store-file:config/keystore
 --set key-store-pin-file:config/keystore.pin
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Configure the File Based Trust Manager Provider for JKS to use the
    key store and PIN as well.</p><p>If you skipped the previous step, you can also skip this step.</p><pre class="cmdline prettyprint">$ dsconfig
 set-trust-manager-provider-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name JKS
 --set enabled:true
 --set trust-store-file:config/keystore
 --set trust-store-pin-file:config/keystore.pin
 --trustAll
 --no-prompt</pre><p>At this point, OpenDJ directory server can use your new self-signed
    certificate, for example for StartTLS and LDAPS or HTTPS connection
    handlers.</p></li></ol></div></div></div><div class="section" id="configure-starttls"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.3.&nbsp;LDAP Client Access With Transport Layer Security</h2></div></div></div><a class="indexterm" name="d0e1474"></a><p>StartTLS (Transport Layer Security) negotiations start on the unsecure
  LDAP port, and then protect communication with the client. You can opt to
  configure StartTLS during installation, or later using the
  <span class="command"><strong>dsconfig</strong></span> command.</p><div class="procedure" id="setup-starttls-port"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.4.&nbsp;To Enable StartTLS on the LDAP Port</div><ol class="procedure" type="1"><li class="step"><p>Make sure you have a server certificate installed.</p><pre class="cmdline prettyprint">$ keytool
 -list
 -alias server-cert
 -keystore /path/to/opendj/config/keystore
 -storepass `cat /path/to/opendj/config/keystore.pin`
server-cert, Jun 17, 2013, PrivateKeyEntry,
Certificate fingerprint (SHA1): 92:B7:4C:4F:2E:24:...:EB:7C:22:3F
    </pre></li><li class="step"><p>Activate StartTLS on the current LDAP port.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAP Connection Handler"
 --set allow-start-tls:true
 --set key-manager-provider:JKS
 --set trust-manager-provider:JKS
 --trustAll
 --no-prompt</pre><p>The change takes effect. No need to restart the server.</p></li></ol></div></div></div><div class="section" id="configure-ssl"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.4.&nbsp;LDAP Client Access Over SSL</h2></div></div></div><a class="indexterm" name="d0e1502"></a><p>You configure LDAPS (LDAP/SSL) client access by using the command-line
  tool <span class="command"><strong>dsconfig</strong></span>. You can opt to configure LDAPS access
  when you install.</p><p>The standard port number for LDAPS client access is 636. If you
  install OpenDJ directory server as a user who can use port 636 and the port
  is not yet in use, then 636 is the default port number presented at
  installation time. If you install as a user who cannot use a port &lt; 1024,
  then the default port number presented at installation time is 1636.</p><div class="procedure" id="setup-ssl-port"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.5.&nbsp;To Set Up LDAPS Access</div><ol class="procedure" type="1"><li class="step"><p>Make sure you have a server certificate installed.</p><pre class="cmdline prettyprint">$ keytool
 -list
 -alias server-cert
 -keystore /path/to/opendj/config/keystore
 -storepass `cat /path/to/opendj/config/keystore.pin`
server-cert, Jun 17, 2013, PrivateKeyEntry,
Certificate fingerprint (SHA1): 92:B7:4C:4F:2E:24:...:EB:7C:22:3F
    </pre></li><li class="step"><p>Configure the server to activate LDAPS access.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAPS Connection Handler"
 --set listen-port:1636
 --set enabled:true
 --set use-ssl:true
 --trustAll
 --no-prompt</pre><p>This example changes the port number to 1636 in the configuration.</p></li></ol></div></div><div class="procedure" id="change-ssl-port"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.6.&nbsp;To Change the LDAPS Port Number</div><ol class="procedure" type="1"><li class="step"><p>Change the port number using the <span class="command"><strong>dsconfig</strong></span>
    command.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAPS Connection Handler"
 --set listen-port:11636
 --trustAll
 --no-prompt</pre><p>This example changes the port number to 11636 in the configuration.</p></li><li class="step"><p>Restart the connection handler so the change takes effect.</p><p> To restart the connection handler, you disable it, then enable
    it again.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAPS Connection Handler"
 --set enabled:false
 --trustAll
 --no-prompt
$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAPS Connection Handler"
 --set enabled:true
 --trustAll
 --no-prompt</pre></li></ol></div></div></div><div class="section" id="restrict-clients"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.5.&nbsp;Restricting Client Access</h2></div></div></div><a class="indexterm" name="d0e1554"></a><p>Using the OpenDJ directory server global configuration properties, you
  can add global restrictions on how clients access the server. These settings
  are per server, and so much be set independently on each server in replication
  topology.</p><p>These global settings are fairly coarse-grained. For a full discussion
  of the rich set of administrative privileges and fine-grained access control
  instructions that OpenDJ supports, see the chapter on <a href="../admin-guide/index.html#chap-privileges-acis" class="link"><em class="citetitle">Configuring
  Privileges &amp; Access Control</em></a>.</p><div class="variablelist"><p>Consider the following global configuration settings.</p><dl class="variablelist"><dt><span class="term"><code class="literal">bind-with-dn-requires-password</code></span></dt><dd><p>Whether the directory server should reject any simple bind request
     that contains a DN but no password. Default: <code class="literal">true</code></p><p>To change this setting use the following command.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set bind-with-dn-requires-password:false
 --no-prompt</pre></dd><dt><span class="term"><code class="literal">max-allowed-client-connections</code></span></dt><dd><p>Restricts the number of concurrent client connections to the
     directory server. Default: 0, meaning no limit is set</p><p>To set a limit of 32768 use the following command.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set max-allowed-client-connections:32768
 --no-prompt</pre></dd><dt><span class="term"><code class="literal">reject-unauthenticated-requests</code></span></dt><dd><p>Rejects any request (other than bind or StartTLS requests) received
     from a client that has not yet been authenticated, whose last
     authentication attempt was unsuccessful, or whose last authentication
     attempt used anonymous authentication. Default: <code class="literal">false</code></p><p>To shut down anonymous binds use the following command.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set reject-unauthenticated-requests:true
 --no-prompt</pre></dd><dt><span class="term"><code class="literal">return-bind-error-messages</code></span></dt><dd><p>Does not restrict access, but by default prevents OpenDJ directory
     server from returning extra information about why a bind failed, as that
     information could be used by an attacker. Instead, the information is
     written to the server errors log. Default: <code class="literal">false</code></p><p>To have OpenDJ return additional information about why a bind failed
     use the following command.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set return-bind-error-messages:true
 --no-prompt</pre></dd></dl></div></div><div class="section" id="tls-protocols-cipher-suites"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.6.&nbsp;TLS Protocols &amp; Cipher Suites</h2></div></div></div><a class="indexterm" name="d0e1625"></a><p>By default OpenDJ supports the SSL and TLS protocols and the cipher
  suites supported by the underlying Java virtual machine. For details see the
  documentation for the Java virtual machine in which you run OpenDJ. For Oracle
  Java, see the <em class="citetitle">Java Cryptography Architecture Oracle Providers
  Documentation</em> for the <a class="link" href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/SunProviders.html#SunJSSEProvider" target="_blank">The <code class="literal">SunJSSE</code> Provider</a>.</p><p>To list the available protocols and cipher suites, read the
  <code class="literal">supportedTLSProtocols</code> and
  <code class="literal">supportedTLSCiphers</code> attributes of the root DSE. Install
  unlimited strength Java cryptography extensions for stronger ciphers.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN "" --searchScope base "(objectclass=*)"
 supportedTLSCiphers supportedTLSProtocols
dn:
supportedTLSCiphers: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_RSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_RSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_DHE_RSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_DHE_DSS_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_ECDHE_ECDSA_WITH_RC4_128_SHA
supportedTLSCiphers: TLS_ECDHE_RSA_WITH_RC4_128_SHA
supportedTLSCiphers: SSL_RSA_WITH_RC4_128_SHA
supportedTLSCiphers: TLS_ECDH_ECDSA_WITH_RC4_128_SHA
supportedTLSCiphers: TLS_ECDH_RSA_WITH_RC4_128_SHA
supportedTLSCiphers: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: SSL_RSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: SSL_RSA_WITH_RC4_128_MD5
supportedTLSCiphers: TLS_EMPTY_RENEGOTIATION_INFO_SCSV
supportedTLSProtocols: SSLv2Hello
supportedTLSProtocols: SSLv3
supportedTLSProtocols: TLSv1
supportedTLSProtocols: TLSv1.1
supportedTLSProtocols: TLSv1.2
</pre><p>You can restrict the list of protocols and cipher suites used by setting
  the <code class="literal">ssl-protocol</code> and <code class="literal">ssl-cipher-suite</code>
  connection handler properties to include only the protocols or cipher suites
  you want.</p><p>For example, to restrict the cipher suites to
  <code class="literal">TLS_EMPTY_RENEGOTIATION_INFO_SCSV</code> and
  <code class="literal">TLS_RSA_WITH_AES_256_CBC_SHA</code> use the <span class="command"><strong>dsconfig
  set-connection-handler-prop</strong></span> command as shown in the following
  example.</p><pre class="cmdline prettyprint">$ dsconfig
   set-connection-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAPS Connection Handler"
 --add ssl-cipher-suite:TLS_EMPTY_RENEGOTIATION_INFO_SCSV
 --add ssl-cipher-suite:TLS_RSA_WITH_AES_256_CBC_SHA
 --no-prompt
 --trustAll</pre></div><div class="section" id="setup-rest2ldap"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.7.&nbsp;RESTful Client Access</h2></div></div></div><a class="indexterm" name="d0e1674"></a><a class="indexterm" name="d0e1677"></a><a class="indexterm" name="d0e1680"></a><div class="orderedlist"><p>OpenDJ offers two ways to give RESTful client applications HTTP access
   to directory data as JSON resources.</p><ol class="orderedlist" type="1"><li class="listitem"><p>Enable the listener on OpenDJ directory server to respond
    to REST requests.</p><p>With this approach, you do not need to install additional
    software.</p></li><li class="listitem"><p>Configure the external REST LDAP gateway Servlet to access your
    directory service.</p><p>With this approach, you must install the gateway separately.</p></li></ol></div><div class="procedure" id="setup-rest2ldap-connection-handler"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.7.&nbsp;To Set Up REST Access to OpenDJ Directory Server</div><p>OpenDJ directory server has a handler for HTTP connections, where it
   exposes the RESTful API demonstrated in the chapter on
   <a href="../admin-guide/index.html#chap-rest-operations" class="link"><em class="citetitle">Performing
   RESTful Operations</em></a>. The HTTP connection handler is not
   enabled by default.</p><p>You configure the mapping between JSON resources and LDAP entries
   by editing the configuration file for the HTTP connection handler, by
   default <code class="filename">/path/to/opendj/config/http-config.json</code>. The
   configuration is described in the appendix, <a href="../admin-guide/index.html#appendix-rest2ldap" class="link"><em class="citetitle">REST LDAP
   Configuration</em></a>. The default mapping works out of the box
   with Example.com data generated as part of the setup process and with
   <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank">Example.ldif</a>.</p><ol class="procedure" type="1"><li class="step"><p>Enable the connection handler.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "HTTP Connection Handler"
 --set enabled:true
 --no-prompt
 --trustAll</pre></li><li class="step"><p>Enable the HTTP access log.</p><pre class="cmdline prettyprint">$ dsconfig
 set-log-publisher-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based HTTP Access Logger"
 --set enabled:true
 --no-prompt
 --trustAll</pre><p>This enables the HTTP access log,
    <code class="filename">opendj/logs/http-access</code>. For details on the
    format of the HTTP access log, see the section on <a href="../admin-guide/index.html#logging" class="link"><em class="citetitle">Server
    Logs</em></a>.</p></li><li class="step"><p>Try reading a resource.</p><p>The HTTP connection handler paths start by default at the root
    context, as shown in the following example.</p><pre class="cmdline prettyprint">$ curl http://bjensen:hifalutin@opendj.example.com:8080/users/bjensen
 ?_prettyPrint=true
{
  "_rev" : "00000000315fb731",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "manager" : [ {
    "_id" : "trigden",
    "displayName" : "Torrey Rigden"
  } ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1862",
    "emailAddress" : "bjensen@example.com"
  },
  "_id" : "bjensen",
  "name" : {
    "familyName" : "Jensen",
    "givenName" : "Barbara"
  },
  "userName" : "bjensen@example.com",
  "displayName" : "Barbara Jensen"
}</pre></li><li class="step"><p>If necessary, change the connection handler configuration using the
    <span class="command"><strong>dsconfig</strong></span> command.</p><p>The following example shows how to set the port to 8443, and to
    configure the connection handler to do SSL (using the default server
    certificate). If you did not generate a default, self-signed certificate
    when installing OpenDJ directory server see the instructions, <a href="../admin-guide/index.html#new-self-signed-cert" class="link"><em class="citetitle">To Create &amp;
    Install a Self-Signed Certificate</em></a>, and more generally the
    section on <a href="../admin-guide/index.html#setup-server-cert" class="link"><em class="citetitle">Preparing For
    Secure Communications</em></a> for additional instructions
    including how to import a CA-signed certificate.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "HTTP Connection Handler"
 --set listen-port:8443
 --set use-ssl:true
 --set key-manager-provider:JKS
 --set trust-manager-provider:"Blind Trust"
 --no-prompt
$ stop-ds --restart
Stopping Server...
.... The Directory Server has started successfully
$ keytool
 -export
 -rfc
 -alias server-cert
 -keystore /path/to/opendj/config/keystore
 -storepass `cat /path/to/opendj/config/keystore.pin`
 -file server-cert.pem
Certificate stored in file &lt;server-cert.pem&gt;
$ curl
 --cacert server-cert.pem
 --user bjensen:hifalutin
 https://opendj.example.com:8443/users/bjensen?_prettyPrint=true
{
  "_rev" : "0000000018c8b685",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1862",
    "emailAddress" : "bjensen@example.com"
  },
  "_id" : "bjensen",
  "name" : {
    "familyName" : "Jensen",
    "givenName" : "Barbara"
  },
  "userName" : "bjensen@example.com",
  "displayName" : "Barbara Jensen",
  "manager" : [ {
    "_id" : "trigden",
    "displayName" : "Torrey Rigden"
  } ]
}</pre></li></ol></div></div><div class="procedure" id="setup-rest2ldap-gateway"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.8.&nbsp;To Set Up OpenDJ REST LDAP Gateway</div><p>Follow these steps to set up OpenDJ REST LDAP gateway Servlet to access
   your directory service.</p><ol class="procedure" type="1"><li class="step"><p>Download and install the gateway as described in <a href="../install-guide/index.html#install-rest2ldap-servlet" class="link"><em class="citetitle">To Install
    OpenDJ REST LDAP Gateway</em></a>.</p></li><li class="step"><p>Adjust the configuration for your directory service as described in
    <a href="../admin-guide/index.html#appendix-rest2ldap" class="link"><em class="citetitle">REST LDAP
    Configuration</em></a>.</p></li></ol></div></div></div><div class="section" id="setup-dsml"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.8.&nbsp;DSML Client Access</h2></div></div></div><a class="indexterm" name="d0e1786"></a><p>Directory Services Markup Language (DSML) client access is implemented
  as a servlet that runs in a web application container.</p><p>You configure DSML client access by editing the
  <code class="filename">WEB-INF/web.xml</code> after you deploy the web
  application. In particular, you must at least set the
  <code class="literal">ldap.host</code> and <code class="literal">ldap.port</code> parameters
  if they differ from the default values, which are
  <code class="literal">localhost</code> and <code class="literal">389</code>.</p><div class="variablelist"><p>The list of DSML configuration parameters, including those that are
   optional, consists of the following.</p><dl class="variablelist"><dt><span class="term"><code class="literal">ldap.host</code></span></dt><dd><p>Required parameter indicating the host name of the underlying
     directory server. Default: <code class="literal">localhost</code>.</p></dd><dt><span class="term"><code class="literal">ldap.port</code></span></dt><dd><p>Required parameter indicating the LDAP port of the underlying
     directory server. Default: 389.</p></dd><dt><span class="term"><code class="literal">ldap.userdn</code></span></dt><dd><p>Optional parameter specifying the DN used by the DSML gateway to
     bind to the underlying directory server. Not used by default.</p></dd><dt><span class="term"><code class="literal">ldap.userpassword</code></span></dt><dd><p>Optional parameter specifying the password used by the DSML gateway
     to bind to the underlying directory server. Not used by default.</p></dd><dt><span class="term"><code class="literal">ldap.authzidtypeisid</code></span></dt><dd><p>This parameter can help you set up the DSML gateway to do HTTP
     Basic Access Authentication, given the appropriate mapping between the
     user ID, and the user's entry in the directory.</p><p>Required boolean parameter specifying whether the HTTP Authorization
     header field's Basic credentials in the request hold a plain ID, rather
     than a DN. If set to <code class="literal">true</code>, then the gateway performs an
     LDAP SASL bind using SASL plain, enabled by default in OpenDJ to look for
     an exact match between a <code class="literal">uid</code> value and the plain ID
     value from the header. In other words, if the plain ID is
     <code class="literal">bjensen</code>, and that corresponds in the directory server
     to Babs Jensen's entry with DN
     <code class="literal">uid=bjensen,ou=people,dc=example,dc=com</code>, then the bind
     happens as Babs Jensen. Note also that you can configure OpenDJ identity
     mappers for scenarios that use a different attribute than
     <code class="literal">uid</code>, such as the <code class="literal">mail</code>
     attribute.</p><p>Default: <code class="literal">false</code></p></dd><dt><span class="term"><code class="literal">ldap.usessl</code></span></dt><dd><p>Required parameter indicating whether <code class="literal">ldap.port</code>
     points to a port listening for LDAPS (LDAP/SSL) traffic. Default:
     <code class="literal">false</code>.</p></dd><dt><span class="term"><code class="literal">ldap.usestarttls</code></span></dt><dd><p>Required parameter indicating whether to use StartTLS to connect
     to the specified <code class="literal">ldap.port</code>. Default:
     <code class="literal">false</code>.</p></dd><dt><span class="term"><code class="literal">ldap.trustall</code></span></dt><dd><p>Required parameter indicating whether blindly to trust all
     certificates presented to the DSML gateway when using secure connections
     (LDAPS or StartTLS). Default: <code class="literal">false</code>.</p></dd><dt><span class="term"><code class="literal">ldap.truststore.path</code></span></dt><dd><p>Optional parameter indicating the trust store used to verify
     certificates when using secure connections. If you want to connect
     using LDAPS or StartTLS, and do not want the gateway blindly to trust
     all certificates, then you must set up a trust store. Not used by
     default.</p></dd><dt><span class="term"><code class="literal">ldap.truststore.password</code></span></dt><dd><p>Optional parameter indicating the trust store password. If you
     set up and configure a trust store, then you need to set this as well.
     Not used by default.</p></dd></dl></div><p>The DSML servlet translates between DSML and LDAP, and passes requests
  to the directory server. For initial testing purposes, you might try
  <a class="link" href="http://jxplorer.org/" target="_top">JXplorer</a>, where DSML Service:
  /<em class="replaceable"><code>webapp-dir</code></em>/DSMLServlet. Here,
  <em class="replaceable"><code>webapp-dir</code></em> refers to the name of the directory
  in which you unpacked the DSML .war file.</p><div class="mediaobject" align="center" id="figure-jxplorer-dsml"><a class="fancybox" href="images/JXplorer-dsml.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_JXplorer-dsml.png" align="middle"></a><div class="caption"><p>JXplorer accessing OpenDJ through DSML</p></div></div></div><div class="section" id="jmx-access"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.9.&nbsp;JMX Client Access</h2></div></div></div><a class="indexterm" name="d0e1943"></a><p>You configure Java Management Extensions (JMX) client access by using
  the command-line tool, <span class="command"><strong>dsconfig</strong></span>.</p><div class="procedure" id="setup-jmx"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.9.&nbsp;To Set Up JMX Access</div><ol class="procedure" type="1"><li class="step"><p>Configure the server to activate JMX access.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "JMX Connection Handler"
 --set enabled:true
 --trustAll
 --no-prompt</pre><p>This example uses the default port number, 1689.</p></li><li class="step"><p>Restart the server so the change takes effect.</p><pre class="cmdline prettyprint">$ stop-ds --restart</pre></li></ol></div></div><div class="procedure" id="access-jmx"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.10.&nbsp;To Configure Access To JMX</div><p>After you set up OpenDJ directory server to listen for JMX connections,
   you must assign privileges in order to allow a user to connect over
   protocol.</p><ol class="procedure" type="1"><li class="step"><p>Assign the privileges, <code class="literal">jmx-notify</code>,
    <code class="literal">jmx-read</code>, and <code class="literal">jmx-write</code> as
    necessary to the user who connects over JMX.</p><p>See the section on <a href="../admin-guide/index.html#configure-privileges" class="link"><em class="citetitle">Configuring
    Privileges</em></a> for details.</p></li><li class="step"><p>Connect using the service URI, user name, and password.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Service URI</span></dt><dd><p>Full URI to the service including the hostname or IP address
       and port number for JMX where OpenDJ directory server listens for
       connections. For example, if the server IP is
       <code class="literal">192.168.0.10</code> and you configured OpenDJ to listen
       for JMX connections on port 1689, then the service URI is
       <code class="literal">service:jmx:rmi:///jndi/rmi://192.168.0.10:1689/org.opends.server.protocols.jmx.client-unknown</code>.</p></dd><dt><span class="term">User name</span></dt><dd><p>The full DN of the user with privileges to connect over JMX such
       as <code class="literal">uid=kvaughan,ou=People,dc=example,dc=com</code>.</p></dd><dt><span class="term">Password</span></dt><dd><p>The bind password for the user.</p></dd></dl></div></li></ol></div></div></div><div class="section" id="ldif-access"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.10.&nbsp;LDIF File Access</h2></div></div></div><a class="indexterm" name="d0e2025"></a><p>The LDIF connection handler lets you make changes to directory data
  by placing LDIF in a file system directory that OpenDJ server regularly
  polls for changes. The LDIF, once consumed, is deleted.</p><p>You configure LDIF file access by using the command-line tool
  <span class="command"><strong>dsconfig</strong></span>.</p><div class="procedure" id="setup-ldif-access"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;4.11.&nbsp;To Set Up LDIF File Access</div><ol class="procedure" type="1"><li class="step"><p>Activate LDIF file access.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDIF Connection Handler"
 --set enabled:true
 --trustAll
 --no-prompt</pre><p>The change takes effect immediately.</p></li><li class="step"><p>Add the directory where you put LDIF to be processed.</p><pre class="cmdline prettyprint">$ mkdir /path/to/opendj/config/auto-process-ldif</pre><p>This example uses the default value of the
    <code class="literal">ldif-directory</code> property for the LDIF connection
    handler.</p></li></ol></div></div></div><div class="section" id="snmp-access"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.11.&nbsp;SNMP Access</h2></div></div></div><p>For instructions on setting up the SNMP Connection Handler, see the
  section, <a href="../admin-guide/index.html#snmp-monitoring" class="link"><em class="citetitle">SNMP-Based
  Monitoring</em></a>.</p></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e1222" class="footnote"><p><a href="#d0e1222" class="para"><sup class="para">[1] </sup></a>Unless you use the Blind Trust Manager
  Provider, which is recommended only for test purposes.</p></div><div id="ftn.d0e1228" class="footnote"><p><a href="#d0e1228" class="para"><sup class="para">[2] </sup></a><code class="filename">$JAVA_HOME/jre/lib/security/cacerts</code> holds the CA certificates.
   To read the full list, use the following command.</p><pre class="cmdline prettyprint">$ keytool
 -list
 -v
 -keystore $JAVA_HOME/jre/lib/security/cacerts
 -storepass changeit</pre></div></div></div><div lang="en" class="chapter" id="chap-privileges-acis"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;5.&nbsp;Configuring Privileges &amp; Access Control</h1></div></div></div><p>OpenDJ supports two mechanisms to protect access to the directory,
 <em class="firstterm">access control instructions</em> and
 <em class="firstterm">privileges</em>.</p><p>Access control instructions apply to directory data, providing
 fine-grained control over what a user or group member is authorized to do in
 terms of LDAP operations. Most access control instructions specify scopes
 (targets) to which they apply such that an administrative user who has all
 access to <code class="literal">dc=example,dc=com</code> need not have any access to
 <code class="literal">dc=example,dc=org</code>.</p><p>Privileges control the administrative tasks that users can perform,
 such as bypassing the access control mechanism, performing backup and restore
 operations, making changes to the configuration, and so forth. Privileges are
 implemented independently from access control. By default, privileges restrict
 administrative access to directory root users, though any user can be assigned
 a privilege. Privileges apply to a directory server, and do not have a
 scope.</p><p>Some operations require both privileges and also access control
 instructions. For example, in order to reset user's passwords, an administrator
 needs both the <code class="literal">password-reset</code> privilege and also access
 control to write <code class="literal">userPassword</code> values on the user entries.
 By combining an access control instruction with a privilege, you can
 effectively restrict the scope of that privilege to a particular branch of
 the Directory Information Tree.</p><p>This chapter covers both access control instructions and privileges,
 demonstrating how to configure both.</p><div class="section" id="about-acis"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.1.&nbsp;About Access Control Instructions</h2></div></div></div><a class="indexterm" name="d0e2103"></a><p>OpenDJ directory server access control instructions (ACIs) exist as
  operational <code class="literal">aci</code> attribute values on directory entries, and
  as global ACIs stored in the configuration. ACIs apply to a scope defined in
  the instruction, and set permissions that depend on what operation is
  requested, who requested the operation, and how the client connected to the
  server.</p><p>For example, the ACIs on the following entry allow anonymous read
  access to all attributes except passwords, and allow read-write access
  for directory administrators under <code class="literal">dc=example,dc=com</code>.</p><pre class="codelisting prettyprint">dn: dc=example,dc=com
objectClass: domain
objectClass: top
dc: example
aci: (target ="ldap:///dc=example,dc=com")(targetattr !=
 "userPassword")(version 3.0;acl "Anonymous read-search access";
 allow (read, search, compare)(userdn = "ldap:///anyone");)
aci: (target="ldap:///dc=example,dc=com") (targetattr =
 "*")(version 3.0; acl "allow all Admin group"; allow(all) groupdn =
 "ldap:///cn=Directory Administrators,ou=Groups,dc=example,dc=com";)
  </pre><p>OpenDJ directory server's default behavior is that no access is allowed
  unless it is specifically granted by an access control instruction. In
  addition privileges assigned to certain users such as <code class="literal">cn=Directory
  Manager</code> allow them to bypass access control checks.</p><p>OpenDJ directory server provides several global ACIs out of the box to
  facilitate evaluation while maintaining a reasonable security policy. By
  default users are allow to read the root DSE, to read the schema, to use
  certain controls and extended operations, to modify their own entries, to
  bind, and so forth. Global ACIs are defined on the access control handler,
  and apply to the entire directory server. You must adjust the default global
  ACIs to match the security policies for your organization, for example to
  restrict anonymous access.</p><p>ACI attribute values use a specific language described in this section.
  Although ACI attribute values can become difficult to read in LDIF, the
  basic syntax is simple.</p><pre class="literallayout"><em class="replaceable"><code>targets</code></em>(version 3.0;acl "<em class="replaceable"><code>name</code></em>";<em class="replaceable"><code>permissions</code></em> <em class="replaceable"><code>subjects</code></em>;)</pre><p>The following list briefly explains the variables in the syntax above.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>targets</code></em></span></dt><dd><p>The <em class="replaceable"><code>targets</code></em> specifies entries, attributes,
     controls, and extended operations to which the ACI applies.</p><p>To include multiple <em class="replaceable"><code>targets</code></em>, enclose
     each individual target in parentheses, (). When you specify multiple
     targets, all targets must match for the ACI to apply
     (<code class="literal">AND</code>).</p></dd><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd><p>Supplies a human-readable description of what the ACI does.</p></dd><dt><span class="term"><em class="replaceable"><code>permissions</code></em></span></dt><dd><p>Defines which actions to allow, and which to deny. Paired with
     <em class="replaceable"><code>subjects</code></em>.</p></dd><dt><span class="term"><em class="replaceable"><code>subjects</code></em></span></dt><dd><p>Identify clients to which the ACI applies depending on
     who connected, and when, where, and how they connected. Paired with
     <em class="replaceable"><code>permissions</code></em>.</p></dd></dl></div><p>Separate multiple pairs of <em class="replaceable"><code>permissions</code></em>
  <em class="replaceable"><code>subjects</code></em> definitions with semicolons, ;. When you
  specify multiple permissions-subjects pairs, at least one must match
  (<code class="literal">OR</code>).</p><div class="section" id="aci-targets"><div class="titlepage"><div><div><h3 class="title">5.1.1.&nbsp;ACI Targets</h3></div></div></div><a class="indexterm" name="d0e2203"></a><p>The seven types of ACI targets identify the objects to which the ACI
   applies.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">(target = "ldap:///<em class="replaceable"><code>DN</code></em>")</code>, </span><span class="term"><code class="literal">(target != "ldap:///<em class="replaceable"><code>DN</code></em>")</code></span></dt><dd><p>Sets the scope to the entry with distinguished name
      <em class="replaceable"><code>DN</code></em>, and to child entries.</p><p>You can use asterisks, *, to replace attribute types, attribute
      values, and entire DN components. In other words, the following
      specification targets both
      <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code> and also
      <code class="literal">cn=Frank Zappa,ou=Musicians,dc=example,dc=com</code>.</p><pre class="codelisting prettyprint">(target = "ldap:///*=*,*,dc=example,dc=com")</pre><p>The <em class="replaceable"><code>DN</code></em> must be in the subtree of the
      entry on which the ACI is defined.</p><p>If you do not specify <code class="literal">target</code>, then the entry
      holding this ACI will be affected. If <code class="literal">targetscope</code> is
      also omitted, then this entry and all subordinates will be affected.</p></dd><dt><span class="term"><code class="literal">(targetattr = "<em class="replaceable"><code>attr-list</code></em>")</code>, </span><span class="term"><code class="literal">(targetattr != "<em class="replaceable"><code>attr-list</code></em>")</code></span></dt><dd><p>Replace <em class="replaceable"><code>attr-list</code></em> with a list of
      attribute type names, such as <code class="literal">userPassword</code>, separating
      multiple attribute type names with ||.</p><p>This specification affects the entry where the ACI is located, or
      the entries specified by other targets in the ACI.</p><p>You can use an asterisk, *, to specify all non-operational
      attributes, although you will see better performance when explicitly
      including or excluding attribute types needed. You can use a plus, +, to
      specify all operational attributes.</p><p>If you do not include this target specification, then by default
      no attributes are affected by the ACI.</p></dd><dt><span class="term"><code class="literal">(targetfilter = "<em class="replaceable"><code>ldap-filter</code></em>")</code>, </span><span class="term"><code class="literal">(targetfilter != "<em class="replaceable"><code>ldap-filter</code></em>")</code></span></dt><dd><p>Sets the scope to match the <em class="replaceable"><code>ldap-filter</code></em>
      dynamically, as in an LDAP search. The
      <em class="replaceable"><code>ldap-filter</code></em> can be any valid LDAP filter.</p></dd><dt><span class="term"><code class="literal">(targattrfilters = "<em class="replaceable"><code>expression</code></em>")</code>, </span><span class="term"><code class="literal">(targattrfilters != "<em class="replaceable"><code>expression</code></em>")</code></span></dt><dd><p>Use this target specification when managing changes made to
      particular attributes.</p><p>Here <em class="replaceable"><code>expression</code></em> takes one of the
      following forms. Separate expressions with semicolons, ;.</p><pre class="literallayout"><em class="replaceable"><code>op</code></em>=<em class="replaceable"><code>attr1</code></em>:<em class="replaceable"><code>filter1</code></em>[&amp;&amp; <em class="replaceable"><code>attr2</code></em>:<em class="replaceable"><code>filter2</code></em> &#8230;][;<em class="replaceable"><code>op</code></em>=<em class="replaceable"><code>attr3</code></em>:<em class="replaceable"><code>filter3</code></em>[&amp;&amp; <em class="replaceable"><code>attr4</code></em>:<em class="replaceable"><code>filter4</code></em> &#8230;] &#8230;]</pre><p>Here <em class="replaceable"><code>op</code></em> can be either
      <code class="literal">add</code> for operations creating attributes, or
      <code class="literal">delete</code> for operations removing them.
      Replace <em class="replaceable"><code>attr</code></em> with an attribute type.
      Replace <em class="replaceable"><code>filter</code></em> with an LDAP filter that
      corresponds to the <em class="replaceable"><code>attr</code></em> attribute type.</p></dd><dt><span class="term"><code class="literal">(targetscope = "base|onelevel|subtree|subordinate")</code></span></dt><dd><p>Here <code class="literal">base</code> refers to the entry where the ACI is
      defined, <code class="literal">onelevel</code> to immediate children,
      <code class="literal">subtree</code> to the base entry and all children, and
      <code class="literal">subordinate</code> to all children only.</p><p>If you do not specify <code class="literal">targetscope</code>, then the
      default is <code class="literal">subtree</code>.</p></dd><dt><span class="term"><code class="literal">(targetcontrol = "<em class="replaceable"><code>OID</code></em>")</code>, </span><span class="term"><code class="literal">(targetcontrol != "<em class="replaceable"><code>OID</code></em>")</code></span></dt><dd><p>Replace <em class="replaceable"><code>OID</code></em> with the object identifier
      for the LDAP control to target. Separate multiple OIDs with ||.</p><p>This target cannot be restricted to a specific subtree by combining
      it with another target.</p></dd><dt><span class="term"><code class="literal">(extop = "<em class="replaceable"><code>OID</code></em>")</code>, </span><span class="term"><code class="literal">(extop != "<em class="replaceable"><code>OID</code></em>")</code></span></dt><dd><p>Replace <em class="replaceable"><code>OID</code></em> with the object identifier
      for the extended operation to target. Separate multiple OIDs with ||.</p><p>This target cannot be restricted to a specific subtree by combining
      it with another target.</p></dd></dl></div></div><div class="section" id="aci-permissions"><div class="titlepage"><div><div><h3 class="title">5.1.2.&nbsp;ACI Permissions</h3></div></div></div><a class="indexterm" name="d0e2448"></a><p>ACI permission definitions take one of the following forms.</p><pre class="literallayout">allow(<em class="replaceable"><code>action</code></em>[, <em class="replaceable"><code>action</code></em> &#8230;])</pre><pre class="literallayout">deny(<em class="replaceable"><code>action</code></em>[, <em class="replaceable"><code>action</code></em> &#8230;])</pre><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Tip</h3></div><div class="panel-body"><p>Although <code class="literal">deny</code> is supported, avoid restricting
    permissions by using <code class="literal">deny</code>. Instead, explicitly
    <code class="literal">allow</code> access only where needed. What looks harmless and
    simple in your lab examples can grow difficult to maintain in a real-world
    deployment with nested ACIs.</p></div></div><p>Replace <em class="replaceable"><code>action</code></em> with one of the following.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">add</code></span></dt><dd><p>Entry creation, as for an LDAP add operation</p></dd><dt><span class="term"><code class="literal">all</code></span></dt><dd><p>All permissions, except <code class="literal">export</code>,
      <code class="literal">import</code>, <code class="literal">proxy</code></p></dd><dt><span class="term"><code class="literal">compare</code></span></dt><dd><p>Attribute value comparison, as for an LDAP compare operation</p></dd><dt><span class="term"><code class="literal">delete</code></span></dt><dd><p>Entry deletion, as for an LDAP delete operation</p></dd><dt><span class="term"><code class="literal">export</code></span></dt><dd><p>Entry export during a modify DN operation.</p><p>Despite the name, this action is unrelated to LDIF export
      operations.</p></dd><dt><span class="term"><code class="literal">import</code></span></dt><dd><p>Entry import during a modify DN operation.</p><p>Despite the name, this action is unrelated to LDIF import
      operations.</p></dd><dt><span class="term"><code class="literal">proxy</code></span></dt><dd><p>Access the ACI target using the rights of another user</p></dd><dt><span class="term"><code class="literal">read</code></span></dt><dd><p>Read entries and attributes</p></dd><dt><span class="term"><code class="literal">search</code></span></dt><dd><p>Search the ACI targets. Needs to be combine with
      <code class="literal">read</code> in order to read the search results.</p></dd><dt><span class="term"><code class="literal">selfwrite</code></span></dt><dd><p>Add or delete own DN from a group</p></dd><dt><span class="term"><code class="literal">write</code></span></dt><dd><p>Modify attributes on ACI target entries</p></dd></dl></div></div><div class="section" id="aci-subjects"><div class="titlepage"><div><div><h3 class="title">5.1.3.&nbsp;ACI Subjects</h3></div></div></div><a class="indexterm" name="d0e2584"></a><p>ACI subjects match characteristics of the client connection to the
   server. Use subjects to restrict whether the ACI applies depending on who
   connected, and when, where, and how they connected.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">authmethod = "none|simple|ssl|sasl <em class="replaceable"><code>mech</code></em>"</code>, </span><span class="term"><code class="literal">authmethod != "none|simple|ssl|sasl <em class="replaceable"><code>mech</code></em>"</code></span></dt><dd><p>Here you use <code class="literal">none</code> to mean do not check,
      <code class="literal">simple</code> for simple authentication,
      <code class="literal">ssl</code> for certificate-based authentication over LDAPS,
      <code class="literal">sasl <em class="replaceable"><code>mech</code></em></code> for
      SASL where <em class="replaceable"><code>mech</code></em> is DIGEST-MD5, EXTERNAL, or
      GSSAPI.</p></dd><dt><span class="term"><code class="literal">dayofweek = "<em class="replaceable"><code>day</code></em>[, <em class="replaceable"><code>day</code></em> &#8230;]"</code>, </span><span class="term"><code class="literal">dayofweek != "<em class="replaceable"><code>day</code></em>[, <em class="replaceable"><code>day</code></em> &#8230;]"</code></span></dt><dd><p>Replace <em class="replaceable"><code>day</code></em> with one of
      <code class="literal">sun</code>, <code class="literal">mon</code>, <code class="literal">tue</code>,
      <code class="literal">wed</code>, <code class="literal">thu</code>, <code class="literal">fri</code>,
      <code class="literal">sat</code>.</p></dd><dt><span class="term"><code class="literal">dns = "<em class="replaceable"><code>hostname</code></em>"</code>, </span><span class="term"><code class="literal">dns != "<em class="replaceable"><code>hostname</code></em>"</code></span></dt><dd><p>You can use asterisks, *, to replace name components, such as
      <code class="literal">dns = "*.myCompany.com"</code>.</p></dd><dt><span class="term"><code class="literal">groupdn = "ldap:///<em class="replaceable"><code>DN</code></em>[|| ldap:///<em class="replaceable"><code>DN</code></em> &#8230;]"</code>, </span><span class="term"><code class="literal">groupdn != "ldap:///<em class="replaceable"><code>DN</code></em>[|| ldap:///<em class="replaceable"><code>DN</code></em> &#8230;]"</code></span></dt><dd><p>Replace <em class="replaceable"><code>DN</code></em> with the distinguished name
      of a group to permit or restrict access for members.</p></dd><dt><span class="term"><code class="literal">ip = "<em class="replaceable"><code>addresses</code></em>"</code>, </span><span class="term"><code class="literal">ip != "<em class="replaceable"><code>addresses</code></em>"</code></span></dt><dd><p>Here <em class="replaceable"><code>addresses</code></em> can be specified for
      IPv4 or IPv6. IPv6 addresses are specified in brackets as
      <code class="literal">ldap://[<em class="replaceable"><code>address</code></em>]/<em class="replaceable"><code>subnet-prefix</code></em></code>
      where /<em class="replaceable"><code>subnet-prefix</code></em> is optional.
      You can specify individual IPv4 addresses, addresses with asterisks (*) to
      replace subnets and host numbers, CIDR notation, and forms such as
      <code class="literal">192.168.0.*+255.255.255.0</code> to specify subnet masks.</p></dd><dt><span class="term"><code class="literal">ssf = "<em class="replaceable"><code>strength</code></em>"</code>, </span><span class="term"><code class="literal">ssf != "<em class="replaceable"><code>strength</code></em>"</code>, </span><span class="term"><code class="literal">ssf &gt; "<em class="replaceable"><code>strength</code></em>"</code>, </span><span class="term"><code class="literal">ssf &gt;= "<em class="replaceable"><code>strength</code></em>"</code>, </span><span class="term"><code class="literal">ssf &lt; "<em class="replaceable"><code>strength</code></em>"</code>, </span><span class="term"><code class="literal">ssf &lt;= "<em class="replaceable"><code>strength</code></em>"</code></span></dt><dd><p>Here the security strength factor pertains to the cipher key
      strength for connections using DIGEST-MD5, GSSAPI, SSL, or TLS. For
      example, to require that the connection must have at least 128 bits
      of encryption, specify <code class="literal">ssf &gt;= 128</code>.</p></dd><dt><span class="term"><code class="literal">timeofday = "<em class="replaceable"><code>hhmm</code></em>"</code>, </span><span class="term"><code class="literal">timeofday != "<em class="replaceable"><code>hhmm</code></em>"</code>, </span><span class="term"><code class="literal">timeofday &gt; "<em class="replaceable"><code>hhmm</code></em>"</code>, </span><span class="term"><code class="literal">timeofday &gt;= "<em class="replaceable"><code>hhmm</code></em>"</code>, </span><span class="term"><code class="literal">timeofday &lt; "<em class="replaceable"><code>hhmm</code></em>"</code>, </span><span class="term"><code class="literal">timeofday &lt;= "<em class="replaceable"><code>hhmm</code></em>"</code></span></dt><dd><p>Here <em class="replaceable"><code>hhmm</code></em> is expressed as on a 24-hour
      clock. For example, 1:15 PM is written <code class="literal">1315</code>.</p></dd><dt><span class="term"><code class="literal">userattr = "<em class="replaceable"><code>attr</code></em>#<em class="replaceable"><code>value</code></em>"</code>, </span><span class="term"><code class="literal">userattr != "<em class="replaceable"><code>attr</code></em>#<em class="replaceable"><code>value</code></em>"</code>, </span><span class="term"><code class="literal">userattr = <em class="replaceable"><code>ldap-url</code></em>#LDAPURL"</code>, </span><span class="term"><code class="literal">userattr != <em class="replaceable"><code>ldap-url</code></em>#LDAPURL"</code>, </span><span class="term"><code class="literal">userattr = "[parent[<em class="replaceable"><code>child-level</code></em>]. ]<em class="replaceable"><code>attr</code></em>#GROUPDN|USERDN"</code>, </span><span class="term"><code class="literal">userattr != "[parent[<em class="replaceable"><code>child-level</code></em>]. ]<em class="replaceable"><code>attr</code></em>#GROUPDN|USERDN"</code></span></dt><dd><p>The <code class="literal">userattr</code> subject specifies an attribute
      that must match on both the bind entry and the target of the ACI.</p><p>To match when the attribute on the bind DN entry corresponds
      directly to the attribute on the target entry, replace
      <em class="replaceable"><code>attr</code></em> with the attribute type, and
      <em class="replaceable"><code>value</code></em> with the attribute value.</p><p>To match when the target entry is identified by an LDAP URL, and
      the bind DN is in the subtree of the DN of the LDAP URL, use
      <em class="replaceable"><code>ldap-url</code></em>#LDAPURL.</p><p>To match when the bind DN corresponds to a member of the group
      identified by the <em class="replaceable"><code>attr</code></em> value on the target
      entry, use <em class="replaceable"><code>attr</code></em>#GROUPDN.</p><p>To match when the bind DN corresponds to the
      <em class="replaceable"><code>attr</code></em> value on the target entry, use
      <em class="replaceable"><code>attr</code></em>#USERDN.</p><p>The optional inheritance specification,
      <code class="literal">parent[<em class="replaceable"><code>child-level</code></em>].</code>, lets
      you specify how many levels below the target entry inherit the ACI.
      Here <em class="replaceable"><code>child-level</code></em> is a number from 0 to 9, with
      0 indicating the target entry only. Separate multiple
      <em class="replaceable"><code>child-level</code></em> digits with commas (,).</p></dd><dt><span class="term"><code class="literal">userdn = "<em class="replaceable"><code>ldap-url++</code></em>[|| <em class="replaceable"><code>ldap-url++</code></em> &#8230;]"</code>, </span><span class="term"><code class="literal">userdn != "<em class="replaceable"><code>ldap-url++</code></em>[|| <em class="replaceable"><code>ldap-url++</code></em> &#8230;]"</code></span></dt><dd><p>To match the bind DN, replace <em class="replaceable"><code>ldap-url++</code></em>
      with either a valid LDAP URL such as
      <code class="literal">ldap:///uid=bjensen,ou=People,dc=example,dc=com</code>,
      <code class="literal">ldap:///dc=example,dc=com??sub?(uid=bjensen)</code>,
      or a special LDAP URL-like keyword from the following list.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">ldap:///all</code></span></dt><dd><p>Match authenticated users.</p></dd><dt><span class="term"><code class="literal">ldap:///anyone</code></span></dt><dd><p>Match anonymous and authenticated users.</p></dd><dt><span class="term"><code class="literal">ldap:///parent</code></span></dt><dd><p>Match when the bind DN is a parent of the ACI target.</p></dd><dt><span class="term"><code class="literal">ldap:///self</code></span></dt><dd><p>Match when the bind DN entry corresponds to ACI target.</p></dd></dl></div></dd></dl></div></div><div class="section" id="aci-evaluation"><div class="titlepage"><div><div><h3 class="title">5.1.4.&nbsp;How ACI is Evaluated</h3></div></div></div><a class="indexterm" name="d0e2998"></a><p>Understanding how OpenDJ evaluates the aci values is critical when
   implementing an access control policy. The rules the server follows are
   simple.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>To determine if an operation is allowed or denied, the OpenDJ server
     looks in the directory for the target of the operation. It collects any aci
     values from that entry, and then walks up the directory tree to the suffix,
     collecting all aci values en route. Global aci values are then collected.</p></li><li class="listitem"><p>It then separates the aci values into two lists; one list contains
     all the aci values that matches the target and denies the required access,
     and the other list contains all the aci values that matches the target and
     allows the required access.</p></li><li class="listitem"><p>If the deny list contains any aci values after this procedure, access
     will be immediately denied.</p></li><li class="listitem"><p>If the deny list is empty, then the allow list is processed. If the
     allow list contains any aci values, access will be allowed.</p></li><li class="listitem"><p>If both lists are empty, access will be denied.</p></li></ol></div><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>Some operations require multiple permissions and involve multiple
    targets. Evaluation will therefore take place multiple times. For example a
    search operation requires the <code class="literal">search</code> permission for each
    attribute in the search filter. If all those are allowed, the
    <code class="literal">read</code> permission is used to decide what attributes and
    values can be returned.</p></div></div></div><div class="section" id="aci-required"><div class="titlepage"><div><div><h3 class="title">5.1.5.&nbsp;ACI Required For LDAP Operations</h3></div></div></div><a class="indexterm" name="d0e3033"></a><p>The minimal access control information required for specific LDAP
   operations is described here.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Add</span></dt><dd><p>The ACI must allow the <code class="literal">add</code> permission to entries
      in the target. This implicitly allows the attributes and values to be set.
      Use <code class="literal">targetattrfilters</code> to explicitly deny access to any
      values if required.</p><p>For example, the ACI required to allow
      <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code> to add an entry
      is:</p><pre class="codelisting prettyprint">aci: (version 3.0;acl "Add entry"; allow (add)(userdn =
 "ldap:///uid=bjensen,ou=People,dc=example,dc=com");)
      </pre></dd><dt><span class="term">Bind</span></dt><dd><p>Because this is used to establish the user's identity and derived
      authorizations, ACI is irrelevant for this operation and is not checked.
      To prevent authentication,
      disable the account instead. For more information see <a href="../admin-guide/index.html#manage-accounts" class="link"><em class="citetitle">Managing
      Accounts Manually</em></a>.</p></dd><dt><span class="term">Compare</span></dt><dd><p>The ACI must allow the <code class="literal">compare</code> permission to the
      attribute in the target entry.</p><p>For example, the ACI required to allow
      <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code> to compare
      values against the <code class="literal">sn</code> attribute is:</p><pre class="codelisting prettyprint">aci: (targetattr = "sn")(version 3.0;acl "Compare surname";
 allow (compare)(userdn =
 "ldap:///uid=bjensen,ou=People,dc=example,dc=com");)
      </pre></dd><dt><span class="term">Delete</span></dt><dd><p>The ACI must allow the <code class="literal">delete</code> permission to the
      target entry. This implicitly allows the attributes and values in the
      target to be deleted. Use <code class="literal">targetattrfilters</code> to
      explicitly deny access to the values if required.</p><p>For example, the ACI required to allow
      <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code> to delete an
      entry is:</p><pre class="codelisting prettyprint">aci: (version 3.0;acl "Delete entry"; allow (delete)
 (userdn = "ldap:///uid=bjensen,ou=People,dc=example,dc=com");)
      </pre></dd><dt><span class="term">Modify</span></dt><dd><p>The ACI must allow the <code class="literal">write</code> permission to
      attributes in the target entries. This implicitly allows all
      values in the target attribute to be modified. Use
      <code class="literal">targetattrfilters</code> to explicitly deny access to specific
      values if required.</p><p>For example, the ACI required to allow
      <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code> to modify the 
      <code class="literal">description</code> attribute in an entry is:</p><pre class="codelisting prettyprint">aci: (targetattr = "description")(version 3.0;
 acl "Modify description"; allow (write)(userdn =
 "ldap:///uid=bjensen,ou=People,dc=example,dc=com");)
      </pre></dd><dt><span class="term">ModifyDN</span></dt><dd><p>If the entry is being moved to a <code class="literal">newSuperior</code>, the
      <code class="literal">export</code> permission must be allowed on the target, and
      the <code class="literal">import</code> permission must be allowed on the
      <code class="literal">newSuperior</code> entry.</p><p>The ACI must allow <code class="literal">write</code> permission to the
      attributes in the old RDN and the new RDN. All values of the old RDN and
      new RDN can be written implicitly; use
      <code class="literal">targetattrfilters</code> to explicitly deny access to values
      used if required.</p><p>For example, the ACI required to allow
      <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code> to rename
      entries named with the <code class="literal">uid</code> attribute to new
      locations:</p><pre class="codelisting prettyprint">aci: (targetattr = "uid")(version 3.0;acl "Rename uid= entries";
 allow (write, import, export)(userdn =
 "ldap:///uid=bjensen,ou=People,dc=example,dc=com");)
      </pre></dd><dt><span class="term">Search</span></dt><dd><p>ACI is required to process the search filter, and to determine what
      attributes and values may be returned in the results. The
      <code class="literal">search</code> permission is used to allow particular
      attributes in the search filter. The <code class="literal">read</code> permission is
      used to allow particular attributes to be returned. If
      <code class="literal">read</code> permission is allowed to any attribute, the
      server will automatically allow the <code class="literal">objectClass</code>
      attribute to also be read. All values of readable attributes can be
      implicitly read; to restrict this use
      <code class="literal">targetattrfilters</code>.</p><p>For example, the ACI required to allow
      <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code> to search for
      <code class="literal">uid</code> attributes, and also to read that attribute in
      matching entries is:</p><pre class="codelisting prettyprint">aci: (targetattr = "uid")(version 3.0;acl "Search and read uid";
 allow (search, read)(userdn =
 "ldap:///uid=bjensen,ou=People,dc=example,dc=com");)
      </pre></dd></dl></div></div></div><div class="section" id="about-privileges"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.2.&nbsp;About Privileges</h2></div></div></div><a class="indexterm" name="d0e3206"></a><p>Privileges provide access control for server administration
  independently from access control instructions.</p><p>Directory root users, such as <code class="literal">cn=Directory Manager</code>,
  are granted privileges in the following list and marked with an asterisk (*)
  by default. Other administrator users can be assigned privileges, too.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">backend-backup</code>*</span></dt><dd><p>Request a task to backup data</p></dd><dt><span class="term"><code class="literal">backend-restore</code>*</span></dt><dd><p>Request a task to restore data from backup</p></dd><dt><span class="term"><code class="literal">bypass-acl</code>*</span></dt><dd><p>Perform operations without regard to ACIs</p></dd><dt><span class="term"><code class="literal">bypass-lockdown</code>*</span></dt><dd><p>Perform operations without regard to lockdown mode</p></dd><dt><span class="term"><code class="literal">cancel-request</code>*</span></dt><dd><p>Cancel any client request</p></dd><dt><span class="term"><code class="literal">config-read</code>*</span></dt><dd><p>Read the server configuration</p></dd><dt><span class="term"><code class="literal">config-write</code>*</span></dt><dd><p>Change the server configuration</p></dd><dt><span class="term"><code class="literal">data-sync</code></span></dt><dd><p>Perform data synchronization</p></dd><dt><span class="term"><code class="literal">disconnect-client</code>*</span></dt><dd><p>Close any client connection</p></dd><dt><span class="term"><code class="literal">jmx-notify</code></span></dt><dd><p>Subscribe to JMX notifications</p></dd><dt><span class="term"><code class="literal">jmx-read</code></span></dt><dd><p>Read JMX attribute values</p></dd><dt><span class="term"><code class="literal">jmx-write</code></span></dt><dd><p>Write JMX attribute values</p></dd><dt><span class="term"><code class="literal">ldif-export</code>*</span></dt><dd><p>Export data to LDIF</p></dd><dt><span class="term"><code class="literal">ldif-import</code>*</span></dt><dd><p>Import data from LDIF</p></dd><dt><span class="term"><code class="literal">modify-acl</code>*</span></dt><dd><p>Change ACIs</p></dd><dt><span class="term"><code class="literal">password-reset</code>*</span></dt><dd><p>Reset other users' passwords</p></dd><dt><span class="term"><code class="literal">privilege-change</code>*</span></dt><dd><p>Change the privileges assigned to users</p></dd><dt><span class="term"><code class="literal">proxied-auth</code></span></dt><dd><p>Use the Proxied Authorization control</p></dd><dt><span class="term"><code class="literal">server-lockdown</code>*</span></dt><dd><p>Put OpenDJ into, and take OpenDJ out of, lockdown mode</p></dd><dt><span class="term"><code class="literal">server-restart</code>*</span></dt><dd><p>Request a task to restart the server</p></dd><dt><span class="term"><code class="literal">server-shutdown</code>*</span></dt><dd><p>Request a task to stop the server</p></dd><dt><span class="term"><code class="literal">subentry-write</code>*</span></dt><dd><p>Perform LDAP subentry write operations</p></dd><dt><span class="term"><code class="literal">unindexed-search</code>*</span></dt><dd><p>Search using a filter with no correponding index</p></dd><dt><span class="term"><code class="literal">update-schema</code>*</span></dt><dd><p>Change OpenDJ schema definitions</p></dd></dl></div><p>* = default directory root user privileges</p></div><div class="section" id="configure-privileges"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.3.&nbsp;Configuring Privileges</h2></div></div></div><p>For root directory administrators, by default <code class="literal">cn=Directory
  Manager</code>, you configure privileges using the
  <span class="command"><strong>dsconfig</strong></span> command.</p><p>For non-root directory administrators, you add privileges with
  the <span class="command"><strong>ldapmodify</strong></span> command.</p><div class="procedure" id="change-root-dn-privileges"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;5.1.&nbsp;To Change Root DN Privileges</div><ol class="procedure" type="1"><li class="step"><p>Start <span class="command"><strong>dsconfig</strong></span> in interactive mode.</p><pre class="cmdline prettyprint">$ dsconfig
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password</pre></li><li class="step"><p>Select the Root DN menu.</p></li><li class="step"><p>Select View and edit the Root DN.</p></li><li class="step"><p>Edit the <code class="literal">default-root-privilege-name</code>.</p></li><li class="step"><p>Make sure you apply the changes when finished.</p></li></ol></div></div><div class="procedure" id="change-individual-privileges"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;5.2.&nbsp;To Add Privileges on an Individual Entry</div><p>Privileges are specified using the <code class="literal">ds-privilege-name</code>
   operational attribute, which you can change on the command-line using
   <span class="command"><strong>ldapmodify</strong></span>.</p><ol class="procedure" type="1"><li class="step"><p>Determine the privileges to add.</p><pre class="cmdline prettyprint">$ cat privilege.ldif 
dn: uid=kvaughan,ou=People,dc=example,dc=com
changetype: modify
add: ds-privilege-name
ds-privilege-name: config-read
ds-privilege-name: password-reset
</pre><p>This example lets the user read the server configuration, and reset
    user passwords. In order for the user to be able to change a user password,
    you must also allow the modification using ACIs. For this example, Kirsten
    Vaughan is a member of the Directory Administrators group for Example.com,
    and already has access to modify user entries.</p><p>Prior to having the privileges, Kirsten gets messages about
    insufficent access when trying to read the server configuration, or
    reset a user password.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --baseDN cn=config
 "(objectclass=*)"
SEARCH operation failed
Result Code:  50 (Insufficient Access Rights)
Additional Information:  You do not have sufficient privileges to perform
 search operations in the Directory Server configuration
$ ldappasswordmodify
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --authzID "dn:uid=scarter,ou=People,dc=example,dc=com"
 --newPassword changeit
The LDAP password modify operation failed with result code 50
Error Message:  You do not have sufficient privileges to perform password
reset operations</pre></li><li class="step"><p>Apply the change as a user with the
    <code class="literal">privilege-change</code> privilege.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename privilege.ldif
Processing MODIFY request for uid=kvaughan,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=kvaughan,ou=People,dc=example,dc=com</pre><p>At this point, Kirsten can perform the operations requiring
    privileges.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --baseDN cn=config
 "(objectclass=*)"
dn: cn=config
ds-cfg-return-bind-error-messages: false
ds-cfg-default-password-policy: cn=Default Password Policy,cn=Password Policies,
 cn=config
&#8230;
$ ldappasswordmodify
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --authzID "dn:uid=scarter,ou=People,dc=example,dc=com"
 --newPassword changeit
The LDAP password modify operation was successful</pre></li></ol></div></div><div class="procedure" id="change-group-privileges"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;5.3.&nbsp;To Add Privileges For a Group of Administrators</div><p>For deployments with more than one administrator, you no doubt use
   a group to define adminstrative rights. You can use a collective attribute
   subentry to specify privileges for the administrator group.</p><p>Collective attributes provide a standard mechanism for defining
   attributes that appear on all the entries in a particular subtree. OpenDJ
   extends collective attributes to give you fine-grained control over the
   which entries in the subtree are targetted. Also, OpenDJ lets you use
   virtual attributes, such as <code class="literal">isMemberOf</code> to construct the
   filter for targetting entries to which the collective attributes apply. This
   allows you, for example, to define administrative privileges that apply to
   all users who belong to an administrator group.</p><ol class="procedure" type="1"><li class="step"><p>Create an LDAP subentry that specifies the collective attributes.</p><pre class="cmdline prettyprint">$ cat collective.ldif 
dn: cn=Administrator Privileges,dc=example,dc=com
objectClass: collectiveAttributeSubentry
objectClass: extensibleObject
objectClass: subentry
objectClass: top
cn: Administrator Privileges
ds-privilege-name;collective: config-read
ds-privilege-name;collective: config-write
ds-privilege-name;collective: ldif-export
ds-privilege-name;collective: modify-acl
ds-privilege-name;collective: password-reset
ds-privilege-name;collective: proxied-auth
subtreeSpecification: {base "ou=people", specificationFilter
  "(isMemberOf=cn=Directory Administrators,ou=Groups,dc=example,dc=com)" }

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename collective.ldif
Processing ADD request for cn=Administrator Privileges,dc=example,dc=com
ADD operation successful for DN cn=Administrator Privileges,dc=example,dc=com</pre><p>The Directory Administrators group for Example.com includes members
    like Kirsten Vaughan.</p></li><li class="step"><p>Observe that the change takes effect immediately.</p><pre class="cmdline prettyprint">$ ldappasswordmodify
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --authzID "dn:uid=scarter,ou=People,dc=example,dc=com"
 --newPassword changeit
The LDAP password modify operation was successful</pre></li></ol></div></div></div><div class="section" id="configure-acis"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.4.&nbsp;Configuring Access Control</h2></div></div></div><a class="indexterm" name="d0e3514"></a><p>Access control instructions are defined in the data, as values for
  <code class="literal">aci</code> attributes. They can be imported in LDIF. They can
  be modified over LDAP. Yet in order to make changes to ACIs users first
  need the <code class="literal">modify-acl</code> privilege described previously.
  By default, only the root DN user has the <code class="literal">modify-acl</code>
  privilege.</p><p>Global ACIs on <code class="literal">cn=Access Control Handler,cn=config</code>
  can be set using the <span class="command"><strong>dsconfig</strong></span> command. Global ACIs have
  attribute type <code class="literal">ds-cfg-global-aci</code>. Modify global ACIs from
  the Access Control Handler menu in <span class="command"><strong>dsconfig</strong></span>.</p><a class="indexterm" name="d0e3544"></a><div class="itemizedlist"><p>Default global ACIs set up the following access rules.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Users can employ LDAP controls and perform extended operations.</p></li><li class="listitem"><p>Anonymous read access is allowed for most user data attributes.</p></li><li class="listitem"><p>Users can read password values on their own entries after binding.
    (Also by default, password values are hashed.)</p></li><li class="listitem"><p>Anonymous read access is allowed for schema-related operational
    attributes.</p></li><li class="listitem"><p>Anonymous read access is allowed for root DSE attributes describing
    what the server supports.</p></li><li class="listitem"><p>Anonymous read access is allowed for operational attributes related
    to entry updates and entry identification.</p></li><li class="listitem"><p>Access to replication data is denied.</p></li></ul></div><p>Users with write access to add ACIs and with the
  <code class="literal">modify-acl</code> privilege can use the
  <span class="command"><strong>ldapmodify</strong></span> command to change ACIs located in user
  data.</p><p>This section therefore focuses on ACI examples, rather than
  demonstrating how to update the directory for each example. To update ACIs,
  either change them using the <span class="command"><strong>ldapmodify</strong></span> command, or
  using OpenDJ Control Panel.</p><p>If you use OpenDJ Control Panel, find the entry to modify in the Manage
  Entries window. Then try View &gt; LDIF View to edit the entry. Control Panel
  checks your syntax and lets you know if you made an error before it saves any
  changes.</p><p>For hints on updating directory entries with
  <span class="command"><strong>ldapmodify</strong></span>, see the section on <a href="../admin-guide/index.html#modify-ldap" class="link"><em class="citetitle">Modifying Entry
  Attributes</em></a>, keeping in mind that the name of the ACI
  attribute is <code class="literal">aci</code> as shown in the examples that
  follow.</p><div class="example" id="access-control-anonymous-reads"><div class="example-title">Example&nbsp;5.1.&nbsp;ACI: Anonymous Reads &amp; Searches</div><div class="example-contents"><p>This works when the only attributes you do not want world-readable
   are password attributes.</p><pre class="codelisting prettyprint">aci: (target ="ldap:///dc=example,dc=com")(targetattr !=
 "authPassword || userPassword")(version 3.0;acl "Anonymous read-search access";
 allow (read, search, compare)(userdn = "ldap:///anyone");)
 </pre></div></div><br class="example-break"><div class="example" id="access-control-disable-anonymous"><div class="example-title">Example&nbsp;5.2.&nbsp;ACI: Disable Anonymous Access</div><div class="example-contents"><a class="indexterm" name="d0e3612"></a><p>By default OpenDJ denies access unless an access control explicitly
   allows access.<a href="#ftn.d0e3619" class="footnote"><sup class="footnote" id="d0e3619">[3]</sup></a> However, OpenDJ also allows anonymous access by
   default to use some controls, to perform certain extended operations, to
   view root DSE operational attributes, to view directory schema definitions,
   to view some other operational attibutes, and to perform compare and search
   operations.</p><p>These default capabilities are defined on the
   <code class="literal">global-aci</code> property of the access control handler, which
   you can read by using the
   <span class="command"><strong>dsconfig get-access-control-handler-prop</strong></span> command.</p><pre class="cmdline prettyprint">$ dsconfig
 get-access-control-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --property global-aci</pre><p>To disable anonymous read access for example, use the
   <span class="command"><strong>dsconfig set-access-control-handler-prop</strong></span> command.</p><p>First, remove the <code class="literal">global-aci</code> attribute value that
   allows anonymous read access. Do not wrap the lines in the following
   example if you use it as the basis for your script.</p><pre class="cmdline prettyprint">$ dsconfig \
 set-access-control-handler-prop \
 --remove global-aci:\(targetattr!=\"userPassword\|\|authPassword\|\|changes\|\
\|changeNumber\|\|changeType\|\|changeTime\|\|targetDN\|\|newRDN\|\
\|newSuperior\|\|deleteOldRDN\|\|targetEntryUUID\|\|changeInitiatorsName\|\
\|changeLogCookie\|\|includedAttributes\"\)\(version\ 3.0\;\ acl\ \"Anonymous\
\ read\ access\"\;\ allow\ \(read,search,compare\)\
\ userdn=\"ldap:///anyone\"\;\)\
 --hostname opendj.example.com \
 --port 4444 \
 --bindDN cn=Directory\ Manager \
 --bindPassword password \
 --trustAll \
 --no-prompt</pre><p>If the <code class="literal">global-aci</code> does not match the ACI exactly
   then the command fails to remove the value. An alternative approach is to
   use the <span class="command"><strong>dsconfig</strong></span> command interactively, adding the
   <code class="option">--commandFilePath</code> option. You can then use the command
   you capture to remove the property value on other servers for example.
   To use the <span class="command"><strong>dsconfig</strong></span> command this way, start the
   command as follows.</p><pre class="cmdline prettyprint">$ dsconfig
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --commandFilePath /tmp/captured-command.sh</pre><p>Next, add a global ACI value that allows authenticated users to
   perform read operations. You can use <span class="command"><strong>dsconfig</strong></span>
   interactively to add the ACI value as shown below
   <code class="literal">(targetattr!= &#8230; userdn="ldap:///all";)</code>.</p><pre class="codelisting prettyprint">global-aci: (targetattr!="userPassword||
 authPassword||changes||changeNumber||changeType||changeTime||targetDN||newRDN||
 newSuperior||deleteOldRDN||targetEntryUUID||changeInitiatorsName||
 changeLogCookie||includedAttributes")(version 3.0; acl "Authenticated users
 read access"; allow (read,search,compare) userdn="ldap:///all";)</pre><p>Notice that these changes are made to the OpenDJ directory server
   configuration, and so are not replicated to other servers. You must instead
   apply the changes separately to each server.</p></div></div><br class="example-break"><div class="example" id="access-control-full-access"><div class="example-title">Example&nbsp;5.3.&nbsp;ACI: Full Access for Administrators</div><div class="example-contents"><p>Directory Administrators need privileges as well for full access to
   administrative operations.</p><pre class="codelisting prettyprint">aci: (target="ldap:///dc=example,dc=com") (targetattr =
 "* || +")(version 3.0;acl "Admins can run amok"; allow(
 all, proxy, import, export) groupdn =
 "ldap:///cn=Directory Administrators,ou=Groups,dc=example,dc=com";)
 </pre><p>Notice both <code class="literal">targetattr = "* || +"</code>, which permits
   access to both all user attributes and all operational attributes, and
   <code class="literal">allow(all, proxy, import, export)</code>, which permits not
   only all user operations, but also proxy authorization as well as data
   import and export operations.</p></div></div><br class="example-break"><div class="example" id="access-control-selfwrite-password"><div class="example-title">Example&nbsp;5.4.&nbsp;ACI: Change Own Password</div><div class="example-contents"><p>By default this capability is set in a global ACI.</p><pre class="codelisting prettyprint">aci: (target ="ldap:///ou=People,dc=example,dc=com")(targetattr =
 "authPassword || userPassword")(version 3.0;acl "Allow users to change pass
 words"; allow (write)(userdn = "ldap:///self");)</pre></div></div><br class="example-break"><div class="example" id="access-control-selfwrite-group"><div class="example-title">Example&nbsp;5.5.&nbsp;ACI: Manage Own Group Membership</div><div class="example-contents"><p>For some static groups such as carpoolers and social club members,
   you might choose to let users manage their own memberships.</p><pre class="codelisting prettyprint">aci: (target ="ldap:///ou=Self Service,ou=Groups,dc=example,dc=com")(
 targetattr = "member")(version 3.0;acl "Self registration"; allow(selfwrite)(
 userdn = "ldap:///uid=*,ou=People,dc=example,dc=com");)</pre></div></div><br class="example-break"><div class="example" id="access-control-self-service-group"><div class="example-title">Example&nbsp;5.6.&nbsp;ACI: Manage Self Service Groups</div><div class="example-contents"><p>Let users create and delete self-managed groups.</p><pre class="codelisting prettyprint">aci: (target ="ldap:///ou=Self Service,ou=Groups,dc=example,dc=com")(
 targattrfilters="add=objectClass:(objectClass=groupOfNames)")(version 3.0;
 acl "All can create self service groups"; allow (add)(userdn= "
 ldap:///uid=*,ou=People,dc=example,dc=com");)
aci: (target ="ldap:///ou=Self Service,ou=Groups,dc=example,dc=com")(version 3
 .0; acl "Owner can delete self service groups"; allow (delete)(userattr= "
 owner#USERDN");)</pre></div></div><br class="example-break"><div class="example" id="access-control-loopback-only"><div class="example-title">Example&nbsp;5.7.&nbsp;ACI: Permit Clear Text Access Over Loopback Only</div><div class="example-contents"><p>This ACI uses IP address and Security Strength Factor subjects.</p><pre class="codelisting prettyprint">aci: (target = "ldap:///dc=example,dc=com")(targetattr =
 "*")(version 3.0;acl "Use loopback only for LDAP in the clear"; deny (all)(
 ip != "127.0.0.1" and ssf &lt;= "1");)</pre><p>The <code class="literal">ssf</code> is one for example when using SSL but you
   have not configured a cipher, so the packets are checksummed for integrity
   checking by all content is nevertheless sent in clear text.</p></div></div><br class="example-break"></div><div class="section" id="get-effective-rights"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.5.&nbsp;Viewing Effective Rights</h2></div></div></div><a class="indexterm" name="d0e3736"></a><a class="indexterm" name="d0e3741"></a><p>Once you set up a number of ACIs, you might find it difficult to
  understand by inspection what rights a user actually has to a given entry.
  The Get Effective Rights control can help.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>The control OID, <code class="literal">1.3.6.1.4.1.42.2.27.9.5.2</code>, is
   not allowed by the default global ACIs.</p></div></div><p>In this example, Babs Jensen is the owner of a small group of people
  who are willing to carpool.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN "uid=bjensen,ou=people,dc=example,dc=com"
 --bindPassword hifalutin
 --baseDN "ou=Self Service,ou=Groups,dc=example,dc=com"
 "cn=*" 
dn: cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com
objectClass: groupOfNames
objectClass: top
member: uid=bjensen,ou=People,dc=example,dc=com
description: People who are willing to carpool
owner: uid=bjensen,ou=People,dc=example,dc=com
cn: Carpoolers
</pre><p>Performing the same search with the get effective rights control, and
  asking for the <code class="literal">aclRights</code> attribute, shows what rights
  Babs has on the entry.</p><pre class="cmdline prettyprint">$ ldapsearch
 --control effectiverights
 --port 1389
 --bindDN "uid=bjensen,ou=people,dc=example,dc=com"
 --bindPassword hifalutin
 --baseDN "ou=Self Service,ou=Groups,dc=example,dc=com"
 "cn=*"
 aclRights
dn: cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com
aclRights;entryLevel: add:0,delete:1,read:1,write:0,proxy:0
</pre><p>Requesting the <code class="literal">aclRightsInfo</code> attribute results in
  information about the ACIs applied to arrive at the results.</p><pre class="cmdline prettyprint">$ ldapsearch
 --control effectiverights
 --port 1389
 --bindDN "uid=bjensen,ou=people,dc=example,dc=com"
 --bindPassword hifalutin
 --baseDN "ou=Self Service,ou=Groups,dc=example,dc=com"
 "cn=*"
 aclRights
 aclRightsInfo
dn: cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com
aclRightsInfo;logs;entryLevel;read: acl_summary(main): access allowed(read) on e
 ntry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, objectClas
 s) to (uid=bjensen,ou=People,dc=example,dc=com) (not proxied) ( reason: evaluat
 ed allow , deciding_aci: Anonymous read-search access)
aclRightsInfo;logs;entryLevel;write: acl_summary(main): access not allowed(write
 ) on entry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, NULL
 ) to (uid=bjensen,ou=People,dc=example,dc=com) (not proxied) ( reason: no acis 
 matched the subject )
aclRightsInfo;logs;entryLevel;add: acl_summary(main): access not allowed(add) on
  entry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, NULL) to
  (uid=bjensen,ou=People,dc=example,dc=com) (not proxied) ( reason: no acis matc
 hed the subject )
aclRightsInfo;logs;entryLevel;delete: acl_summary(main): access allowed(delete) 
 on entry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, NULL) 
 to (uid=bjensen,ou=People,dc=example,dc=com) (not proxied) ( reason: evaluated 
 allow , deciding_aci: Owner can delete self service groups)
aclRights;entryLevel: add:0,delete:1,read:1,write:0,proxy:0
aclRightsInfo;logs;entryLevel;proxy: acl_summary(main): access not allowed(proxy
 ) on entry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, NULL
 ) to (uid=bjensen,ou=People,dc=example,dc=com) (not proxied) ( reason: no acis 
 matched the subject )
</pre><p>You can also request the effective rights for another user by using the
  <code class="option">--getEffectiveRightsAuthzid</code> (short form: <code class="option">-g</code>)
  option, which takes the authorization identity of the other user as an
  argument. The following example shows Directory Manager checking anonymous
  user rights to the same entry. Notice that the authorization identity for an
  anonymous user is expressed as <code class="literal">"dn:"</code>.</p><pre class="cmdline prettyprint">$ ldapsearch
 --getEffectiveRightsAuthzid "dn:"
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN "ou=Self Service,ou=groups,dc=example,dc=com"
 "cn=*" aclRightsInfo
dn: cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com
aclRightsInfo;logs;entryLevel;read: acl_summary(main): access allowed(read) on e
 ntry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, objectClas
 s) to (anonymous) (not proxied) ( reason: evaluated allow , deciding_aci: Anony
 mous read-search access)
aclRightsInfo;logs;entryLevel;write: acl_summary(main): access not allowed(write
 ) on entry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, NULL
 ) to (anonymous) (not proxied) ( reason: no acis matched the subject )
aclRightsInfo;logs;entryLevel;add: acl_summary(main): access not allowed(add) on
  entry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, NULL) to
  (anonymous) (not proxied) ( reason: no acis matched the subject )
aclRightsInfo;logs;entryLevel;delete: acl_summary(main): access not allowed(dele
 te) on entry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, NU
 LL) to (anonymous) (not proxied) ( reason: no acis matched the subject )
aclRightsInfo;logs;entryLevel;proxy: acl_summary(main): access not allowed(proxy
 ) on entry/attr(cn=Carpoolers,ou=Self Service,ou=Groups,dc=example,dc=com, NULL
 ) to (anonymous) (not proxied) ( reason: no acis matched the subject )</pre><p>When you need to check access to an attribute that might not yet exist
  on the entry, you can further use the
  <code class="option">--getEffectiveRightsAttribute</code> (short form:
  <code class="option">-e</code>) option, which takes an attribute list as an argument.
  The following example shows Directory Manager checking anonymous user
  access to the description attribute for the Self Service groups organizational
  unit entry. The description attribute is not present on the entry, yet.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN "ou=Self Service,ou=groups,dc=example,dc=com"
 "ou=Self Service" description
dn: ou=Self Service,ou=Groups,dc=example,dc=com

$ ldapsearch
 --getEffectiveRightsAuthzid "dn:"
 --getEffectiveRightsAttribute description
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN "ou=Self Service,ou=groups,dc=example,dc=com"
 "ou=Self Service" aclRights
dn: ou=Self Service,ou=Groups,dc=example,dc=com
aclRights;attributeLevel;description: search:1,read:1,compare:1,write:0,selfwrit
 e_add:0,selfwrite_delete:0,proxy:0
aclRights;entryLevel: add:0,delete:0,read:1,write:0,proxy:0</pre></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e3619" class="footnote"><p><a href="#d0e3619" class="para"><sup class="para">[3] </sup></a>This does not apply to the directory root
   user, such as <code class="literal">cn=Directory Manager</code>, who bypasses
   ACIs.</p></div></div></div><div lang="en" class="chapter" id="chap-ldap-operations"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;6.&nbsp;Performing LDAP Operations</h1></div></div></div><p>OpenDJ comes with a Control Panel browser for managing entries and also
 command-line tools for performing LDAP operations. This chapter demonstrates
 how to use the command line tools to script LDAP operations.</p><div class="section" id="search-ldap"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.1.&nbsp;Searching the Directory</h2></div></div></div><a class="indexterm" name="d0e3808"></a><p>Searching the directory resembles searching for a phone number in
  a paper phone book. You can look up a phone number because you know the
  last name of a subscriber's entry. In other words, you use the value of
  one attribute of the entry to find entries that have another attribute
  you want.</p><p>Yet whereas a paper phone book has only one index (alphabetical order
  by name), the directory has many indexes. For a search you therefore always
  specify which index to use, by specifying which attribute(s) you are using
  to lookup entries.</p><p>Your paper phone book might be divided into white pages for residential
  subscribers, and yellow pages for businesses. If you are looking up an
  individual's phone number, you limit your search to the white pages.
  Directory services divide entries in various ways, often to separate
  organizations, and to separate groups from user entries from printers for
  example, but potentially in other ways. When searching you therefore also
  specify where in the directory to search.</p><p>The <span class="command"><strong>ldapsearch</strong></span> command thus takes at minimum a
  search base DN option and an LDAP filter. The search base DN identifies
  where in the directory to search for entries that match the filter.
  For example, if you are looking for printers, you might specify the base
  DN as <code class="literal">ou=Printers,dc=example,dc=com</code>. Perhaps you are
  visiting the <code class="literal">GNB00</code> office and are looking for a
  printer.</p><pre class="cmdline prettyprint">$ ldapsearch --baseDN ou=Printers,dc=example,dc=com "(printerLocation=GNB00)"</pre><p>In the example, the LDAP filter indicates to the directory that you
  want to lookup printer entries where the <code class="literal">printerLocation</code>
  attribute is equal to <code class="literal">GNB00</code>.</p><p>You also specify the host and port to access directory services,
  what protocol to use (for example, LDAP/SSL, or StartTLS to protect
  communication). If the directory service does not allow anonymous access
  to the data you want to search, you also identify who is performing the
  search and provide their credentials, such as a password or
  certificate. Finally, you can specify a list of attributes to return.
  If you do not specify attributes, then the search returns all user attributes
  for the entry.</p><div class="itemizedlist"><p>Review the following examples in this section to get a sense of how
   searches work.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="#simple-filter-search" title="Example&nbsp;6.1.&nbsp;Search: Simple Filter">Example&nbsp;6.1, &#8220;Search: Simple Filter&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#complex-filter-search" title="Example&nbsp;6.2.&nbsp;Search: Complex Filter">Example&nbsp;6.2, &#8220;Search: Complex Filter&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#operational-attrs-search" title="Example&nbsp;6.3.&nbsp;Search: Return Operational Attributes">Example&nbsp;6.3, &#8220;Search: Return Operational Attributes&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#attr-desc-list-search" title="Example&nbsp;6.4.&nbsp;Search: Return Attributes for an Object Class">Example&nbsp;6.4, &#8220;Search: Return Attributes for an Object Class&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#escape-characters-in-filter" title="Example&nbsp;6.5.&nbsp;Search: Escaping Search Filter Characters">Example&nbsp;6.5, &#8220;Search: Escaping Search Filter Characters&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#extensible-match-search" title="Example&nbsp;6.6.&nbsp;Search: List Active Accounts">Example&nbsp;6.6, &#8220;Search: List Active Accounts&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#localized-search" title="Example&nbsp;6.7.&nbsp;Search: Language Subtype">Example&nbsp;6.7, &#8220;Search: Language Subtype&#8221;</a></p></li></ul></div><div class="example" id="simple-filter-search"><div class="example-title">Example&nbsp;6.1.&nbsp;Search: Simple Filter</div><div class="example-contents"><p>The following example searches for entries with user IDs
   (<code class="literal">uid</code>) containing <code class="literal">jensen</code>, returning
   only DNs and user ID values.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com "(uid=*jensen*)" uid
dn: uid=ajensen,ou=People,dc=example,dc=com
uid: ajensen

dn: uid=bjensen,ou=People,dc=example,dc=com
uid: bjensen

dn: uid=gjensen,ou=People,dc=example,dc=com
uid: gjensen

dn: uid=jjensen,ou=People,dc=example,dc=com
uid: jjensen

dn: uid=kjensen,ou=People,dc=example,dc=com
uid: kjensen

dn: uid=rjensen,ou=People,dc=example,dc=com
uid: rjensen

dn: uid=tjensen,ou=People,dc=example,dc=com
uid: tjensen


Result Code:  0 (Success)</pre></div></div><br class="example-break"><div class="example" id="complex-filter-search"><div class="example-title">Example&nbsp;6.2.&nbsp;Search: Complex Filter</div><div class="example-contents"><p>The following example returns entries with <code class="literal">uid</code>
   containing <code class="literal">jensen</code> for users located in Santa Clara. The
   command returns the attributes associated with the <code class="literal">person</code>
   object class.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN ou=people,dc=example,dc=com
 "(&amp;(uid=*jensen*)(l=Santa Clara))"
 @person
dn: uid=ajensen,ou=People,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
cn: Allison Jensen
telephoneNumber: +1 408 555 7892
sn: Jensen

dn: uid=gjensen,ou=People,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
cn: Gern Jensen
telephoneNumber: +1 408 555 3299
sn: Jensen

dn: uid=kjensen,ou=People,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
cn: Kurt Jensen
telephoneNumber: +1 408 555 6127
sn: Jensen

dn: uid=tjensen,ou=People,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
cn: Ted Jensen
telephoneNumber: +1 408 555 8622
sn: Jensen

</pre><p>Complex filters can use both "and" syntax,
   <code class="literal">(&amp;(<em class="replaceable"><code>filtercomp</code></em>)(<em class="replaceable"><code>filtercomp</code></em>))</code>,
   and "or" syntax,
   <code class="literal">(|(<em class="replaceable"><code>filtercomp</code></em>)(<em class="replaceable"><code>filtercomp</code></em>))</code>.</p></div></div><br class="example-break"><div class="example" id="operational-attrs-search"><div class="example-title">Example&nbsp;6.3.&nbsp;Search: Return Operational Attributes</div><div class="example-contents"><p>Use <code class="literal">+</code> in the attribute list after the filter
   to return all operational attributes. Alternatively, specify operational
   attributes by name.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=bjensen +
dn: uid=bjensen,ou=People,dc=example,dc=com
numSubordinates: 0
structuralObjectClass: inetOrgPerson
pwdPolicySubentry: cn=Default Password Policy,cn=Password Policies,cn=config
subschemaSubentry: cn=schema
hasSubordinates: false
entryDN: uid=bjensen,ou=people,dc=example,dc=com
entryUUID: fc252fd9-b982-3ed6-b42a-c76d2546312c</pre></div></div><br class="example-break"><div class="example" id="attr-desc-list-search"><div class="example-title">Example&nbsp;6.4.&nbsp;Search: Return Attributes for an Object Class</div><div class="example-contents"><p>Use <code class="literal">@<em class="replaceable"><code>objectClass</code></em></code> in the
   attribute list after the filter to return the attributes associated with
   a particular object class.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=bjensen @person
dn: uid=bjensen,ou=People,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
cn: Barbara Jensen
cn: Babs Jensen
telephoneNumber: +1 408 555 1862
sn: Jensen</pre></div></div><br class="example-break"><div class="example" id="escape-characters-in-filter"><div class="example-title">Example&nbsp;6.5.&nbsp;Search: Escaping Search Filter Characters</div><div class="example-contents"><p><a class="link" href="http://tools.ietf.org/html/rfc4515" target="_top">RFC 4515:
   Lightweight Directory Access Protocol (LDAP): String Representation
   of Search Filters</a> mentions a number of characters that you must
   handle with care when using them in search filters.</p><div class="itemizedlist"><p>For a filter like <code class="literal">(attr=<em class="replaceable"><code>value</code></em>)</code>, the following list indicates characters
    that you must replace with a backslash ( <code class="literal">\</code> ) followed
    by two hexadecimal digits when using them as part of the
    <em class="replaceable"><code>value</code></em> string.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Replace <code class="literal">*</code> with <code class="literal">\2a</code>.</p></li><li class="listitem"><p>Replace <code class="literal">(</code> with <code class="literal">\28</code>.</p></li><li class="listitem"><p>Replace <code class="literal">)</code> with <code class="literal">\29</code>.</p></li><li class="listitem"><p>Replace <code class="literal">\</code> with <code class="literal">\5c</code>.</p></li><li class="listitem"><p>Replace NUL (0x00) with <code class="literal">\00</code>.</p></li></ul></div><p>The following example shows a filter with escaped characters matching
   an actual value.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com
 "(description=\28*\5c*\2a\29)" description
dn: uid=bjensen,ou=People,dc=example,dc=com
description: (A \great\ description*)</pre></div></div><br class="example-break"><div class="example" id="extensible-match-search"><div class="example-title">Example&nbsp;6.6.&nbsp;Search: List Active Accounts</div><div class="example-contents"><p>OpenDJ supports extensible matching rules, meaning you can pass in
   filters specifying a matching rule OID that extends your search beyond what
   you can do with standard LDAP. One specific matching rule of this type that
   OpenDJ supports is the generalized time based "later than" and "earlier
   than" matching rules. See the example, <a href="../admin-guide/index.html#extensible-match-index-example" class="link"><em class="citetitle">Configure
   an Extensible Match Index</em></a>, showing how to build an index
   for these matching rules.</p><p>You can use these matching rules to list, for example, all users who
   have authenticated recently.</p><p>First set up an attribute to store a last login timestamp.
   You can do this by adding a schema file for the attribute.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: cn=schema
changetype: modify
add: attributeTypes
attributeTypes: ( lastLoginTime-oid
  NAME 'lastLoginTime'
  DESC 'Last time the user logged in'
  EQUALITY generalizedTimeMatch
  ORDERING generalizedTimeOrderingMatch
  SYNTAX 1.3.6.1.4.1.1466.115.121.1.24
  SINGLE-VALUE
  NO-USER-MODIFICATION
  USAGE directoryOperation
  X-ORIGIN 'OpenDJ example documentation' )

Processing MODIFY request for cn=schema
MODIFY operation successful for DN cn=schema

</pre><p>Configure the applicable password policy to write the last login
   timestamp when a user authenticates. The following command configures the
   default password policy to write the timestamp in generalized time format
   to the <code class="literal">lastLoginTime</code> operational attribute on the user's
   entry.</p><pre class="cmdline prettyprint">$ dsconfig
 set-password-policy-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy"
 --set last-login-time-attribute:lastLoginTime
 --set last-login-time-format:"yyyyMMddHH'Z'"
 --trustAll
 --no-prompt</pre><p>Wait a while for users to authenticate again (or test it yourself) so
   that OpenDJ writes the timestamps. The following search then returns users
   who have authenticated in the last three months (13 weeks) after you
   configured OpenDJ to keep the last login timestamps.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 "(lastLoginTime:1.3.6.1.4.1.26027.1.4.6:=13w)" mail
dn: uid=bjensen,ou=People,dc=example,dc=com
mail: bjensen@example.com

dn: uid=kvaughan,ou=People,dc=example,dc=com
mail: kvaughan@example.com</pre></div></div><br class="example-break"><div class="example" id="localized-search"><div class="example-title">Example&nbsp;6.7.&nbsp;Search: Language Subtype</div><div class="example-contents"><p>OpenDJ directory server supports many language subtypes. See the
   chapter on <a href="../admin-guide/index.html#appendix-l10n" class="link"><em class="citetitle">Localization</em></a> for a list.</p><p>When you perform a search you can request the language subtype by
   OID or by language subtype string. For example, the following search gets
   the French version of a common name. The example uses the
   <span class="command"><strong>base64</strong></span> command provided with OpenDJ directory server to
   decode the attribute value.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 "(givenName:fr:=Fr&eacute;derique)" cn\;lang-fr
dn: uid=fdupont,ou=People,dc=example,dc=com
cn;lang-fr:: RnJlZMOpcmlxdWUgRHVwb250

$ base64 decode -d RnJlZMOpcmlxdWUgRHVwb250
Fred&eacute;rique Dupont</pre><div class="itemizedlist"><p>At the end of the OID or language subtype, you further specify the
    matching rule as follows:</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Add <code class="literal">.1</code> for less than</p></li><li class="listitem"><p>Add <code class="literal">.2</code> for less than or equal to</p></li><li class="listitem"><p>Add <code class="literal">.3</code> for equal to (default)</p></li><li class="listitem"><p>Add <code class="literal">.4</code> for greater than or equal to</p></li><li class="listitem"><p>Add <code class="literal">.5</code> for greater than</p></li><li class="listitem"><p>Add <code class="literal">.6</code> for substring</p></li></ul></div></div></div><br class="example-break"><p>The following table describes the operators you can use in LDAP search
  filters.</p><div class="table" id="filter-operators"><div class="table-title">Table&nbsp;6.1.&nbsp;LDAP Filter Operators</div><div class="table-contents"><table xmlns:ng="http://docbook.org/docbook-ng" xmlns:db="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:exslt="http://exslt.org/common" xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" xmlns:stbl="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Table" xmlns:xtbl="xalan://com.nwalsh.xalan.Table" xmlns:lxslt="http://xml.apache.org/xslt" xmlns:ptbl="http://nwalsh.com/xslt/ext/xsltproc/python/Table" class="table table-striped" summary="LDAP Filter Operators" width="100%" border="0"><colgroup><col width="14%"><col width="43%"><col width="43%"></colgroup><thead><tr><th>Operator</th><th>Definition</th><th>Example</th></tr></thead><tbody><tr valign="top"><td valign="top"><code class="literal">=</code></td><td valign="top">
     <p>Equality comparison, as in <code class="literal">(sn=Jensen)</code>.</p>
     <p>This can also be used with substring matches. For example, to match
     last names starting with <code class="literal">Jen</code>, use the filter
     <code class="literal">(sn=Jen*)</code>. Substrings are more expensive for the
     directory server to index. Substring searches therefore might not be
     permitted for many attributes.</p>
    </td><td valign="top">
     <p><code class="literal">"(cn=My App)"</code> matches entries with common name
     <code class="literal">My App</code>.</p>
     <p><code class="literal">"(sn=Jen*)"</code> matches entries with surname starting
     with <code class="literal">Jen</code>.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">&lt;=</code></td><td valign="top">
     <p>Less than or equal to comparison, which works
     alphanumerically.</p>
    </td><td valign="top">
     <p><code class="literal">"(cn&lt;=App)"</code> matches entries with
     <code class="literal">commonName</code> up to those starting with App
     (case-insensitive) in alphabetical order.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">&gt;=</code></td><td valign="top">
     <p>Greater than or equal to comparison, which works
     alphanumerically.</p>
    </td><td valign="top">
     <p><code class="literal">"(uidNumber&gt;=1151)"</code> matches entries with
     <code class="literal">uidNumber</code> greater than 1151.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">=*</code></td><td valign="top">
     <p>Presence comparison. For example, to match all entries having a
     <code class="literal">userPassword</code>, use the filter
     <code class="literal">(userPassword=*)</code>.</p>
    </td><td valign="top">
     <p><code class="literal">"(member=*)"</code> matches entries with a
     <code class="literal">member</code> attribute.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">~=</code></td><td valign="top">
     <p>Approximate comparison, matching attribute values similar to the
     value you specify.</p>
    </td><td valign="top">
     <p><code class="literal">"(sn~=jansen)"</code> matches entries with a surname
     that sounds similar to <code class="literal">Jansen</code> (Johnson, Jensen, and
     so forth).</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">[:dn][:<em class="replaceable"><code>oid</code></em>]:=</code></td><td valign="top">
     <p>Extensible match comparison.</p>
     <div class="itemizedlist"><p>At the end of the OID or language subtype, you further specify the
      matching rule as follows:</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Add <code class="literal">.1</code> for less than</p></li><li class="listitem"><p>Add <code class="literal">.2</code> for less than or equal to</p></li><li class="listitem"><p>Add <code class="literal">.3</code> for equal to (default)</p></li><li class="listitem"><p>Add <code class="literal">.4</code> for greater than or equal to</p></li><li class="listitem"><p>Add <code class="literal">.5</code> for greater than</p></li><li class="listitem"><p>Add <code class="literal">.6</code> for substring</p></li></ul></div>
    </td><td valign="top">
     <p><code class="literal">(uid:dn:=bjensen)</code> matches entries where
     <code class="literal">uid</code> having the value <code class="literal">bjensen</code> is
     a component of the entry DN.</p>
     <p><code class="literal">(lastLoginTime: 1.3.6.1.4.1.26027.1.4.5:=-13w)</code>
     matches entries with a last login time more recent than 13 weeks.</p>
     <p>You also use extensible match filters with localized values.
     Directory servers like OpenDJ support a variety of internationalized
     locales, each of which has an OID for collation order, such as
     <code class="literal">1.3.6.1.4.1.42.2.27.9.4.76.1</code> for French. OpenDJ also
     lets you use the language subtype, such as <code class="literal">fr</code>, instead
     of the OID.</p>
     <p><code class="literal">"(cn:dn:=My App)"</code> matches entries who have
     <code class="literal">My App</code> as the common name and also as the value of a
     DN component.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">!</code></td><td valign="top">
     <p>NOT operator, to find entries that do not match the specified filter
     component.</p>
     <p>Take care to limit your search when using <code class="literal">!</code> to
     avoid matching so many entries that the server treats your search as
     unindexed.</p>
    </td><td valign="top">
     <p><code class="literal">'!(objectclass=person)'</code> matches non-person
     entries.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">&amp;</code></td><td valign="top">
     <p>AND operator, to find entries that match all specified filter
     components.</p>
    </td><td valign="top">
     <p><code class="literal">'(&amp;(l=Cupertino)(!(uid=bjensen)))'</code> matches
     entries for users in Cupertino other than the user with ID
     <code class="literal">bjensen</code>.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">|</code></td><td valign="top">
     <p>OR operator, to find entries that match one of the specified filter
     components.</p>
    </td><td valign="top">
     <p><code class="literal">"|(sn=Jensen)(sn=Johnson)"</code> matches entries with
     surname Jensen or surname Johnson.</p>
    </td></tr></tbody></table></div></div><br class="table-break"></div><div class="section" id="compare-ldap"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.2.&nbsp;Comparing Attribute Values</h2></div></div></div><a class="indexterm" name="d0e4382"></a><p>The compare operation checks whether an attribute value you specify
  matches the attribute value stored on one or more directory entries.</p><div class="example" id="compare-example"><div class="example-title">Example&nbsp;6.8.&nbsp;Compare: Checking <code class="literal">authPassword</code></div><div class="example-contents"><p>In this example, Kirsten Vaughan checks whether the hashed password
   value matches the stored value on <code class="literal">authPassword</code>.</p><pre class="cmdline prettyprint">$ <strong>ldapcompare
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 'authPassword:MD5$dFHgpDxXUT8=$qlC4xMXvmVlusJLz9/WJ5Q=='
 uid=kvaughan,ou=people,dc=example,dc=com</strong>
Comparing type authPassword with value
 MD5$dFHgpDxXUT8=$qlC4xMXvmVlusJLz9/WJ5Q== in entry
 uid=kvaughan,ou=people,dc=example,dc=com
Compare operation returned true for entry
 uid=kvaughan,ou=people,dc=example,dc=com</pre></div></div><br class="example-break"></div><div class="section" id="write-ldap"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.3.&nbsp;Updating the Directory</h2></div></div></div><a class="indexterm" name="d0e4406"></a><a class="indexterm" name="d0e4409"></a><p>Authorized users can change directory data using the LDAP add, modify,
  modify DN, and delete operations.</p><div class="section" id="add-ldap"><div class="titlepage"><div><div><h3 class="title">6.3.1.&nbsp;Adding Entries</h3></div></div></div><p>With the <span class="command"><strong>ldapmodify -a</strong></span> command, authorized users
   can add entire entries from the same sort of LDIF file used to import
   and export data.</p><div class="example" id="add-two-users"><div class="example-title">Example&nbsp;6.9.&nbsp;Add: Two New Users</div><div class="example-contents"><pre class="cmdline prettyprint">$ cat new-users.ldif 
dn: cn=Arsene Lupin,ou=Special Users,dc=example,dc=com
objectClass: person
objectClass: top
cn: Arsene Lupin
telephoneNumber: +33 1 23 45 67 89
sn: Lupin

dn: cn=Horace Velmont,ou=Special Users,dc=example,dc=com
objectClass: person
objectClass: top
cn: Horace Velmont
telephoneNumber: +33 1 12 23 34 45
sn: Velmont

$ ldapmodify
 --defaultAdd
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --filename new-users.ldif
Processing ADD request for cn=Arsene Lupin,ou=Special Users,dc=example,dc=com
ADD operation successful for DN
 cn=Arsene Lupin,ou=Special Users,dc=example,dc=com
Processing ADD request for cn=Horace Velmont,ou=Special Users,dc=example,dc=com
ADD operation successful for DN
 cn=Horace Velmont,ou=Special Users,dc=example,dc=com</pre></div></div><br class="example-break"></div><div class="section" id="modify-ldap"><div class="titlepage"><div><div><h3 class="title">6.3.2.&nbsp;Modifying Entry Attributes</h3></div></div></div><p>With the <span class="command"><strong>ldapmodify</strong></span> command, authorized users
   can change the values of attributes in the directory using LDIF as specified
   in <a class="link" href="http://tools.ietf.org/html/rfc2849" target="_top">RFC 2849</a>.</p><div class="example" id="modify-add-attribute"><div class="example-title">Example&nbsp;6.10.&nbsp;Modify: Adding Attributes</div><div class="example-contents"><p>The following example adds a description and JPEG photo to Sam
   Carter's entry.</p><pre class="cmdline prettyprint">$ cat scarter-mods.ldif 
dn: uid=scarter,ou=people,dc=example,dc=com
changetype: modify
add: description
description: Accounting Manager
-
add: jpegphoto
jpegphoto:&lt;file:///tmp/Samantha-Carter.jpg

$ ldapmodify
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --filename scarter-mods.ldif
Processing MODIFY request for uid=scarter,ou=people,dc=example,dc=com
MODIFY operation successful for DN uid=scarter,ou=people,dc=example,dc=com</pre></div></div><br class="example-break"><div class="example" id="modify-replace-attribute"><div class="example-title">Example&nbsp;6.11.&nbsp;Modify: Changing an Attribute Value</div><div class="example-contents"><p>The following example replaces the description on Sam Carter's
   entry.</p><pre class="cmdline prettyprint">$ cat scarter-newdesc.ldif
dn: uid=scarter,ou=people,dc=example,dc=com
changetype: modify
replace: description
description: Accounting Director

$ ldapmodify
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --filename scarter-newdesc.ldif 
Processing MODIFY request for uid=scarter,ou=people,dc=example,dc=com
MODIFY operation successful for DN uid=scarter,ou=people,dc=example,dc=com</pre></div></div><br class="example-break"><div class="example" id="modify-delete-attribute"><div class="example-title">Example&nbsp;6.12.&nbsp;Modify: Deleting an Attribute Value</div><div class="example-contents"><p>The following example deletes the JPEG photo on Sam Carter's
   entry.</p><pre class="cmdline prettyprint">$ cat /path/to/scarter-deljpeg.ldif 
dn: uid=scarter,ou=people,dc=example,dc=com
changetype: modify
delete: jpegphoto

$ ldapmodify
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --filename scarter-deljpeg.ldif 
Processing MODIFY request for uid=scarter,ou=people,dc=example,dc=com
MODIFY operation successful for DN uid=scarter,ou=people,dc=example,dc=com</pre></div></div><br class="example-break"><div class="example" id="modify-optimistic-concurrency"><div class="example-title">Example&nbsp;6.13.&nbsp;Modify: Optimistic Concurrency</div><div class="example-contents"><p>Imagine you are writing an application that lets end users update
    user profiles through a browser. You store user profiles as OpenDJ entries.
    Your end users can look up user profiles and modify them. Your application
    assumes that the end users can tell the right information when they see it,
    and so aims to update profiles exactly as users see them on their
    screens.</p><p>Consider two users, Alice and Bob, both busy and often interrupted.
    Alice has Babs Jensen's new phone and room numbers. Bob has Babs's new
    location and description. Both assume that they have all the information
    that has changed. What can you do to make sure that your application
    applies the right changes when Alice and Bob simulaneously update Babs
    Jensen's profile?</p><p>OpenDJ offers a couple of features to help you in this situation.
    One of the features is the <a href="../admin-guide/index.html#assertion-request-control" class="link">LDAP Assertion
    Control</a>, used to tell OpenDJ to perform the modify only if
    an assertion you make stays true. The other feature is OpenDJ's support
    for <a class="link" href="http://tools.ietf.org/html/rfc2616#section-3.11" target="_blank">entity tag</a> (ETag) attributes, making it easy to
    check whether the entry in the directory is the same as the entry you
    read.</p><p>Alice and Bob both get Babs's entry. In LDIF the relevant
    attributes from the entry look like this. Notice the ETag.</p><pre class="codelisting prettyprint">dn: uid=bjensen,ou=People,dc=example,dc=com
telephoneNumber: +1 408 555 1862
roomNumber: 0209
l: Cupertino
ETag: 000000007a1999df</pre><p>Bob prepares his changes in your application. Bob is almost ready
    to submit the new location and description when Carol stops by to ask Bob
    a few questions.</p><p>Alice starts just after Bob, but manages to submit her changes
    without getting interrupted. Now Babs's entry looks like this.</p><pre class="codelisting prettyprint">dn: uid=bjensen,ou=People,dc=example,dc=com
description: Updated by Alice
telephoneNumber: +47 2108 1746
roomNumber: 1389
l: Cupertino
ETag: 00000000aec2c1e9</pre><p>In your application, you use the ETag attribute value with the
    assertion control to prevent Bob's update from going through when the
    ETag value has changed. Your application tries the equivalent of the
    following commands with Bob's updates.</p><pre class="cmdline prettyprint">$ cat /path/to/bobs.ldif
dn: uid=bjensen,ou=People,dc=example,dc=com
changetype: modify
replace: l
l: Grenoble
-
add: description
description: Employee of the Month

$ ldapmodify
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --port 1389
 --filename /path/to/bobs.ldif
 --assertionFilter "(ETag=000000007a1999df)"
Processing MODIFY request for uid=bjensen,ou=People,dc=example,dc=com
MODIFY operation failed
Result Code:  122 (Assertion Failed)
Additional Information:  Entry uid=bjensen,ou=People,dc=example,dc=com
 cannot be modified because the request contained an LDAP assertion control
 and the associated filter did not match the contents of the that entry</pre><p>Your application therefore reloads Babs's entry, also getting the new
    ETag value, <code class="literal">00000000aec2c1e9</code>, and lets Bob try again.
    This time Bob's changes do not collide with other changes. Babs's entry is
    successfully updated.</p><pre class="codelisting prettyprint">dn: uid=bjensen,ou=People,dc=example,dc=com
description: Employee of the Month
telephoneNumber: +47 2108 1746
roomNumber: 1389
l: Grenoble
ETag: 00000000e882c35e</pre></div></div><br class="example-break"></div><div class="section" id="filter-adds-modifies"><div class="titlepage"><div><div><h3 class="title">6.3.3.&nbsp;Filtering Add &amp; Modify Operations</h3></div></div></div><a class="indexterm" name="d0e4509"></a><p>Some client applications send updates including attributes with names
   that differ from the attribute names defined in OpenDJ. Other client
   applications might try to update attributes they should not update, such
   as the operational attributes <code class="literal">creatorsName</code>,
   <code class="literal">createTimestamp</code>, <code class="literal">modifiersName</code>,
   and <code class="literal">modifyTimestamp</code>. Ideally you would fix the client
   application behavior, but that is not always feasible.</p><p>You can configure the attribute cleanup plugin to filter add and
   modify requests, renaming attributes in requests using incorrect names,
   and removing attributes that applications should not change.</p><div class="example" id="attr-cleanup-rename"><div class="example-title">Example&nbsp;6.14.&nbsp;Renaming Incoming Attributes</div><div class="example-contents"><p>The following example renames incoming <code class="literal">email</code>
    attributes to <code class="literal">mail</code> attributes. First, configure the
    attribute cleanup plugin to rename the inbound attribute.</p><pre class="cmdline prettyprint">$ dsconfig
 create-plugin
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --type attribute-cleanup
 --plugin-name "Rename email to mail"
 --set enabled:true
 --set rename-inbound-attributes:email:mail
 --trustAll
 --no-prompt</pre><p>Next, see that it works as expected.</p><pre class="cmdline prettyprint">$ cat email.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: New User
sn: User
ou: People
email: newuser@example.com
userPassword: changeme

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename email.ldif
Processing ADD request for uid=newuser,ou=People,dc=example,dc=com
ADD operation successful for DN uid=newuser,ou=People,dc=example,dc=com
$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=newuser mail
dn: uid=newuser,ou=People,dc=example,dc=com
mail: newuser@example.com</pre></div></div><br class="example-break"><div class="example" id="attr-cleanup-remove"><div class="example-title">Example&nbsp;6.15.&nbsp;Removing Incoming Attributes</div><div class="example-contents"><p>The following example prevents client applications from adding or
    modifying <code class="literal">creatorsName</code>,
    <code class="literal">createTimestamp</code>, <code class="literal">modifiersName</code>,
    and <code class="literal">modifyTimestamp</code> attributes. First, set up the
    attribute cleanup plugin.</p><pre class="cmdline prettyprint">$ dsconfig
 create-plugin
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --type attribute-cleanup
 --plugin-name "Remove attrs"
 --set enabled:true
 --set remove-inbound-attributes:creatorsName
 --set remove-inbound-attributes:createTimestamp
 --set remove-inbound-attributes:modifiersName
 --set remove-inbound-attributes:modifyTimestamp
 --trustAll
 --no-prompt</pre><p>Next, see that it works as expected.</p><pre class="cmdline prettyprint">$ cat badattrs.ldif 
dn: uid=badattr,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: Bad Attr
sn: Attr
ou: People
mail: badattr@example.com
userPassword: changeme
creatorsName: cn=Bad Attr
createTimestamp: Never in a million years.
modifiersName: cn=Directory Manager,cn=Root DNs,cn=config
modifyTimestamp: 20110930164937Z

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename badattrs.ldif
Processing ADD request for uid=badattr,ou=People,dc=example,dc=com
ADD operation successful for DN uid=badattr,ou=People,dc=example,dc=com
$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=badattr +
dn: uid=badattr,ou=People,dc=example,dc=com
numSubordinates: 0
structuralObjectClass: inetOrgPerson
pwdPolicySubentry: cn=Default Password Policy,cn=Password Policies,cn=config
subschemaSubentry: cn=schema
hasSubordinates: false
entryDN: uid=badattr,ou=people,dc=example,dc=com
entryUUID: 35e5cb0e-e929-49d8-a50f-2df036d60db9
pwdChangedTime: 20110930165959.135Z
creatorsName: cn=Directory Manager,cn=Root DNs,cn=config
createTimestamp: 20110930165959Z</pre></div></div><br class="example-break"></div><div class="section" id="rename-ldap"><div class="titlepage"><div><div><h3 class="title">6.3.4.&nbsp;Renaming Entries</h3></div></div></div><p>The Relative Distinguished Name (RDN) refers to the part of an
   entry's DN that distinguishes it from all other DNs at the same level
   in the directory tree. For example <code class="literal">uid=bjensen</code> is
   the RDN of the entry having DN
   <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code>.</p><p>With the <span class="command"><strong>ldapmodify</strong></span> command, authorized users
   can rename entries in the directory.</p><p>When you change the RDN of the entry, you are renaming the entry,
   modifying the value of the naming attribute, but also modifying the entry's
   DN.</p><div class="example" id="rename-modrdn"><div class="example-title">Example&nbsp;6.16.&nbsp;Rename: Modifying the DN</div><div class="example-contents"><p>Sam Carter is changing her last name to Jensen, and changing her
    login from <code class="literal">scarter</code> to <code class="literal">sjensen</code>.
    The following example renames and changes Sam Carter's entry accordingly.
    Notice the boolean field, <code class="literal">deleteoldrdn: 1</code>, which
    indicates that the previous RDN, <code class="literal">uid: scarter</code>, should
    be removed. (Setting <code class="literal">deleteoldrdn: 0</code> instead would
    preserve <code class="literal">uid: scarter</code> on the entry.)</p><pre class="cmdline prettyprint">$ cat /path/to/scarter-sjensen.ldif
dn: uid=scarter,ou=people,dc=example,dc=com
changetype: modrdn
newrdn: uid=sjensen
deleteoldrdn: 1

dn: uid=sjensen,ou=people,dc=example,dc=com
changetype: modify
replace: cn
cn: Sam Jensen
-
replace: sn
sn: Jensen
-
replace: homeDirectory
homeDirectory: /home/sjensen
-
replace: mail
mail: sjensen@example.com

$ ldapmodify
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --filename /path/to/scarter-sjensen.ldif 
Processing MODIFY DN request for uid=scarter,ou=people,dc=example,dc=com
MODIFY DN operation successful for DN uid=scarter,ou=people,dc=example,dc=com
Processing MODIFY request for uid=sjensen,ou=people,dc=example,dc=com
MODIFY operation successful for DN uid=sjensen,ou=people,dc=example,dc=com</pre></div></div><br class="example-break"></div><div class="section" id="rename-moddn"><div class="titlepage"><div><div><h3 class="title">6.3.5.&nbsp;Moving Entries</h3></div></div></div><p>When you rename an entry with child entries, the directory has
   to move all the entries underneath.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>The modify DN operation only works when moving entries in the same
    backend, under the same suffix. Also, depending on the number of entries
    you move, this can be a resource-intensive operation.</p></div></div><p>With the <span class="command"><strong>ldapmodify</strong></span> command, authorized users
   can move entries in the directory.</p><div class="example" id="move-entry-example"><div class="example-title">Example&nbsp;6.17.&nbsp;Move: Merging Customer and Employees Under
    <code class="literal">ou=People</code></div><div class="example-contents"><p>The following example moves
    <code class="literal">ou=Customers,dc=example,dc=com</code> to
    <code class="literal">ou=People,dc=example,dc=com</code>, and then moves each
    employee under <code class="literal">ou=Employees,dc=example,dc=com</code>
    under <code class="literal">ou=People,dc=example,dc=com</code> as well, finally
    removing the empty <code class="literal">ou=Employees,dc=example,dc=com</code>
    container. Here, <code class="literal">deleteoldrdn: 1</code> indicates that the
    old RDN, <code class="literal">ou: Customers</code>, should be removed from the
    entry. For employees, <code class="literal">deleteoldrdn: 0</code> indicates that
    old RDNs, in this case <code class="literal">uid</code> attribute values, should
    be preserved.</p><pre class="cmdline prettyprint">$ cat move-customers.ldif 
dn: ou=Customers,dc=example,dc=com
changetype: modrdn
newrdn: ou=People
deleteoldrdn: 1
newsuperior: dc=example,dc=com

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename move-customers.ldif 
Processing MODIFY DN request for ou=Customers,dc=example,dc=com
MODIFY DN operation successful for DN ou=Customers,dc=example,dc=com
$ cat move-employees.pl 
#!/usr/bin/perl -w

# For each employee, construct a spec to move under ou=People.
while (&lt;&gt;)
{
    # Next line folded for readability only. Should not be split.
    $_ =~ s/dn: (.*?)(,.*)/dn: $1$2\nchangetype: moddn\nnewrdn: $1\n
     deleteoldrdn: 0\nnewsuperior: ou=People,dc=example,dc=com/;
    print;
}
$ ldapsearch --port 1389 --baseDN ou=Employees,dc=example,dc=com uid=* - |
 move-employees.pl &gt; /tmp/move-employees.ldif
$ head -n 6 /tmp/move-employees.ldif 
dn: uid=abarnes,ou=Employees,dc=example,dc=com
changetype: moddn
newrdn: uid=abarnes
deleteoldrdn: 0
newsuperior: ou=People,dc=example,dc=com

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename /tmp/move-employees.ldif
Processing MODIFY DN request for uid=abarnes,ou=Employees,dc=example,dc=com
MODIFY DN operation successful for DN uid=abarnes,ou=Employees,dc=example,dc=com
Processing MODIFY DN request for uid=abergin,ou=Employees,dc=example,dc=com
MODIFY DN operation successful for DN uid=abergin,ou=Employees,dc=example,dc=com
...
Processing MODIFY DN request for uid=wlutz,ou=Employees,dc=example,dc=com
MODIFY DN operation successful for DN uid=wlutz,ou=Employees,dc=example,dc=com
$ ldapdelete
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 ou=Employees,dc=example,dc=com
Processing DELETE request for ou=Employees,dc=example,dc=com
DELETE operation successful for DN ou=Employees,dc=example,dc=com</pre></div></div><br class="example-break"></div><div class="section" id="delete-ldap"><div class="titlepage"><div><div><h3 class="title">6.3.6.&nbsp;Deleting Entries</h3></div></div></div><p>With the <span class="command"><strong>ldapmodify</strong></span> command, authorized users
   can delete entries from the directory.</p><div class="example" id="delete-subtree"><div class="example-title">Example&nbsp;6.18.&nbsp;Delete: Removing a Subtree</div><div class="example-contents"><p>The following example uses the subtree delete option to remove
    all Special Users from the directory.</p><pre class="cmdline prettyprint">$ ldapdelete
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --deleteSubtree "ou=Special Users,dc=example,dc=com"
Processing DELETE request for ou=Special Users,dc=example,dc=com
DELETE operation successful for DN ou=Special Users,dc=example,dc=com</pre></div></div><br class="example-break"></div></div><div class="section" id="change-password"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.4.&nbsp;Changing Passwords</h2></div></div></div><a class="indexterm" name="d0e4686"></a><p>With the <span class="command"><strong>ldappasswordmodify</strong></span> command, authorized
  users can change and reset user passwords.</p><div class="example" id="password-reset"><div class="example-title">Example&nbsp;6.19.&nbsp;Password Reset</div><div class="example-contents"><a class="indexterm" name="d0e4699"></a><p>The following example shows Kirsten Vaughan resetting Sam Carter's
   password. Kirsten has the appropriate privilege to reset Sam's
   password.</p><pre class="cmdline prettyprint">$ ldappasswordmodify
 --useStartTLS
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --authzID "dn:uid=scarter,ou=people,dc=example,dc=com"
 --newPassword ChangeMe
The LDAP password modify operation was successful</pre><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Tip</h3></div><div class="panel-body"><p>Whenever one user changes another user's password, OpenDJ considers
    it a password reset. That often means the user has to change her password
    again after the reset.</p><p>If you want your application to change a user's password, rather
    than reset a user's password, have your application request the password
    change as the user whose password is changing. To change the password as
    the user, either bind as the user or use proxied authorization. For
    instructions on the latter, see the section on <a href="../admin-guide/index.html#proxied-authz" class="link"><em class="citetitle">Configuring
    Proxied Authorization</em></a>.</p></div></div><p>You could also accomplish password reset with the following command,
   but <span class="command"><strong>set-password-is-reset</strong></span> is a hidden option, supported
   only for testing.</p><pre class="cmdline prettyprint">$ manage-account
 set-password-is-reset
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --targetDN uid=scarter,ou=people,dc=example,dc=com
 --operationValue true
Password Is Reset:  true</pre></div></div><br class="example-break"><div class="example" id="change-own-password"><div class="example-title">Example&nbsp;6.20.&nbsp;Change Own Password</div><div class="example-contents"><p>You can use the <span class="command"><strong>ldappasswordmodify</strong></span> command to
   change your password, as long as you know your current password.</p><pre class="cmdline prettyprint">$ ldappasswordmodify
 --port 1389
 --authzID "dn:uid=bjensen,ou=people,dc=example,dc=com"
 --currentPassword hifalutin
 --newPassword secret12
The LDAP password modify operation was successful</pre><p>The same operation works for <code class="literal">cn=Directory
   Manager</code>.</p><pre class="cmdline prettyprint">$ ldappasswordmodify
 --port 1389
 --authzID "dn:cn=Directory Manager"
 --currentPassword password
 --newPassword secret12
The LDAP password modify operation was successful</pre></div></div><br class="example-break"><div class="example" id="non-ascii-password"><div class="example-title">Example&nbsp;6.21.&nbsp;Passwords With Special Characters</div><div class="example-contents"><p>OpenDJ expects passwords to be UTF-8 encoded (base64 encoded when
   included in LDIF).</p><pre class="cmdline prettyprint">$ echo $LANG
en_US.utf8
$ ldappasswordmodify
 --port 1389
 --bindDN uid=bjensen,ou=People,dc=example,dc=com
 --bindPassword hifalutin
 --currentPassword hifalutin
 --newPassword p&agrave;ssw&#527;rd
The LDAP password modify operation was successful
$ ldapsearch
 --port 1389
 --bindDN uid=bjensen,ou=People,dc=example,dc=com
 --bindPassword p&agrave;ssw&#527;rd
 --baseDN dc=example,dc=com
 "(uid=bjensen)" cn
dn: uid=bjensen,ou=People,dc=example,dc=com
userPassword: {SSHA}k0eEeCxj9YRXUp8yJn0Z/mwqe+wrcFb1N1gg2g==
cn: Barbara Jensen
cn: Babs Jensen
</pre></div></div><br class="example-break"></div><div class="section" id="tools-properties"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.5.&nbsp;Configuring Default Settings</h2></div></div></div><a class="indexterm" name="d0e4754"></a><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="codelisting prettyprint">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre><p>The location on Windows is
  <code class="filename">%UserProfile%/.opendj/tools.properties</code>.</p></div><div class="section" id="client-auth"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.6.&nbsp;Authenticating To the Directory Server</h2></div></div></div><a class="indexterm" name="d0e4775"></a><p>Authentication is the act of confirming the identity of a principal.
  Authorization is the act of determining whether to grant or to deny access to
  a principal. Authentication is done to make authorization decisions.</p><p>As explained in <a href="../admin-guide/index.html#chap-privileges-acis" class="link"><em class="citetitle">Configuring
  Privileges &amp; Access Control</em></a>, OpenDJ directory server
  implements fine-grained access control for authorization. What is authorized
  depends on who is requesting the operation. Directory servers like OpenDJ must
  first therefore authenticate the principals using the clients before they can
  authorize or deny access. The LDAP bind operation, where a directory client
  authenticates with the directory server, is therefore the first LDAP operation
  in every LDAP session.</p><p>Clients bind by providing both a means to find their principal's entry
  in the directory and also providing some credentials that the directory server
  can check against their entry.</p><p>In the simplest bind operation, the client provides a zero-length
  name and a zero-length password. This results in an anonymous bind, meaning
  the client is authenticated as an anonymous user of the directory. In the
  simplest examples in <a class="xref" href="#search-ldap" title="6.1.&nbsp;Searching the Directory">Section&nbsp;6.1, &#8220;Searching the Directory&#8221;</a>, notice that no
  authentication information is provided. The examples work because the
  client commands default to requesting anonymous binds when you provide no
  credentials, and because access controls for the sample data allow anonymous
  clients to read, search, and compare some directory data.</p><p>In a simple bind operation, the client provides an LDAP name, such as
  the DN identifying its entry, and the corresponding password stored on the
  <code class="literal">userPassword</code> attribute of the entry. In
  <a class="xref" href="#write-ldap" title="6.3.&nbsp;Updating the Directory">Section&nbsp;6.3, &#8220;Updating the Directory&#8221;</a>, notice that to change directory data the
  client provides the bind DN and bind password of a user who has permission
  to change directory data. The commands do not work with a bind DN and bind
  password because access controls for the sample data only allow authorized
  users to change directory data.</p><p>Users rarely provide client applications with DNs, however. Instead
  users might provide a client application with an identity string like a user
  ID or an email address for example. Depending on how the DNs are constructed,
  the client application can either build the DN directly from the user's
  identity string, or use a session where the bind has been done with some
  other identity to search for the user entry based on the user's identity
  string. Given the DN constructed or found, the client application can then
  perform a simple bind.</p><p>For example, suppose Babs Jensen enters her email address,
  <code class="literal">bjensen@example.com</code>, and her password in order to log in.
  The client application might search for the entry matching
  <code class="literal">(mail=bjensen@example.com)</code> under base DN
  <code class="literal">dc=example,dc=com</code>. Alternatively, the client application
  might know to extract the user ID <code class="literal">bjensen</code> from the address,
  and then build the corresponding DN,
  <code class="literal">uid=bjensen,ou=people,dc=example,dc=com</code> in order to
  bind.</p><a class="indexterm" name="d0e4818"></a><p>When an identifier string provided by the user can readily be mapped to
  the user's entry DN, OpenDJ directory server can do the translation between
  the identifier string and the entry DN. This translation is the job of a
  component called an identity mapper. Identity mappers are used to perform
  PLAIN SASL authentication (with a user name and password), SASL GSSAPI
  authentication (Kerberos V5), SASL CRAM MD5 and DIGEST MD5 authentication.
  They also handle authorization IDs during password modify extended operations
  and proxied authorization.</p><p>One use of PLAIN SASL is to translate user names from HTTP Basic
  authentication to LDAP authentication. The following example shows PLAIN SASL
  authentication using the default Exact Match identity mapper. In this
  (contrived) example, Babs Jensen reads the hashed value of her password.
  (According to the access controls in the example data, Babs must authenticate
  to read her password.) Notice the authentication ID is her user ID,
  <code class="literal">u:bjensen</code>, rather than the DN of her entry.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --useStartTLS
 --baseDN dc=example,dc=com
 --saslOption mech=PLAIN
 --saslOption authid=u:bjensen
 --bindPassword hifalutin
 "(cn=Babs Jensen)" cn userPassword
dn: uid=bjensen,ou=People,dc=example,dc=com
cn: Barbara Jensen
cn: Babs Jensen
userPassword: {SSHA}7S4Si+vPE513cYQ7otiqb8hjiCzU7XNTv0RPBA==</pre><p>The Exact Match identity mapper searches for a match between the string
  provided (here, <code class="literal">bjensen</code>) and the value of a specified
  attribute (by default the <code class="literal">uid</code> attribute). If
  you know users are entering their email addresses, you could create an
  exact match identity mapper for email addresses, and then use that for PLAIN
  SASL authentication as in the following example.</p><pre class="cmdline prettyprint">$ dsconfig
 create-identity-mapper
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --mapper-name "Email Mapper"
 --type exact-match
 --set match-attribute:mail
 --set enabled:true
 --no-prompt
$ dsconfig
 set-sasl-mechanism-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name PLAIN
 --set identity-mapper:"Email Mapper"
 --no-prompt
$ ldapsearch
 --port 1389
 --useStartTLS
 --baseDN dc=example,dc=com
 --saslOption mech=PLAIN
 --saslOption authid=u:bjensen@example.com
 --bindPassword hifalutin
 "(cn=Babs Jensen)" cn userPassword
dn: uid=bjensen,ou=People,dc=example,dc=com
cn: Barbara Jensen
cn: Babs Jensen
userPassword: {SSHA}7S4Si+vPE513cYQ7otiqb8hjiCzU7XNTv0RPBA==</pre><p>The Regular Expression identity mapper uses a regular expression to
  extract a substring from the string provided, and then searches for a match
  between the substring and the value of a specified attribute. In the case
  of example data where an email address is <em class="replaceable"><code>user ID</code></em>
  + @ + <em class="replaceable"><code>domain</code></em>, you can use the default Regular
  Expression identity mapper in the same way as the email mapper from the
  previous example. The default regular expression pattern is
  <code class="literal">^([^@]+)@.+$</code>, and the part of the identity string matching
  <code class="literal">([^@]+)</code> is used to find the entry by user ID.</p><pre class="cmdline prettyprint">$ dsconfig
 set-sasl-mechanism-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name PLAIN
 --set identity-mapper:"Regular Expression"
 --no-prompt
$ ldapsearch
 --port 1389
 --useStartTLS
 --baseDN dc=example,dc=com
 --saslOption mech=PLAIN
 --saslOption authid=u:bjensen@example.com
 --bindPassword hifalutin
 "(cn=Babs Jensen)" cn userPassword
dn: uid=bjensen,ou=People,dc=example,dc=com
cn: Barbara Jensen
cn: Babs Jensen
userPassword: {SSHA}7S4Si+vPE513cYQ7otiqb8hjiCzU7XNTv0RPBA==</pre><p>Try the <span class="command"><strong>dsconfig</strong></span> command interactively to experiment
  with <code class="literal">match-pattern</code> and <code class="literal">replace-pattern</code>
  settings for the Regular Expression identity mapper. The
  <code class="literal">match-pattern</code> can be any regular expression supported by
  <code class="literal">javax.util.regex.Pattern</code>.</p></div><div class="section" id="proxied-authz"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.7.&nbsp;Configuring Proxied Authorization</h2></div></div></div><a class="indexterm" name="d0e4878"></a><p>Proxied authorization provides a standard control as defined in <a class="link" href="http://tools.ietf.org/html/rfc4370" target="_top">RFC 4370</a> (and an
  earlier Internet-Draft) for binding with the user credentials of a proxy, who
  carries out LDAP operations on behalf of other users. You might use proxied
  authorization, for example, to have your application bind with its
  credentials, and then carry out operations as the users who login to the
  application.</p><p>Suppose you have an administrative directory client application that
  has an entry in the directory with DN
  <code class="literal">cn=My App,ou=Apps,dc=example,dc=com</code>. You can give that
  application the access rights and privileges to use proxied authorization.
  The default access control for OpenDJ permits authenticated users to use
  the proxied authorization control.</p><p>Suppose also that when directory administrator, Kirsten Vaughan, logs
  in to your application to change Babs Jensen's entry, your application looks
  up Kirsten's entry, and finds that she has DN
  <code class="literal">uid=kvaughan,ou=People,dc=example,dc=com</code>. For the example
  commands in the following procedure. My App uses proxied authorization to
  make a change to Babs's entry as Kirsten.</p><div class="procedure" id="setup-proxied-authz"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;6.1.&nbsp;To Set Up Proxied Authorization</div><ol class="procedure" type="1"><li class="step"><p>Grant access to applications that can use proxied authorization.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: dc=example,dc=com
changetype: modify
add: aci
aci: (target="ldap:///dc=example,dc=com") (targetattr ="*
 ")(version 3.0; acl "Allow apps proxied auth"; allow(all, proxy
 )(userdn = "ldap:///cn=*,ou=Apps,dc=example,dc=com");)

Processing MODIFY request for dc=example,dc=com
MODIFY operation successful for DN dc=example,dc=com</pre></li><li class="step"><p>Grant the privilege to use proxied authorization to My App.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: cn=My App,ou=Apps,dc=example,dc=com
changetype: modify
add: ds-privilege-name
ds-privilege-name: proxied-auth

Processing MODIFY request for cn=My App,ou=Apps,dc=example,dc=com
MODIFY operation successful for DN cn=My App,ou=Apps,dc=example,dc=com</pre></li><li class="step"><p>Test that My App can use proxied authorization.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=My App,ou=Apps,dc=example,dc=com"
 --bindPassword password
 --proxyAs "dn:uid=kvaughan,ou=People,dc=example,dc=com"
dn: uid=bjensen,ou=People,dc=example,dc=com
changetype: modify
replace: description
description: Changed through proxied auth

Processing MODIFY request for uid=bjensen,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=bjensen,ou=People,dc=example,dc=com</pre></li></ol></div></div><p>If you need to map authorization identifiers using the
  <code class="literal">u:</code> form rather than using <code class="literal">dn:</code>, you can
  set the identity mapper with the global configuration setting,
  <code class="literal">proxied-authorization-identity-mapper</code>. For example, if you
  get user ID values from the client, such as <code class="literal">bjensen</code>, you
  can use the Exact Match Identity Mapper to match those to DNs based on an
  attribute of the entry. Use the <span class="command"><strong>dsconfig</strong></span> command
  interactively to investigate the settings you need.</p></div><div class="section" id="client-cert-auth"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.8.&nbsp;Authenticating Using a Certificate</h2></div></div></div><a class="indexterm" name="d0e4937"></a><a class="indexterm" name="d0e4940"></a><a class="indexterm" name="d0e4943"></a><p>One alternative to simple binds with user name/password combinations
  consists in storing a digital certificate on the user entry, and then using
  the certificate as credentials during the bind. You can use this mechanism for
  example to let applications bind without using passwords.</p><p>Simply by setting up a secure connection with a certificate, the client
  is in effect authenticating to the server. The server must close the
  connection if it cannot trust the client certificate. However, the process
  of establishing a secure connection does not in itself identify the client
  to OpenDJ directory server.</p><p>Instead when binding with a certificate, the client must request the
  SASL External mechanism by which OpenDJ directory server maps the certificate
  to the client entry in the directory. When it finds a match, OpenDJ sets the
  authorization identity for the connection to that of the client, and the bind
  is successful.</p><p>For the whole process of authenticating with a certificate to work
  smoothly, OpenDJ and the client must trust each others' certificates, the
  client certificate must be stored on the client entry in the directory, and
  OpenDJ must be configured to map the certificate to the client entry.</p><div class="procedure" id="add-client-cert"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;6.2.&nbsp;To Add Certificate Information to an Entry</div><p>Before trying to bind to OpenDJ directory server using a certificate,
   create a certificate, and then add the certificate attributes to the
   entry.</p><p><a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank">Example.ldif</a> includes an entry for
   <code class="literal">cn=My App,ou=Apps,dc=example,dc=com</code>. Examples in this
   section use that entry, and use the Java <span class="command"><strong>keytool</strong></span> command
   to manage the certificate.</p><ol class="procedure" type="1"><li class="step"><p>Create a certificate using the DN of the client entry as the
    distinguished name string.</p><pre class="cmdline prettyprint">$ keytool
 -genkey
 -alias myapp-cert
 -keyalg rsa
 -dname "cn=My App,ou=Apps,dc=example,dc=com"
 -keystore keystore
 -storepass changeit
 -keypass changeit</pre></li><li class="step"><p>Get the certificate signed.</p><p>If you cannot get the certificate signed by a Certificate Authority,
    self-sign the certificate.</p><pre class="cmdline prettyprint">$ keytool
 -selfcert
 -alias myapp-cert
 -validity 7300
 -keystore keystore
 -storepass changeit
 -keypass changeit</pre></li><li class="step"><p>Make note of the certificate fingerprints.</p><p>Later in this procedure you update the client application entry with
    the MD5 fingerprint, which in this example is
    <code class="literal">48:AC:F9:13:11:E0:AB:C4:65:A2:83:9E:DB:FE:0C:37</code>.</p><pre class="cmdline prettyprint">$ keytool
 -list
 -v
 -alias myapp-cert
 -keystore keystore
 -storepass changeit
Alias name: myapp-cert
Creation date: Jan 18, 2013
Entry type: PrivateKeyEntry
Certificate chain length: 1
Certificate[1]:
Owner: CN=My App, OU=Apps, DC=example, DC=com
Issuer: CN=My App, OU=Apps, DC=example, DC=com
Serial number: 5ae2277
Valid from: Fri Jan 18 18:27:09 CET 2013 until: Thu Jan 13 18:27:09 CET 2033
Certificate fingerprints:
	 MD5:  48:AC:F9:13:11:E0:AB:C4:65:A2:83:9E:DB:FE:0C:37
	 SHA1: F9:61:54:37:AA:C1:BC:92:45:07:64:4B:23:6C:BC:C9:CD:1D:44:0F
	 SHA256: 2D:B1:58:CD:33:40:E9:...:FD:61:EA:C9:FF:6A:19:93:FE:E4:84:E3
	 Signature algorithm name: SHA256withRSA
	 Version: 3

Extensions:

#1: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: 54 C0 C5 9C 73 37 85 4B   F2 3B D3 37 FD 45 0A AB  T...s7.K.;.7.E..
0010: C9 6B 32 95                                        .k2.
]
]</pre></li><li class="step"><p>Export the certificate to a file in binary format.</p><pre class="cmdline prettyprint">$ keytool
 -export
 -alias myapp-cert
 -keystore keystore
 -storepass changeit
 -keypass changeit
 -file myapp-cert.crt
Certificate stored in file &lt;/path/to/myapp-cert.crt&gt;</pre></li><li class="step"><p>Modify the entry to add attributes related to the certificate.</p><p>By default, you need the <code class="literal">userCertificate</code>
    value.</p><p>If you want OpenDJ to map the certificate to its fingerprint, use
    <code class="literal">ds-certificate-fingerprint</code>. This example uses the MD5
    fingerprint, which corresponds to the default setting for the Fingerprint
    Certificate Mapper.</p><p>If you want to map the certificate subject DN to an attribute of the
    entry, use <code class="literal">ds-certificate-subject-dn</code>.</p><pre class="cmdline prettyprint">$ cat addcert.ldif
dn: cn=My App,ou=Apps,dc=example,dc=com
changetype: modify
add: objectclass
objectclass: ds-certificate-user
-
add: ds-certificate-fingerprint
ds-certificate-fingerprint: 48:AC:F9:13:11:E0:AB:C4:65:A2:83:9E:DB:FE:0C:37
-
add: ds-certificate-subject-dn
ds-certificate-subject-dn: CN=My App, OU=Apps, DC=example, DC=com
-
add: userCertificate;binary
userCertificate;binary:&lt;file:///path/to/myapp-cert.crt

$ ldapmodify
 --port 1389
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename addcert.ldif
Processing MODIFY request for cn=My App,ou=Apps,dc=example,dc=com
MODIFY operation successful for DN cn=My App,ou=Apps,dc=example,dc=com</pre></li><li class="step"><p>Check your work.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --hostname opendj.example.com
 --baseDN dc=example,dc=com
 "(cn=My App)"
dn: cn=My App,ou=Apps,dc=example,dc=com
ds-certificate-fingerprint: 4B:F5:CF:2C:2D:B3:86:14:FF:43:A8:37:17:DD:E7:55
userCertificate;binary:: MIIDOzCCAiOgAwIBAgIESfC6IjANBgkqhkiG9w0BAQsFADBOMRMwEQY
 KCZImiZPyLGQBGRYDY29tMRcwFQYKCZImiZPyLGQBGRYHZXhhbXBsZTENMAsGA1UECxMEQXBwczEPMA
 0GA1UEAxMGTXkgQXBwMB4XDTEzMDExNzE3MTEwM1oXDTEzMDQxNzE3MTEwM1owTjETMBEGCgmSJomT8
 ixkARkWA2NvbTEXMBUGCgmSJomT8ixkARkWB2V4YW1wbGUxDTALBgNVBAsTBEFwcHMxDzANBgNVBAMT
 Bk15IEFwcDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJQYq+jG4ZQdNkyBT4OQBZ0sFkl
 X5o2yBViDMGl1sSWIRGLpFwu6iq1chndPBJYTC+FkT66yEEOwWOpSfcYdFHkMQP0qp5A8mgP6bYkeH1
 ROvQ1nhLs0ILuksR10CVIQ5b1zv6bGEFhA9gSKmpHfQOSt9PXq8+kuz+4RgZk9Il28tgDNMm91wSJr7
 kqi5g7a2a7Io5s9L2FeLhVSBYwinWQnASk8nENrhcE0hHkrpGsaxdhIQBQQvm+SRC0dI4E9iwBGI3Lw
 lV3a4KTa5DlYD6cDREI6B8XlSdc1DaIhwC8CbsE0WJQoCERSURdjkuHrPck6f69HKUFRiC7JMT3dFbs
 CAwEAAaMhMB8wHQYDVR0OBBYEFFTAxZxzN4VL8jvTN/1FCqvJazKVMA0GCSqGSIb3DQEBCwUAA4IBAQ
 BXsAIEw7I5XUzLFHvXb2N0hmW/Vmhb/Vlv9LTT8JcCRJy4zaiyS9Q+Sp9zQUkrXauFnNAhJLwpAymjZ
 MCOq1Th1bw9LnIzbccPQ/1+ZHLKDU5pgnc5BcvaV6Zl6COLLH2OOt0XMZ/OrODBV1M6STfhChqcowff
 xp72pWMQe+kpZfzjeDBk4kK2hUNTZsimB9qRyrDAMCIXdmdmFv1o07orxjy8c/6S1329swiiVqFckBR
 aXIa8wCcXjpQbZacDODeKk6wZIKxw4miLg1YByCMa7vkUfz+Jj+JHgbHjyoT/G82mtDbX02chLgXbDm
 xJPFN3mwAC7NEkSPbqd35nJlf3
objectClass: person
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: ds-certificate-user
objectClass: top
ds-certificate-subject-dn: CN=My App, OU=Apps, DC=example, DC=com
cn: My App
sn: App</pre></li><li class="step"><p>When using a self-signed certificate, import the client certificate
    into the trust store for OpenDJ.</p><p>When the client presents its certificate to OpenDJ, by default OpenDJ
    has to be able to trust the client certificate before it can accept the
    connection. If OpenDJ cannot trust the client certificate, it cannot
    establish a secure connection.</p><pre class="cmdline prettyprint">$ keytool
 -import
 -alias myapp-cert
 -file /path/to/myapp-cert.crt
 -keystore /path/to/opendj/config/truststore
 -storepass `cat /path/to/opendj/config/keystore.pin`
Owner: CN=My App, OU=Apps, DC=example, DC=com
Issuer: CN=My App, OU=Apps, DC=example, DC=com
Serial number: 5ae2277
Valid from: Fri Jan 18 18:27:09 CET 2013 until: Thu Jan 13 18:27:09 CET 2033
Certificate fingerprints:
	 MD5:  48:AC:F9:13:11:E0:AB:C4:65:A2:83:9E:DB:FE:0C:37
	 SHA1: F9:61:54:37:AA:C1:BC:92:45:07:64:4B:23:6C:BC:C9:CD:1D:44:0F
	 SHA256: 2D:B1:58:CD:33:40:E9:...:FD:61:EA:C9:FF:6A:19:93:FE:E4:84:E3
	 Signature algorithm name: SHA256withRSA
	 Version: 3

Extensions:

#1: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: 54 C0 C5 9C 73 37 85 4B   F2 3B D3 37 FD 45 0A AB  T...s7.K.;.7.E..
0010: C9 6B 32 95                                        .k2.
]
]

Trust this certificate? [no]:  yes
Certificate was added to keystore</pre></li><li class="step"><p>When using a certificate signed by a CA whose certificate is not
    delivered with the Java runtime environment<a href="#ftn.d0e5038" class="footnote"><sup class="footnote" id="d0e5038">[4]</sup></a>, import the CA certificate either
     into the Java runtime environment trust store, or into the OpenDJ trust
     store as shown in the following example.</p><pre class="cmdline prettyprint">$ keytool
 -import
 -alias ca-cert
 -file ca.crt
 -keystore /path/to/opendj/config/truststore
 -storepass `cat /path/to/opendj/config/keystore.pin`
Owner: EMAILADDRESS=admin@example.com, CN=Example CA, O=Example Corp, C=FR
Issuer: EMAILADDRESS=admin@example.com, CN=Example CA, O=Example Corp, C=FR
Serial number: d4586ea05c878b0c
Valid from: Tue Jan 29 09:30:31 CET 2013 until: Mon Jan 24 09:30:31 CET 2033
Certificate fingerprints:
	 MD5:  8A:83:61:9B:E7:18:A2:21:CE:92:94:96:59:68:60:FA
	 SHA1: 01:99:18:38:3A:57:D7:92:7B:D6:03:8C:7B:E4:1D:37:45:0E:29:DA
	 SHA256: 5D:20:F1:86:CC:CD:64:50:1E:54:...:DF:15:43:07:69:44:00:FB:36:CF
	 Signature algorithm name: SHA1withRSA
	 Version: 3

Extensions:

#1: ObjectId: 2.5.29.35 Criticality=false
AuthorityKeyIdentifier [
KeyIdentifier [
0000: 30 07 67 7D 1F 09 B6 E6   90 85 95 58 94 37 FD 31  0.g........X.7.1
0010: 03 D4 56 7B                                        ..V.
]
[EMAILADDRESS=admin@example.com, CN=Example CA, O=Example Corp, C=FR]
SerialNumber: [    d4586ea0 5c878b0c]
]

#2: ObjectId: 2.5.29.19 Criticality=false
BasicConstraints:[
  CA:true
  PathLen:2147483647
]

#3: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: 30 07 67 7D 1F 09 B6 E6   90 85 95 58 94 37 FD 31  0.g........X.7.1
0010: 03 D4 56 7B                                        ..V.
]
]

Trust this certificate? [no]:  yes
Certificate was added to keystore</pre></li><li class="step"><p>If you updated the OpenDJ trust store to add a certificate, restart
    OpenDJ to make sure it reads the updated trust store and can recognize the
    certificate.</p><pre class="cmdline prettyprint">$ stop-ds --restart
Stopping Server...
...
... The Directory Server has started successfully</pre></li></ol></div></div><div class="procedure" id="config-cert-mappers"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;6.3.&nbsp;To Configure Certificate Mappers</div><div class="variablelist"><p>OpenDJ uses certificate mappers during binds to establish a mapping
     between a client certificate and the entry that corresponds to that
     certificate. The certificate mappers provided out of the box include the
     following.</p><dl class="variablelist"><dt><span class="term">Fingerprint Certificate Mapper</span></dt><dd><p>Looks for the MD5 (default) or SHA1 certificate fingerprint in an
      attribute of the entry (default:
      <code class="literal">ds-certificate-fingerprint</code>).</p></dd><dt><span class="term">Subject Attribute To User Attribute Mapper</span></dt><dd><p>Looks for a match between an attribute of the certificate subject
      and an attribute of the entry (default: match <code class="literal">cn</code> in
      the certificate to <code class="literal">cn</code> on the entry, or match
      <code class="literal">emailAddress</code> in the certificate to
      <code class="literal">mail</code> on the entry).</p></dd><dt><span class="term">Subject DN to User Attribute Certificate Mapper</span></dt><dd><p>Looks for the certificate subject DN in an attribute of the entry
      (default: <code class="literal">ds-certificate-subject-dn</code>).</p></dd><dt><span class="term">Subject Equals DN Certificate Mapper</span></dt><dd><p>Looks for an entry whose DN matches the certificate subject DN.</p></dd></dl></div><p>If the default configurations for the certificate mappers are
   acceptable, you do not need to change them. They are enabled by
   default.</p><p>The following steps demonstrate how to change the Fingerprint Mapper
   default algorithm of MD5 to SHA1.</p><ol class="procedure" type="1"><li class="step"><p>List the certificate mappers to retrieve the correct name.</p><pre class="cmdline prettyprint">$ dsconfig
 list-certificate-mappers
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password

Certificate Mapper                  : Type                                : enabled
------------------------------------:-------------------------------------:--------
Fingerprint Mapper                  : fingerprint                         : true
Subject Attribute to User Attribute : subject-attribute-to-user-attribute : true
Subject DN to User Attribute        : subject-dn-to-user-attribute        : true
Subject Equals DN                   : subject-equals-dn                   : true</pre></li><li class="step"><p>Examine the current configuration.</p><pre class="cmdline prettyprint">$ dsconfig
 get-certificate-mapper-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --mapper-name "Fingerprint Mapper"

Property              : Value(s)
----------------------:---------------------------
enabled               : true
fingerprint-algorithm : md5
fingerprint-attribute : ds-certificate-fingerprint
user-base-dn          : -</pre></li><li class="step"><p>Change the configuration as necessary.</p><pre class="cmdline prettyprint">$ dsconfig
 set-certificate-mapper-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --mapper-name "Fingerprint Mapper"
 --set fingerprint-algorithm:sha1
 --no-prompt</pre></li><li class="step"><p>Set the External SASL Mechanism Handler to use the appropriate
    certificate mapper (default: Subject Equals DN).</p><p>Clients applications use the SASL External mechanism during the bind
    to have OpenDJ set the authorization identifier based on the entry that
    matches the client certificate.</p><pre class="cmdline prettyprint">$ dsconfig
 set-sasl-mechanism-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name External
 --set certificate-mapper:"Fingerprint Mapper"
 --no-prompt</pre></li></ol></div></div><div class="example" id="auth-with-client-cert"><div class="example-title">Example&nbsp;6.22.&nbsp;Authenticate With Client Certificate</div><div class="example-contents"><p>Instead of providing a bind DN and password as for simple
   authentication, use the SASL EXTERNAL authentication mechanism, and provide
   the certificate. As a test with example data you can try an anonymous search,
   and then try with certificate-based authentication.</p><p>Before you try this example, make sure OpenDJ is set up to accept
   StartTLS from clients, and that you have set up the client certificate
   as described above. Next, create a password .pin file for your client key
   store.</p><pre class="cmdline prettyprint">$ echo changeit &gt; keystore.pin
$ chmod 400 keystore.pin</pre><p>Also, if OpenDJ directory server uses a certificate for StartTLS that
   was not signed by a well-known CA, import the appropriate certificate into
   the client key store, which can then double as a trust store. For example,
   if OpenDJ uses a self-signed certificate, import the server certificate into
   the key store.</p><pre class="cmdline prettyprint">$ keytool
 -export
 -alias server-cert
 -file server-cert.crt
 -keystore /path/to/opendj/config/keystore
 -storepass `cat /path/to/opendj/config/keystore.pin`
$ keytool
 -import
 -trustcacerts
 -alias server-cert
 -file server-cert.crt
 -keystore keystore
 -storepass `cat keystore.pin`</pre><p>If OpenDJ directory server uses a CA-signed certificate, but the CA is
   not well known, import the CA certificate into your keystore.</p><pre class="cmdline prettyprint">$ keytool
 -import
 -trustcacerts
 -alias ca-cert
 -file ca-cert.crt
 -keystore keystore
 -storepass `cat keystore.pin`</pre><p>Now that you can try the example, notice that OpenDJ does not return
   the <code class="literal">userPassword</code> value for an anonymous search.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --hostname opendj.example.com
 --baseDN dc=example,dc=com
 --useStartTLS
 --trustStorePath keystore
 --trustStorePasswordFile keystore.pin
 "(cn=My App)" userPassword
dn: cn=My App,ou=Apps,dc=example,dc=com
</pre><p>OpenDJ does let users read the values of their own
   <code class="literal">userPassword</code> attributes after they bind
   successfully.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --hostname opendj.example.com
 --baseDN dc=example,dc=com
 --useStartTLS
 --useSASLExternal
 --certNickName myapp-cert
 --keyStorePath keystore
 --keyStorePasswordFile keystore.pin
 --trustStorePath keystore
 --trustStorePasswordFile keystore.pin
 "(cn=My App)" userPassword
dn: cn=My App,ou=Apps,dc=example,dc=com
userPassword: {SSHA}vy/vTthOQoV/wH3MciTOBKKR4OX+0dSN/a09Ew==</pre><p>You can also try the same test with other certificate mappers.</p><pre class="cmdline prettyprint"># Fingerprint mapper
$ dsconfig
 set-sasl-mechanism-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name External
 --set certificate-mapper:"Fingerprint Mapper"
 --no-prompt
$ ldapsearch
 --port 1389
 --hostname opendj.example.com
 --baseDN dc=example,dc=com
 --useStartTLS
 --useSASLExternal
 --certNickName myapp-cert
 --keyStorePath keystore
 --keyStorePasswordFile keystore.pin
 --trustStorePath keystore
 --trustStorePasswordFile keystore.pin
 "(cn=My App)" userPassword
dn: cn=My App,ou=Apps,dc=example,dc=com
userPassword: {SSHA}vy/vTthOQoV/wH3MciTOBKKR4OX+0dSN/a09Ew==

# Subject Attribute to User Attribute mapper
$ dsconfig
 set-sasl-mechanism-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name External
 --set certificate-mapper:"Subject Attribute to User Attribute"
 --no-prompt
$ ldapsearch
 --port 1389
 --hostname opendj.example.com
 --baseDN dc=example,dc=com
 --useStartTLS
 --useSASLExternal
 --certNickName myapp-cert
 --keyStorePath keystore
 --keyStorePasswordFile keystore.pin
 --trustStorePath keystore
 --trustStorePasswordFile keystore.pin
 "(cn=My App)" userPassword
dn: cn=My App,ou=Apps,dc=example,dc=com
userPassword: {SSHA}vy/vTthOQoV/wH3MciTOBKKR4OX+0dSN/a09Ew==

# Subject DN to User Attribute mapper
$ dsconfig
 set-sasl-mechanism-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name External
 --set certificate-mapper:"Subject DN to User Attribute"
 --no-prompt
$ ldapsearch
 --port 1389
 --hostname opendj.example.com
 --baseDN dc=example,dc=com
 --useStartTLS
 --useSASLExternal
 --certNickName myapp-cert
 --keyStorePath keystore
 --keyStorePasswordFile keystore.pin
 --trustStorePath keystore
 --trustStorePasswordFile keystore.pin
 "(cn=My App)" userPassword
dn: cn=My App,ou=Apps,dc=example,dc=com
userPassword: {SSHA}vy/vTthOQoV/wH3MciTOBKKR4OX+0dSN/a09Ew==</pre></div></div><br class="example-break"></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e5038" class="footnote"><p><a href="#d0e5038" class="para"><sup class="para">[4] </sup></a><code class="filename">$JAVA_HOME/jre/lib/security/cacerts</code> holds the
     certificates for many CAs. To get the full list, use the following
     command.</p><pre class="cmdline prettyprint">$ keytool
 -list
 -v
 -keystore $JAVA_HOME/jre/lib/security/cacerts
 -storepass changeit</pre></div></div></div><div lang="en" class="chapter" id="chap-rest-operations"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;7.&nbsp;Performing RESTful Operations</h1></div></div></div><a class="indexterm" name="d0e5178"></a><a class="indexterm" name="d0e5181"></a><a class="indexterm" name="d0e5184"></a><p>OpenDJ lets you access directory data as JSON resources over HTTP.
 This chapter demonstrates basic RESTful client operations using the
 default configuration and sample directory data imported into OpenDJ from
 <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank">Example.ldif</a>. Before trying the examples, enable HTTP access to
 OpenDJ directory server as described in procedure, <a href="../admin-guide/index.html#setup-rest2ldap-connection-handler" class="link"><em class="citetitle">To Set Up REST
 Access to OpenDJ Directory Server</em></a>.</p><p>Interface stability: <a href="../admin-guide/index.html#interface-stability" class="link">Evolving</a></p><div class="section" id="understand-rest"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.1.&nbsp;Understanding the OpenDJ REST API</h2></div></div></div><p>The OpenDJ REST API is built on a common ForgeRock HTTP-based REST API
  for interacting with JSON Resources. APIs built on this common layer all let
  you perform the following operations.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="link" href="#create-rest" title="7.3.&nbsp;Creating Resources">Create</a></span></dt><dd><p>Add a resource that does not yet exist</p></dd><dt><span class="term"><a class="link" href="#read-rest" title="7.4.&nbsp;Reading a Resource">Read</a></span></dt><dd><p>Retrieve a single resource</p></dd><dt><span class="term"><a class="link" href="#update-rest" title="7.5.&nbsp;Updating Resources">Update</a></span></dt><dd><p>Replace an existing resource</p></dd><dt><span class="term"><a class="link" href="#delete-rest" title="7.6.&nbsp;Deleting Resources">Delete</a></span></dt><dd><p>Remove an existing resource</p></dd><dt><span class="term"><a class="link" href="#patch-rest" title="7.7.&nbsp;Patching Resources">Patch</a></span></dt><dd><p>Modify part of an existing resource</p></dd><dt><span class="term"><a class="link" href="#action-rest" title="7.8.&nbsp;Using Actions">Action</a></span></dt><dd><p>Perform a predefined action</p></dd><dt><span class="term"><a class="link" href="#query-rest" title="7.9.&nbsp;Querying Resource Collections">Query</a></span></dt><dd><p>List a set of resources</p></dd><dt><span class="term"><a class="link" href="#modifyPassword" title="7.10.&nbsp;Change Your Password">modifyPassword</a></span></dt><dd><p>Change Your Password</p></dd><dt><span class="term"><a class="link" href="#resetPassword" title="7.11.&nbsp;Reset a Password">resetPassword</a></span></dt><dd><p>Reset a Password</p></dd></dl></div><p>The present implementation in OpenDJ maps JSON resources onto LDAP
  entries, meaning REST clients can in principle do just about anything an
  LDAP client can do with directory data.</p><div class="variablelist"><p>In addition to query string parameters that depend on the operation,
   the examples in this chapter make use of the following parameters that
   apply to the JSON resource returned for all operations.</p><dl class="variablelist"><dt><span class="term"><code class="literal">_fields=<em class="replaceable"><code>field</code></em>[,&#8230;]</code></span></dt><dd><p>Retain only the specified fields in the JSON resource returned.</p></dd><dt><span class="term"><code class="literal">_prettyPrint=true|false</code></span></dt><dd><p>Make the JSON resource returned easy for humans to read.</p></dd></dl></div></div><div class="section" id="authenticate-rest"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.2.&nbsp;Authenticating Over REST</h2></div></div></div><p>When you first try to get a resource that you can read as an LDAP
  entry with an anonymous search, you might be surprised that you must
  authenticate.</p><pre class="cmdline prettyprint">$ curl http://opendj.example.com:8080/users/bjensen?_prettyPrint=true
{
  "code" : 401,
  "reason" : "Unauthorized",
  "message" : "Unauthorized"
}</pre><p>HTTP status code 401 tells your HTTP client that the request requires
  user authentication. You can change this behavior by setting the HTTP
  connection handler property, <code class="literal">authentication-required</code>,
  to <code class="literal">false</code>.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "HTTP Connection Handler"
 --set authentication-required:false
 --no-prompt
 --trustAll</pre><p>Out of the box both the HTTP Connection Handler and also the REST LDAP
  gateway are configured to allow HTTP Basic authentication and HTTP header
  based authentication in the style of OpenIDM. The authentication mechanisms
  translate HTTP authentication to LDAP authentication on the directory server
  side.</p><p>When you install OpenDJ either with generated sample user entries or
  with data from <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank">Example.ldif</a>, the relative distinguished name
  attribute for the sample user entries is the user ID (<code class="literal">uid</code>)
  attribute. For example, the DN and user ID for Babs Jensen are as
  follows.</p><pre class="codelisting prettyprint">dn: uid=bjensen,ou=People,dc=example,dc=com
uid: bjensen</pre><p>Given this pattern in the user entries, the default REST to LDAP
  configuration assumes that the user name on the HTTP side is the value of
  the user ID, and that user entries can be found under
  <code class="literal">ou=People,dc=example,dc=com</code>. In other words, Babs Jensen
  authenticates as <code class="literal">bjensen</code> (password:
  <code class="literal">hifalutin</code>) over HTTP. This is mapped for an LDAP bind
  to the bind DN <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code>.</p><p>With HTTP Basic authentication, it looks like this.</p><pre class="cmdline prettyprint">$ curl
 --user bjensen:hifalutin
 http://opendj.example.com:8080/users/bjensen?_prettyPrint=true
{
  "_rev" : "0000000016cbb68c",
  ...
}</pre><p>Or, using the HTTP Basic
  <em class="replaceable"><code>username</code></em>:<em class="replaceable"><code>password</code></em>@ form
  in the URL, it looks like this.</p><pre class="cmdline prettyprint">$ curl
http://bjensen:hifalutin@opendj.example.com:8080/users/bjensen?_prettyPrint=true
{
  "_rev" : "0000000016cbb68c",
  ...
}</pre><p>With HTTP header based authentication, it looks like this.</p><pre class="cmdline prettyprint">$ curl
 --header "X-OpenIDM-Username: bjensen"
 --header "X-OpenIDM-Password: hifalutin"
 http://opendj.example.com:8080/users/bjensen?_prettyPrint=true
{
  "_rev" : "0000000016cbb68c",
  ...
}</pre><p>If your directory data are laid out differently, or if your user names
  are email addresses rather than user IDs for example, then you must update
  the configuration in order for authentication to work.</p><p>The REST LDAP gateway can also translate HTTP user name and password
  authentication to PLAIN SASL authentication on the LDAP side. Moreover, the
  gateway can fall back to proxied authorization as necessary, using a root DN
  authenticated connection to LDAP servers. See <a href="../admin-guide/index.html#appendix-rest2ldap" class="link"><em class="citetitle">REST LDAP
  Configuration</em></a> for details on all configuration
  choices.</p></div><div class="section" id="create-rest"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.3.&nbsp;Creating Resources</h2></div></div></div><p>There are two ways to create resources.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>To create a resource using an ID that you specify, perform an HTTP PUT
    request with headers <code class="literal">Content-Type: application/json</code> and
    <code class="literal">If-None-Match: *</code>, and the JSON content of your
    resource.</p><p>The following example creates a new user entry with ID
    <code class="literal">newuser</code>.</p><pre class="cmdline prettyprint">$ curl
 --request PUT
 --user kvaughan:bribery
 --header "Content-Type: application/json"
 --header "If-None-Match: *"
 --data '{
  "_id": "newuser",
  "contactInformation": {
    "telephoneNumber": "+1 408 555 1212",
    "emailAddress": "newuser@example.com"
  },
  "name": {
    "familyName": "New",
    "givenName": "User"
  },
  "displayName": "New User",
  "manager": [
    {
      "_id": "kvaughan",
      "displayName": "Kirsten Vaughan"
    }
  ]
 }'
 http://opendj.example.com:8080/users/newuser?_prettyPrint=true
{
  "_rev" : "000000005b337348",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1212",
    "emailAddress" : "newuser@example.com"
  },
  "_id" : "newuser",
  "name" : {
    "familyName" : "New",
    "givenName" : "User"
  },
  "userName" : "newuser@example.com",
  "displayName" : "New User",
  "meta" : {
    "created" : "2013-04-11T09:58:27Z"
  },
  "manager" : [ {
    "_id" : "kvaughan",
    "displayName" : "Kirsten Vaughan"
  } ]
}</pre></li><li class="listitem"><p>To create a resource letting the server choose the ID, perform an HTTP
    POST with <code class="literal">_action=create</code> as described in
    <a class="xref" href="#action-rest" title="7.8.&nbsp;Using Actions">Section&nbsp;7.8, &#8220;Using Actions&#8221;</a>.</p></li></ul></div></div><div class="section" id="read-rest"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.4.&nbsp;Reading a Resource</h2></div></div></div><p>To read a resource, perform an HTTP GET.</p><pre class="cmdline prettyprint">$ curl
 --request GET
 --user kvaughan:bribery
 http://opendj.example.com:8080/users/newuser?_prettyPrint=true
{
  "_rev" : "000000005b337348",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1212",
    "emailAddress" : "newuser@example.com"
  },
  "_id" : "newuser",
  "name" : {
    "familyName" : "New",
    "givenName" : "User"
  },
  "userName" : "newuser@example.com",
  "displayName" : "New User",
  "meta" : {
    "created" : "2013-04-11T09:58:27Z"
  },
  "manager" : [ {
    "_id" : "kvaughan",
    "displayName" : "Kirsten Vaughan"
  } ]
}</pre></div><div class="section" id="update-rest"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.5.&nbsp;Updating Resources</h2></div></div></div><p>To update a resource, perform an HTTP PUT with the changes to the
  resource. For read-only fields, either include unmodified versions, or omit
  them from your updated version.</p><p>The following example adds a manager for Sam Carter.</p><pre class="cmdline prettyprint">$ curl
 --request PUT
 --user kvaughan:bribery
 --header "Content-Type: application/json"
 --data '{
   "contactInformation": {
     "telephoneNumber": "+1 408 555 4798",
     "emailAddress": "scarter@example.com"
   },
   "name": {
     "familyName": "Carter",
     "givenName": "Sam"
   },
   "userName": "scarter@example.com",
   "displayName": "Sam Carter",
   "groups": [
     {
       "_id": "Accounting Managers"
     }
   ],
   "manager": [
     {
       "_id": "trigden",
       "displayName": "Torrey Rigden"
     }
   ]
 }'
 http://opendj.example.com:8080/users/scarter?_prettyPrint=true
{
  "_rev" : "00000000a1923db2",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 4798",
    "emailAddress" : "scarter@example.com"
  },
  "_id" : "scarter",
  "name" : {
    "familyName" : "Carter",
    "givenName" : "Sam"
  },
  "userName" : "scarter@example.com",
  "displayName" : "Sam Carter",
  "manager" : [ {
    "_id" : "trigden",
    "displayName" : "Torrey Rigden"
  } ],
  "meta" : {
    "lastModified" : "2013-04-12T07:42:34Z"
  },
  "groups" : [ {
    "_id" : "Accounting Managers"
  } ]
}</pre><p>To update a resource only if the resource matches a particular version,
  use an <code class="literal">If-Match: <em class="replaceable"><code>revision</code></em></code>
  header.</p><pre class="cmdline prettyprint"> $ curl
 --user kvaughan:bribery
 http://opendj.example.com:8080/users/scarter?_fields=_rev
{"_rev":"00000000b017c5b8"}
$ curl
 --request PUT
 --user kvaughan:bribery
 --header "If-Match: 00000000b017c5b8"
 --header "Content-Type: application/json"
 --data '{
   "contactInformation": {
     "telephoneNumber": "+1 408 555 1212",
     "emailAddress": "scarter@example.com"
   },
   "name": {
     "familyName": "Carter",
     "givenName": "Sam"
   },
   "userName": "scarter@example.com",
   "displayName": "Sam Carter",
   "groups": [
     {
       "_id": "Accounting Managers"
     }
   ],
   "manager": [
     {
       "_id": "trigden",
       "displayName": "Torrey Rigden"
     }
   ]
 }'
 http://opendj.example.com:8080/users/scarter?_prettyPrint=true
{
  "_rev" : "00000000a1ee3da3",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1212",
    "emailAddress" : "scarter@example.com"
  },
  "_id" : "scarter",
  "name" : {
    "familyName" : "Carter",
    "givenName" : "Sam"
  },
  "userName" : "scarter@example.com",
  "displayName" : "Sam Carter",
  "meta" : {
    "lastModified" : "2013-04-12T07:47:45Z"
  },
  "groups" : [ {
    "_id" : "Accounting Managers"
  } ],
  "manager" : [ {
    "_id" : "trigden",
    "displayName" : "Torrey Rigden"
  } ]
}</pre></div><div class="section" id="delete-rest"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.6.&nbsp;Deleting Resources</h2></div></div></div><p>To delete a resource, perform an HTTP DELETE on the resource URL.
  On success, the operation returns the resource you deleted.</p><pre class="cmdline prettyprint">$ curl
 --request DELETE
 --user kvaughan:bribery
 http://opendj.example.com:8080/users/newuser?_prettyPrint=true
{
  "_rev" : "000000003a5f3cb2",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1212",
    "emailAddress" : "newuser@example.com"
  },
  "_id" : "newuser",
  "name" : {
    "familyName" : "New",
    "givenName" : "User"
  },
  "userName" : "newuser@example.com",
  "displayName" : "New User",
  "meta" : {
    "created" : "2013-04-11T09:58:27Z"
  },
  "manager" : [ {
    "_id" : "kvaughan",
    "displayName" : "Kirsten Vaughan"
  } ]
}</pre><p>To delete a resource only if the resource matches a particular version,
  use an <code class="literal">If-Match: <em class="replaceable"><code>revision</code></em></code>
  header.</p><pre class="cmdline prettyprint">$ curl
 --user kvaughan:bribery
 http://opendj.example.com:8080/users/newuser?_fields=_rev
{"_rev":"000000006d8d7358"}
$ curl
 --request DELETE
 --user kvaughan:bribery
 --header "If-Match: 000000006d8d7358"
 http://opendj.example.com:8080/users/newuser?_prettyPrint=true
{
  "_rev" : "00000000383f3cae",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1212",
    "emailAddress" : "newuser@example.com"
  },
  "_id" : "newuser",
  "name" : {
    "familyName" : "New",
    "givenName" : "User"
  },
  "userName" : "newuser@example.com",
  "displayName" : "New User",
  "meta" : {
    "created" : "2013-04-11T12:48:48Z"
  },
  "manager" : [ {
    "_id" : "kvaughan",
    "displayName" : "Kirsten Vaughan"
  } ]
}</pre><div class="orderedlist"><p>To delete a resource and all its children, you must change the
   configuration, get the REST LDAP gateway or HTTP Connection Handler to
   reload its configuration, and perform the operation as a user who has the
   access rights required. The following steps show one way to do this with
   the HTTP Connection Handler.</p><p>In this case the LDAP view of the user to delete shows two child
   entries.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN uid=nbohr,ou=people,dc=example,dc=com "(&amp;)" dn
dn: uid=nbohr,ou=People,dc=example,dc=com

dn: cn=quantum dot,uid=nbohr,ou=People,dc=example,dc=com

dn: cn=qubit generator,uid=nbohr,ou=People,dc=example,dc=com</pre><ol class="orderedlist" type="1"><li class="listitem"><p>In the configuration file for the HTTP Connection Handler, by default
    <code class="filename">/path/to/opendj/config/http-config.json</code>, set
    <code class="literal">"useSubtreeDelete" : true</code>.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>After this change, only users who have access to request a tree
     delete can delete resources.</p></div></div></li><li class="listitem"><p>Force the HTTP Connection Handler to reread its configuration.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "HTTP Connection Handler"
 --set enabled:false
 --no-prompt
$ dsconfig
 set-connection-handler-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "HTTP Connection Handler"
 --set enabled:true
 --no-prompt</pre></li><li class="listitem"><p>Delete as a user who has rights to perform a subtree delete on
    the resource.</p><pre class="cmdline prettyprint">$ curl
 --request DELETE
 --user kvaughan:bribery
 http://opendj.example.com:8080/users/nbohr?_prettyPrint=true
{
  "_rev" : "000000003d912113",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1212",
    "emailAddress" : "nbohr@example.com"
  },
  "_id" : "nbohr",
  "name" : {
    "familyName" : "Bohr",
    "givenName" : "Niels"
  },
  "userName" : "nbohr@example.com",
  "displayName" : "Niels Bohr"
}</pre></li></ol></div></div><div class="section" id="patch-rest"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.7.&nbsp;Patching Resources</h2></div></div></div><p>OpenDJ lets you patch JSON resources, updating part of the resource
  rather than replacing it. For example, you could change Babs Jensen's
  email address by issuing an HTTP PATCH request, as in the example that
  follows.</p><p>Notice that the data sent specifies the type of patch operation, the
  field to change, and a value that depends on the field you change and on the
  operation. A single-valued field takes an object, boolean, string, or number
  depending on its type, whereas a multi-valued field takes an array of values.
  Getting the type wrong results in an error. Also notice that the patch data is
  itself an array, since you could patch more than one part of the resource by
  using a set of patch operations in the same request.</p><pre class="cmdline prettyprint">$ curl
 --user kvaughan:bribery
 --request PATCH
 --header "Content-Type: application/json"
 --data '[
  {
    "operation": "replace",
    "field": "/contactInformation/emailAddress",
    "value": "babs@example.com"
  }
 ]'
 http://opendj.example.com:8080/users/bjensen?_prettyPrint=true
{
  "_rev" : "00000000f3fdd370",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1862",
    "emailAddress" : "babs@example.com"
  },
  "_id" : "bjensen",
  "name" : {
    "familyName" : "Jensen",
    "givenName" : "Barbara"
  },
  "userName" : "babs@example.com",
  "displayName" : "Barbara Jensen",
  "meta" : {
    "lastModified" : "2013-05-13T14:35:31Z"
  },
  "manager" : [ {
    "_id" : "trigden",
    "displayName" : "Torrey Rigden"
  } ]
}</pre><div class="variablelist"><p>OpenDJ supports four types of patch operation.</p><dl class="variablelist"><dt><span class="term">"add"</span></dt><dd><p>The add operation ensures that the target field contains the value
     provided, creating parent fields as necessary.</p><p>If the target field is single-valued and a value already exists, then
     that value is replaced with the value you provide. <span class="strong"><strong>Note that you do not get an error when adding a value to a
     single-valued field that already has a value.</strong></span> A single-valued
     field is one whose value is not an array (an object, string, boolean, or
     number).</p><p>If the target field is multi-valued, then the array of values you
     provide is merged with the set of values already in the resource. New
     values are added, and duplicate values are ignored. A multi-valued field
     takes an array value.</p></dd><dt><span class="term">"remove"</span></dt><dd><p>The remove operation ensures that the target field does not contain
     the value provided. If you do not provide a value, the entire field is
     removed if it already exists.</p><p>If the target field is single-valued and a value is provided, then
     the provided value must match the existing value to remove, otherwise the
     field is left unchanged.</p><p>If the target field is multi-valued, then values in the array you
     provide are removed from the existing set of values.</p></dd><dt><span class="term">"replace"</span></dt><dd><p>The replace operation removes existing values on the target field,
     and replaces them with the values you provide. It is equivalent to
     performing a remove on the field, then an add with the values you
     provide.</p></dd><dt><span class="term">"increment"</span></dt><dd><p>The increment operation increments or decrements the value or values
     in the target field by the amount you specify, which is positive to
     increment, negative to decrement. The target field must be a number or
     a set of numbers. The value you provide must be a single number.</p></dd></dl></div><p>One key nuance in how patch works with OpenDJ has to do with
  multi-valued fields. Although JSON resources represent multi-valued fields as
  <span class="emphasis"><em>arrays</em></span>, OpenDJ treats those values as
  <span class="emphasis"><em>sets</em></span>. In other words, values in the field are unique,
  and the ordering of an array of values is not meaningful in the context of
  patch operations. If you reference array values by index, OpenDJ returns
  an error.<a href="#ftn.d0e5540" class="footnote"><sup class="footnote" id="d0e5540">[5]</sup></a></p><p>Instead use the patch operations as if arrays values were sets. For
  example, you can include Barbara Jensen in a group by adding her to the set
  of members.</p><pre class="cmdline prettyprint">$ curl
 --user kvaughan:bribery
 --request PATCH
 --header "Content-Type: application/json"
 --data '[
  {
    "operation": "add",
    "field": "/members",
    "value": [
      {
        "_id": "bjensen"
      }
    ]
  }
 ]'
 http://opendj.example.com:8080/groups/Directory%20Administrators
 ?_prettyPrint=true
{
  "_rev" : "00000000b70c881a",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "_id" : "Directory Administrators",
  "displayName" : "Directory Administrators",
  "meta" : {
    "lastModified" : "2013-05-13T16:40:23Z"
  },
  "members" : [ {
    "_id" : "kvaughan",
    "displayName" : "Kirsten Vaughan"
  }, {
    "_id" : "rdaugherty",
    "displayName" : "Robert Daugherty"
  }, {
    "_id" : "bjensen",
    "displayName" : "Barbara Jensen"
  }, {
    "_id" : "hmiller",
    "displayName" : "Harry Miller"
  } ]
}</pre><p>Removing her from the group is similar.</p><pre class="cmdline prettyprint">$ curl
 --user kvaughan:bribery
 --request PATCH
 --header "Content-Type: application/json"
 --data '[
  {
    "operation": "remove",
    "field": "/members",
    "value": [
      {
        "_id": "bjensen"
      }
    ]
  }
 ]'
 http://opendj.example.com:8080/groups/Directory%20Administrators
 ?_prettyPrint=true
{
  "_rev" : "00000000e241797e",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "_id" : "Directory Administrators",
  "displayName" : "Directory Administrators",
  "meta" : {
    "lastModified" : "2013-05-13T16:40:55Z"
  },
  "members" : [ {
    "_id" : "kvaughan",
    "displayName" : "Kirsten Vaughan"
  }, {
    "_id" : "rdaugherty",
    "displayName" : "Robert Daugherty"
  }, {
    "_id" : "hmiller",
    "displayName" : "Harry Miller"
  } ]
}</pre><p>You can use resource revision numbers in <code class="literal">If-Match:
  <em class="replaceable"><code>revision</code></em></code> headers to patch the resource
  only if the resource matches a particular version.</p><pre class="cmdline prettyprint">$ curl
 --user kvaughan:bribery
 "http://opendj.example.com:8080/users/bjensen?_prettyPrint=true&amp;_fields=_rev"
{
  "_rev" : "00000000c1b6d4c7"
}
$ curl
 --user kvaughan:bribery
 --request PATCH
 --header "If-Match: 00000000c1b6d4c7"
 --header "Content-Type: application/json"
 --data '[
  {
    "operation": "add",
    "field": "/contactInformation/emailAddress",
    "value": "babs@example.com"
  }
 ]'
 http://opendj.example.com:8080/users/bjensen?_prettyPrint=true
{
  "_rev" : "00000000f946d377",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1862",
    "emailAddress" : "babs@example.com"
  },
  "_id" : "bjensen",
  "name" : {
    "familyName" : "Jensen",
    "givenName" : "Barbara"
  },
  "userName" : "babs@example.com",
  "displayName" : "Barbara Jensen",
  "meta" : {
    "lastModified" : "2013-05-13T16:56:33Z"
  },
  "manager" : [ {
    "_id" : "trigden",
    "displayName" : "Torrey Rigden"
  } ]
}</pre><p>The resource revision changes after you successfully perform the patch
  operation.</p></div><div class="section" id="action-rest"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.8.&nbsp;Using Actions</h2></div></div></div><p>OpenDJ implements an action that lets the server set the resource ID
  on creation. To use this action, perform an HTTP POST with header
  <code class="literal">Content-Type: application/json</code>,
  <code class="literal">_action=create</code> in the query string, and the JSON content of
  your resource.</p><p>The following example creates a new user entry.</p><pre class="cmdline prettyprint">$ curl
 --request POST
 --user kvaughan:bribery
 --header "Content-Type: application/json"
 --data '{
  "_id": "newuser",
  "contactInformation": {
    "telephoneNumber": "+1 408 555 1212",
    "emailAddress": "newuser@example.com"
  },
  "name": {
    "familyName": "New",
    "givenName": "User"
  },
  "displayName": "New User",
  "manager": [
    {
      "_id": "kvaughan",
      "displayName": "Kirsten Vaughan"
    }
  ]
 }'
 "http://opendj.example.com:8080/users?_action=create&amp;_prettyPrint=true"
{
  "_rev" : "0000000034a23ca7",
  "schemas" : [ "urn:scim:schemas:core:1.0" ],
  "contactInformation" : {
    "telephoneNumber" : "+1 408 555 1212",
    "emailAddress" : "newuser@example.com"
  },
  "_id" : "newuser",
  "name" : {
    "familyName" : "New",
    "givenName" : "User"
  },
  "userName" : "newuser@example.com",
  "displayName" : "New User",
  "meta" : {
    "created" : "2013-04-11T11:19:08Z"
  },
  "manager" : [ {
    "_id" : "kvaughan",
    "displayName" : "Kirsten Vaughan"
  } ]
}</pre></div><div class="section" id="query-rest"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.9.&nbsp;Querying Resource Collections</h2></div></div></div><p>To query resource collections, perform an HTTP GET with a
  <code class="literal">_queryFilter=<em class="replaceable"><code>filter</code></em></code> parameter
  in your query string.</p><div class="variablelist"><p>For query operations, your <em class="replaceable"><code>filter</code></em>
   expressions are constructed from the following building blocks.
   Make sure you URL encode the filter expressions, which are shown here
   without URL encoding to make them easier to read.</p><p>In these expressions the simplest
   <em class="replaceable"><code>json-pointer</code></em> is a field of the JSON resource,
   such as <code class="literal">userName</code> or <code class="literal">id</code>. A
   <em class="replaceable"><code>json-pointer</code></em> can however point to nested
   elements as described in the <a class="link" href="http://tools.ietf.org/html/draft-ietf-appsawg-json-pointer" target="_blank">JSON
   Pointer</a> Internet-Draft.</p><dl class="variablelist"><dt><span class="term">Comparison expressions</span></dt><dd><p>You can build filters using the following comparison expressions.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal"><em class="replaceable"><code>json-pointer</code></em> eq <em class="replaceable"><code>json-value</code></em></code></span></dt><dd><p>Matches when the pointer equals the value, as in the following
        example.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /users?_queryFilter=userName+eq+"bjensen@example.com"&amp;_prettyPrint=true'
{
  "result" : [ {
    "_rev" : "00000000315fb731",
    "schemas" : [ "urn:scim:schemas:core:1.0" ],
    "manager" : [ {
      "_id" : "trigden",
      "displayName" : "Torrey Rigden"
    } ],
    "contactInformation" : {
      "telephoneNumber" : "+1 408 555 1862",
      "emailAddress" : "bjensen@example.com"
    },
    "_id" : "bjensen",
    "name" : {
      "familyName" : "Jensen",
      "givenName" : "Barbara"
    },
    "userName" : "bjensen@example.com",
    "displayName" : "Barbara Jensen"
  } ],
  "resultCount" : 1,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd><dt><span class="term"><code class="literal"><em class="replaceable"><code>json-pointer</code></em> co <em class="replaceable"><code>json-value</code></em></code></span></dt><dd><p>Matches when the pointer contains the value, as in the following
        example.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /users?_queryFilter=userName+co+"jensen"&amp;_fields=userName&amp;_prettyPrint=true'
{
  "result" : [ {
    "userName" : "ajensen@example.com"
  }, {
    "userName" : "bjensen@example.com"
  }, {
    "userName" : "gjensen@example.com"
  }, {
    "userName" : "jjensen@example.com"
  }, {
    "userName" : "kjensen@example.com"
  }, {
    "userName" : "rjensen@example.com"
  }, {
    "userName" : "tjensen@example.com"
  } ],
  "resultCount" : 7,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd><dt><span class="term"><code class="literal"><em class="replaceable"><code>json-pointer</code></em> sw <em class="replaceable"><code>json-value</code></em></code></span></dt><dd><p>Matches when the pointer starts with the value, as in the
        following example.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /users?_queryFilter=userName+sw+"ab"&amp;_fields=userName&amp;_prettyPrint=true'
{
  "result" : [ {
    "userName" : "abarnes@example.com"
  }, {
    "userName" : "abergin@example.com"
  } ],
  "resultCount" : 2,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd><dt><span class="term"><code class="literal"><em class="replaceable"><code>json-pointer</code></em> lt <em class="replaceable"><code>json-value</code></em></code></span></dt><dd><p>Matches when the pointer is less than the value, as in the
        following example.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /users?_queryFilter=userName+lt+"ac"&amp;_fields=userName&amp;_prettyPrint=true'
{
  "result" : [ {
    "userName" : "abarnes@example.com"
  }, {
    "userName" : "abergin@example.com"
  } ],
  "resultCount" : 2,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd><dt><span class="term"><code class="literal"><em class="replaceable"><code>json-pointer</code></em> le <em class="replaceable"><code>json-value</code></em></code></span></dt><dd><p>Matches when the pointer is less than or equal to the value, as
        in the following example.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /users?_queryFilter=userName+le+"ad"&amp;_fields=userName&amp;_prettyPrint=true'
{
  "result" : [ {
    "userName" : "abarnes@example.com"
  }, {
    "userName" : "abergin@example.com"
  }, {
    "userName" : "achassin@example.com"
  } ],
  "resultCount" : 3,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd><dt><span class="term"><code class="literal"><em class="replaceable"><code>json-pointer</code></em> gt <em class="replaceable"><code>json-value</code></em></code></span></dt><dd><p>Matches when the pointer is greater than the value, as in the
        following example.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /users?_queryFilter=userName+gt+"tt"&amp;_fields=userName&amp;_prettyPrint=true'
{
  "result" : [ {
    "userName" : "ttully@example.com"
  }, {
    "userName" : "tward@example.com"
  }, {
    "userName" : "wlutz@example.com"
  } ],
  "resultCount" : 3,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd><dt><span class="term"><code class="literal"><em class="replaceable"><code>json-pointer</code></em> ge <em class="replaceable"><code>json-value</code></em></code></span></dt><dd><p>Matches when the pointer is greater than or equal to the value,
        as in the following example.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /users?_queryFilter=userName+ge+"tw"&amp;_fields=userName&amp;_prettyPrint=true'
{
  "result" : [ {
    "userName" : "tward@example.com"
  }, {
    "userName" : "wlutz@example.com"
  } ],
  "resultCount" : 2,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd></dl></div></dd><dt><span class="term">Presence expression</span></dt><dd><p><code class="literal"><em class="replaceable"><code>json-pointer</code></em> pr</code> matches
     any resource on which the <em class="replaceable"><code>json-pointer</code></em> is
     present, as in the following example.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /users?_queryFilter=userName%20pr&amp;_prettyPrint=true'
{
  "result" : [ {
    "_rev" : "000000002210a544",
    "schemas" : [ "urn:scim:schemas:core:1.0" ],
    "manager" : [ {
      "_id" : "scarter",
      "displayName" : "Sam Carter"
    } ],
    "contactInformation" : {
      "telephoneNumber" : "+1 408 555 9445",
      "emailAddress" : "abarnes@example.com"
    },
    "_id" : "abarnes",
    "name" : {
      "familyName" : "Barnes",
      "givenName" : "Anne-Louise"
    },
    "userName" : "abarnes@example.com",
    "displayName" : "Anne-Louise Barnes"
  },&#8230; many entries omitted &#8230;
    "_id" : "newuser",
    "name" : {
      "familyName" : "New",
      "givenName" : "User"
    },
    "userName" : "newuser@example.com",
    "displayName" : "New User",
    "meta" : {
      "created" : "2013-03-26T10:52:42Z"
    }
  } ],
  "resultCount" : 152,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd><dt><span class="term">Literal expressions</span></dt><dd><p><code class="literal">true</code> matches any resource in the collection.</p><p><code class="literal">false</code> matches no resource in the collection.</p><p>In other words you can list all resources in a collection as in the
     following example.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /groups?_queryFilter=true&amp;_fields=displayName&amp;_prettyPrint=true'
{
  "result" : [ {
    "displayName" : "Accounting Managers"
  }, {
    "displayName" : "Directory Administrators"
  }, {
    "displayName" : "HR Managers"
  }, {
    "displayName" : "PD Managers"
  }, {
    "displayName" : "QA Managers"
  } ],
  "resultCount" : 5,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd><dt><span class="term">Complex expressions</span></dt><dd><p>You can combine expressions using boolean operators
     <code class="literal">and</code>, <code class="literal">or</code>, and <code class="literal">!</code>
     (not), using parentheses,
     <code class="literal">(<em class="replaceable"><code>expression</code></em>)</code>, to group
     expressions. The following example queries resources with last name
     Jensen and manager name starting with <code class="literal">Bar</code>. Notice that
     the filters use the JSON pointers <code class="literal">name/familyName</code> and
     <code class="literal">manager/displayName</code> to identify the fields that are
     nested inside the <code class="literal">name</code> and <code class="literal">manager</code>
     objects.</p><pre class="cmdline prettyprint">$ curl --user kvaughan:bribery 'http://opendj.example.com:8080
 /users?_queryFilter=(userName+co+"jensen"+and+manager/displayName+sw+"Sam")
 &amp;_fields=displayName&amp;_prettyPrint=true'
{
  "result" : [ {
    "displayName" : "Jody Jensen"
  }, {
    "displayName" : "Ted Jensen"
  } ],
  "resultCount" : 2,
  "pagedResultsCookie" : null,
  "remainingPagedResults" : -1
}</pre></dd></dl></div></div><div class="section" id="modifyPassword"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.10.&nbsp;Change Your Password</h2></div></div></div><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>This action requires HTTPS to avoid sending the password over an insecure connection.</p></div></div><p>Perform an HTTPS POST with the header Content-Type: application/json, _action=modifyPassword in the query string, and the old and new passwords in JSON format as the POST data.</p><p>The JSON POST DATA must include the following fields:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">oldPassword</span></dt><dd><p>The value of this field is the current password as a UTF-8 string.</p></dd><dt><span class="term">newPassword</span></dt><dd><p>The value of this field is the new password as a UTF-8 string.</p></dd></dl></div><p>On success, the HTTP status code is 200 OK, and the response body is an empty JSON resource:</p><pre class="cmdline prettyprint">$ curl \
            --request POST \
            --cacert ca-cert.pem \
            --user bjensen:hifalutin \
            --header "Content-Type: application/json" \
            --data '{"oldPassword": "hifalutin", "newPassword": "chngthspwd"}' \
            --silent \
            https://localhost:8443/api/users/bjensen?_action=modifyPassword

            {}
        </pre></div><div class="section" id="resetPassword"><div class="titlepage"><div><div><h2 class="title" style="clear: both">7.11.&nbsp;Reset a Password</h2></div></div></div><p>Whenever one user changes another user&#8217;s password, DS servers consider it a password reset. Often, password policies specify that users must change their passwords again after a password reset.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>This action requires HTTPS to avoid sending the password over an insecure connection.</p></div></div><p>Perform an HTTPS POST with the header Content-Type: application/json, _action=resetPassword in the query string, and an empty JSON document ({}) as the POST data.</p><p>The JSON POST DATA must include the following fields:</p><p>The following example demonstrates an administrator changing a user&#8217;s password. Before trying this example, make sure the password administrator has been given the password-reset privilege. Otherwise, the password administrator has insufficient access. On success, the HTTP status code is 200 OK, and the response body is a JSON resource with a generatedPassword containing the new password:</p><pre class="cmdline prettyprint">$ curl \
            --request POST \
            --cacert ca-cert.pem \
            --user kvaughan:bribery \
            --header "Content-Type: application/json" \
            --data '{}' \
            --silent \
            https://localhost:8443/api/users/bjensen?_action=resetPassword

            {"generatedPassword":"new-password"}
        </pre><p>As password administrator, provide the new, generated password to the user.</p></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e5540" class="footnote"><p><a href="#d0e5540" class="para"><sup class="para">[5] </sup></a>OpenDJ does let you use a hyphen as the last element
  of the "field" JSON pointer value to add an element to the set, as in
  <span class="command"><strong>curl --user kvaughan:bribery --request PATCH --header "Content-Type:
  application/json" --data '[{ "operation" : "add", "field" : "/members/-",
  "value" : { "_id" : "bjensen" } }]'
  http://opendj.example.com:8080/groups/Directory%20Administrators</strong></span>.</p></div></div></div><div lang="en" class="chapter" id="chap-indexing"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;8.&nbsp;Indexing Attribute Values</h1></div></div></div><a class="indexterm" name="d0e5842"></a><p>OpenDJ provides several indexing schemes to speed up searches.</p><p>When a client requests a directory search operation, the client sends
 the server a filter expression such as
 <code class="literal">(&amp;(uid=*jensen*)(l=Stavanger))</code>. The server then uses
 applicable indexes to find entries with attribute values likely to match
 the search. If no indexes are applicable, then the server potentially has
 to go through all entries to look for candidate matches.</p><p>Looking through all entries is resource-intensive for large directories.
 For this reason, the <code class="literal">unindexed-search</code> privilege, allowing
 users to request searches for which no applicable index exists, is reserved
 for the directory root user by default.</p><p>Rather than granting the <code class="literal">unindexed-search</code> privilege
 to more users and client applications, you configure indexes to correspond
 to the searches that clients need to perform.</p><p>This chapter first describes index types, then demonstrates how to
 index attribute values. This chapter also lists the default indexing
 configuration for&nbsp;OpenDJ directory server.</p><div class="section" id="indexes-overview"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.1.&nbsp;Index Types &amp; What Each Does</h2></div></div></div><p>OpenDJ provides several different index types, each corresponding
  to a different type of search.</p><div class="section" id="indexes-approximate"><div class="titlepage"><div><div><h3 class="title">8.1.1.&nbsp;Approximate Index</h3></div></div></div><a class="indexterm" name="d0e5872"></a><p>An approximate index is used to match values that "sound like" those
   provided in the filter. An approximate index on <code class="literal">cn</code>
   allows clients to find people even when they misspell names as in the
   following example.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com "(cn~=Babs Jansen)" cn
dn: uid=bjensen,ou=People,dc=example,dc=com
cn: Barbara Jensen
cn: Babs Jensen</pre></div><div class="section" id="indexes-equality"><div class="titlepage"><div><div><h3 class="title">8.1.2.&nbsp;Equality Index</h3></div></div></div><a class="indexterm" name="d0e5888"></a><p>An equality index is used to match values that correspond exactly
   (though generally without case sensitivity) to the value provided in
   the search filter. An equality index requires clients to match values
   without wildcards or misspellings.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com "(uid=bjensen)" mail
dn: uid=bjensen,ou=People,dc=example,dc=com
mail: bjensen@example.com</pre></div><div class="section" id="indexes-ordering"><div class="titlepage"><div><div><h3 class="title">8.1.3.&nbsp;Ordering Index</h3></div></div></div><a class="indexterm" name="d0e5901"></a><p>An ordering index is used to match values for a filter that
   specifies a range. The <code class="literal">ds-sync-hist</code> has an ordering
   index by default because searches on that attribute often seek entries
   with changes more recent than the last time a search was performed.</p><p>The following example shows a search that specifies ranges.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com
 "(&amp;(uidNumber&gt;=1120)(roomNumber&gt;=4500))" uid
dn: uid=charvey,ou=People,dc=example,dc=com
uid: charvey

dn: uid=eward,ou=People,dc=example,dc=com
uid: eward

dn: uid=mvaughan,ou=People,dc=example,dc=com
uid: mvaughan

dn: uid=pchassin,ou=People,dc=example,dc=com
uid: pchassin</pre></div><div class="section" id="indexes-presence"><div class="titlepage"><div><div><h3 class="title">8.1.4.&nbsp;Presence Index</h3></div></div></div><a class="indexterm" name="d0e5919"></a><p>A presence index is used to match the fact that an attribute is
   present on the entry, regardless of the value. The <code class="literal">aci</code>
   attribute is indexed for presence by default to allow quick retrieval
   of entries with ACIs.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com "(aci=*)" -
dn: dc=example,dc=com

dn: ou=People,dc=example,dc=com</pre></div><div class="section" id="indexes-substring"><div class="titlepage"><div><div><h3 class="title">8.1.5.&nbsp;Substring Index</h3></div></div></div><a class="indexterm" name="d0e5935"></a><p>A substring index is used to match values specified with wildcards
   in the filter. Substring indexes can be expensive to maintain, especially
   for large attribute values.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com "(cn=Barb*)" cn
dn: uid=bfrancis,ou=People,dc=example,dc=com
cn: Barbara Francis

dn: uid=bhal2,ou=People,dc=example,dc=com
cn: Barbara Hall

dn: uid=bjablons,ou=People,dc=example,dc=com
cn: Barbara Jablonski

dn: uid=bjensen,ou=People,dc=example,dc=com
cn: Barbara Jensen
cn: Babs Jensen

dn: uid=bmaddox,ou=People,dc=example,dc=com
cn: Barbara Maddox</pre></div><div class="section" id="indexes-vlv"><div class="titlepage"><div><div><h3 class="title">8.1.6.&nbsp;Virtual List View (Browsing) Index</h3></div></div></div><a class="indexterm" name="d0e5948"></a><p>A VLV or browsing index are designed to help the server respond to
   client applications that need virtual list view results, for example to
   browse through a long list in a GUI. They also help the server respond
   to clients that request server-side sorting of the search results.</p><p>VLV indexes correspond to particular searches. Configure your
   VLV indexes using the Control Panel, and copy the command-line
   equivalent from the Details pane for the operation, if necessary.</p></div><div class="section" id="indexes-extensible"><div class="titlepage"><div><div><h3 class="title">8.1.7.&nbsp;Extensible Matching Rule Index</h3></div></div></div><a class="indexterm" name="d0e5960"></a><p>In some cases you need an index for a matching rule other than those
   described above. For example, OpenDJ supports generalized time based
   matching so applications can search for all times later than, or earlier
   than a specified time.</p></div></div><div class="section" id="configure-indexes"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.2.&nbsp;Configuring &amp; Rebuilding Indexes</h2></div></div></div><a class="indexterm" name="d0e5970"></a><p>You modify index configurations using the <span class="command"><strong>dsconfig</strong></span>
  command. The configuration changes then take effect after you rebuild the
  index according to the new configuration, using the
  <span class="command"><strong>rebuild-index</strong></span>. The <span class="command"><strong>dsconfig
  --help-database</strong></span> command lists subcommands for creating, reading,
  updating, and deleting index configuration.</p><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Tip</h3></div><div class="panel-body"><p>Indexes are per directory backend rather than per suffix. To maintain
   separate indexes for different suffixes on the same directory server, put
   the suffixes in different backends.</p></div></div><div class="section" id="configure-standard-index"><div class="titlepage"><div><div><h3 class="title">8.2.1.&nbsp;Configuring a Standard Index</h3></div></div></div><p>You can configure standard indexes from the Control Panel, and also
   on the command line using the <span class="command"><strong>dsconfig</strong></span> command. After
   you finish configuring the index, you must rebuild the index for the changes
   to take effect.</p><div class="example" id="create-index-example"><div class="example-title">Example&nbsp;8.1.&nbsp;Create a New Index</div><div class="example-contents"><p>The following example creates a new substring index for
    <code class="literal">description</code>.</p><pre class="cmdline prettyprint">$ dsconfig
 create-local-db-index
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backend-name userRoot
 --index-name description
 --set index-type:substring
 --trustAll
 --no-prompt</pre></div></div><br class="example-break"><div class="example" id="approx-index-example"><div class="example-title">Example&nbsp;8.2.&nbsp;Configure an Approximate Index</div><div class="example-contents"><a class="indexterm" name="d0e6011"></a><p>The following example configures an approximate index for
    <code class="literal">cn</code> (common name).</p><pre class="cmdline prettyprint">$ dsconfig
 set-local-db-index-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backend-name userRoot
 --index-name cn
 --set index-type:approximate
 --trustAll
 --no-prompt</pre></div></div><br class="example-break"><div class="example" id="extensible-match-index-example"><div class="example-title">Example&nbsp;8.3.&nbsp;Configure an Extensible Match Index</div><div class="example-contents"><a class="indexterm" name="d0e6027"></a><p>The OpenDJ Control Panel New Index window does not help you set up
    extensible matching rule indexes. Use the <span class="command"><strong>dsconfig</strong></span>
    command instead.</p><p>The following example configures an extensible matching rule
    index for "later than" and "earlier than" generalized time matching on
    a <code class="literal">lastLoginTime</code> attribute.</p><pre class="cmdline prettyprint">$ dsconfig
 create-local-db-index
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backend-name userRoot
 --set index-type:extensible
 --set index-extensible-matching-rule:1.3.6.1.4.1.26027.1.4.5
 --set index-extensible-matching-rule:1.3.6.1.4.1.26027.1.4.6
 --index-name lastLoginTime
 --trustAll
 --no-prompt</pre></div></div><br class="example-break"></div><div class="section" id="configure-vlv"><div class="titlepage"><div><div><h3 class="title">8.2.2.&nbsp;Configuring a Virtual List View Index</h3></div></div></div><a class="indexterm" name="d0e6048"></a><p>In the OpenDJ Control Panel, select Manage Indexes &gt;
   New VLV Index..., and then set up your VLV index using the New VLV
   Index window.</p><div class="mediaobject" align="center" id="figure-create-vlv-index"><a class="fancybox" href="images/create-vlv-index.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_create-vlv-index.png" align="middle"></a></div><p>After you finish configuring your index and click OK, the Control
   Panel prompts you to make the additional changes necessary to complete the
   VLV index configuration, and then to build the index.</p><p>You can also create the equivalent index configuration using the
   <span class="command"><strong>dsconfig</strong></span> command.</p><pre class="cmdline prettyprint">$ dsconfig
 create-local-db-vlv-index
 --port 4444
 --hostname opendj.example.com
 --bindDn "cn=Directory Manager"
 --bindPassword password
 --backend-name userRoot
 --index-name people-by-last-name
 --set base-dn:ou=People,dc=example,dc=com
 --set filter:"(|(givenName=*)(sn=*))"
 --set scope:single-level
 --set sort-order:"+sn +givenName"
 --trustAll
 --no-prompt</pre><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>When referring to a virtual list view (VLV) index after creation, you
    must add <code class="literal">vlv.</code> as a prefix. In other words, if you named
    the VLV index <code class="literal">people-by-last-name</code>, you refer to it as
    <code class="literal">vlv.people-by-last-name</code> when rebuilding indexes,
    changing index properties such as the index entry limit, or verifying
    indexes.</p></div></div></div><div class="section" id="rebuild-index"><div class="titlepage"><div><div><h3 class="title">8.2.3.&nbsp;Rebuilding Indexes</h3></div></div></div><a class="indexterm" name="d0e6083"></a><p>After you change an index configuration, or when you find that
   an index is corrupt, you can rebuild the index. When you rebuild indexes,
   you specify the base DN of the data to index, and either the list of indexes
   to rebuild or <code class="option">--rebuildAll</code>. You can rebuild indexes while
   the server is offline, or while the server is online. If you rebuild the
   index while the server is online, then you must schedule the rebuild process
   as a task.</p><div class="example" id="rebuild-index-example"><div class="example-title">Example&nbsp;8.4.&nbsp;Rebuild Index</div><div class="example-contents"><p>The following example rebuilds the <code class="literal">cn</code> index
    immediately with the server online.</p><pre class="cmdline prettyprint">$ rebuild-index
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN dc=example,dc=com
 --index cn
 --start 0
Rebuild Index task 20110607171639867 scheduled to start Jun 7, 2011 5:16:39 PM</pre></div></div><br class="example-break"><div class="example" id="rebuild-degraded-indexes-example"><div class="example-title">Example&nbsp;8.5.&nbsp;Rebuild Degraded Indexes</div><div class="example-contents"><p>The following example rebuilds degraded indexes immediately with
    the server online.</p><pre class="cmdline prettyprint">$ rebuild-index
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN dc=example,dc=com
 --rebuildDegraded
...
[31/Jan/2012:16:43:25 +0100] severity="NOTICE" msgCount=7 msgID=8847510
 message="Due to changes in the configuration, index
 dc_example_dc_com_description is currently operating in a degraded state
 and must be rebuilt before it can be used"
[31/Jan/2012:16:43:25 +0100] severity="NOTICE" msgCount=8 msgID=8847591
 message="Rebuild of all degraded indexes started with 160 total entries
 to process"
...
[31/Jan/2012:16:43:25 +0100] severity="NOTICE" msgCount=10 msgID=8847493
 message="Rebuild complete. Processed 160 entries in 0 seconds (average
 rate 1860.5/sec)"
...
Rebuild Index task 20120131164324838 has been successfully completed</pre></div></div><br class="example-break"><div class="example" id="clear-degraded-indexes-example"><div class="example-title">Example&nbsp;8.6.&nbsp;Clear New, Unused, "Degraded" Indexes</div><div class="example-contents"><p>When you add a new attribute as described in <a href="../admin-guide/index.html#update-schema" class="link"><em class="citetitle">Updating
    Directory Schema</em></a>, and then create indexes for the new
    attribute, the new indexes appear as degraded, even though the attribute
    has not yet been used, and so indexes are sure to be empty, rather than
    degraded.</p><p>In this special case, you can safely use the
    <span class="command"><strong>rebuild-index</strong></span> command
    <code class="option">--clearDegradedState</code> option to avoid having to scan
    the entire directory backend to rebuild the new, unused index. This
    is shown in the following example, where an index has just been created
    for <code class="literal">newUnusedAttribute</code>.</p><pre class="cmdline prettyprint">$ dbtest
 list-index-status
 --backendID userRoot
 --baseDN dc=example,dc=com
 | grep newUnusedAttribute
newUnusedAttribute.equality   Index  ...newUnusedAttribute.equality   false...
newUnusedAttribute.presence   Index  ...newUnusedAttribute.presence   false...
newUnusedAttribute.substring  Index  ...newUnusedAttribute.substring  false...
$ rebuild-index
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN dc=example,dc=com
 --clearDegradedState
 --index newUnusedAttribute
 --start 0
Rebuild Index task 20130211175925012 scheduled to start Feb 11, 2013 5:59:25
 PM CET
$ dbtest
 list-index-status
 --backendID userRoot
 --baseDN dc=example,dc=com
 | grep newUnusedAttribute
newUnusedAttribute.equality   Index  ...newUnusedAttribute.equality   true...
newUnusedAttribute.presence   Index  ...newUnusedAttribute.presence   true...
newUnusedAttribute.substring  Index  ...newUnusedAttribute.substring  true...</pre><p>If the newly indexed attribute has already been used, rebuild indexes
    instead.</p></div></div><br class="example-break"></div><div class="section" id="index-entry-limits"><div class="titlepage"><div><div><h3 class="title">8.2.4.&nbsp;Changing Index Entry Limits</h3></div></div></div><a class="indexterm" name="d0e6140"></a><p>As the number of entries in your directory grows, it can make sense
   not to maintain indexes for particular values. For example, every entry
   in the directory has the value <code class="literal">top</code> for the
   <code class="literal">objectClass</code> attribute, so maintaining a list of entries
   that match the filter <code class="literal">(objectClass=top)</code> is not a
   reasonable use of resources. In a very, very large directory, the same can
   be true for <code class="literal">(givenName=John)</code> and
   <code class="literal">(sn=Smith)</code>.</p><p>In an index, each index key points to a list of entries that
   are candidates to match. For the <code class="literal">objectClass</code> index key
   that corresponds to <code class="literal">=top</code>, the list of entries can
   include every entry in the directory.</p><p>OpenDJ directory server therefore defines an index entry limit. When
   the number of entries that an index key points to exceeds the index entry
   limit, OpenDJ stops maintaining the list of entries for that index key.</p><p>The default index entry limit value is 4000. 4000 is usually plenty
   large for all index keys, except for <code class="literal">objectClass</code> indexes.
   If you have clients performing searches with filters such as
   <code class="literal">(objectClass=person)</code>, you might suggest that they adjust
   the search to be more specific, such as
   <code class="literal">(&amp;(mail=username@maildomain.net)(objectClass=person))</code>,
   so that the server can use an index, in this case equality for mail, to
   limit the number of candidate entries to check for matches.</p><p>You can change the index entry limit on a per index basis.</p><div class="example" id="change-index-entry-limit"><div class="example-title">Example&nbsp;8.7.&nbsp;Change Index Entry Limit</div><div class="example-contents"><p>The following example changes the index entry limit for the
    <code class="literal">objectClass</code> index, and then rebuilds the index for the
    configuration change to take effect.</p><pre class="cmdline prettyprint">$ dsconfig
 set-local-db-index-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backend-name userRoot
 --index-name objectClass
 --set index-entry-limit:5000
 --trustAll
 --no-prompt
$ rebuild-index
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN dc=example,dc=com
 --index objectclass
 --start 0
Rebuild Index task 20110607160349596 scheduled to start Jun 7, 2011 4:03:49 PM</pre></div></div><br class="example-break"><p>Alternatively, you can configure the index entry limit for all
   indexes stored in a backend by using the <span class="command"><strong>dsconfig
   set-backend-prop</strong></span> command with the <code class="option">--backend-name
   <em class="replaceable"><code>backendName</code></em> --set
   index-entry-limit:<em class="replaceable"><code>limitValue</code></em></code>
   options.</p></div></div><div class="section" id="verify-index"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.3.&nbsp;Verifying Indexes</h2></div></div></div><a class="indexterm" name="d0e6212"></a><p>You can verify that indexes correspond to current directory data,
  and that indexes do not contain errors using the
  <span class="command"><strong>verify-index</strong></span> command.</p><div class="example" id="verify-index-example"><div class="example-title">Example&nbsp;8.8.&nbsp;Verify Index</div><div class="example-contents"><p>The following example verifies the <code class="literal">cn</code> (common
   name) index for completeness and for errors.</p><pre class="cmdline prettyprint">$ verify-index
 --baseDN dc=example,dc=com
 --index cn
 --clean
 --countErrors
[07/Jun/2011:16:06:50 +0200] category=BACKEND severity=INFORMATION
 msgID=9437595 msg=Local DB backend userRoot does not specify the number of
 lock tables: defaulting to 97
[07/Jun/2011:16:06:50 +0200] category=BACKEND severity=INFORMATION
 msgID=9437594 msg=Local DB backend userRoot does not specify the number of
 cleaner threads: defaulting to 24 threads
[07/Jun/2011:16:06:51 +0200] category=JEB severity=NOTICE msgID=8847461
 msg=Checked 1316 records and found 0 error(s) in 0 seconds
 (average rate 2506.7/sec)
[07/Jun/2011:16:06:51 +0200] category=JEB severity=INFORMATION
 msgID=8388710 msg=Number of records referencing more than one entry: 315
[07/Jun/2011:16:06:51 +0200] category=JEB severity=INFORMATION
 msgID=8388711 msg=Number of records that exceed the entry limit: 0
[07/Jun/2011:16:06:51 +0200] category=JEB severity=INFORMATION
 msgID=8388712 msg=Average number of entries referenced is 1.58/record
[07/Jun/2011:16:06:51 +0200] category=JEB severity=INFORMATION
 msgID=8388713 msg=Maximum number of entries referenced by any
 record is 32</pre><p>Ignore the messages regarding lock tables and cleaner threads. The
   important information is whether any errors are found in the indexes.</p></div></div><br class="example-break"></div><div class="section" id="debug-search-indexes"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.4.&nbsp;Checking Indexes For a Search</h2></div></div></div><a class="indexterm" name="d0e6238"></a><p>When searching, you can improve performance by making sure your search
  is indexed as you expect. One way of checking is to request the
  <code class="literal">debugsearchindex</code> attribute in your results.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 "(uid=bjensen)"
 debugsearchindex
dn: cn=debugsearch
debugsearchindex: filter=(uid=bjensen)[INDEX:uid.equality][COUNT:1]
 final=[COUNT:1]</pre><p>When you request the <code class="literal">debugsearchindex</code> attribute,
  instead of performing the search, OpenDJ returns debug information indicating
  how it would process the search operation. In the example above you notice
  OpenDJ hits the equality index for <code class="literal">uid</code> right away.</p><p>A less exact search requires more work from OpenDJ. In the following
  example OpenDJ would have to return 160 entries.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 "(uid=*)"
 debugsearchindex
dn: cn=debugsearch
debugsearchindex: filter=(uid=*)[NOT-INDEXED] scope=wholeSubtree[COUNT:160]
 final=[COUNT:160]</pre><p>By default OpenDJ rejects unindexed searches when the number of
  candidate entries goes beyond the search or look-though limit.</p></div><div class="section" id="default-indexes"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.5.&nbsp;Default Indexes</h2></div></div></div><a class="indexterm" name="d0e6269"></a><p>When you first install OpenDJ directory server and import your
  data from LDIF, the following indexes are configured.</p><div class="table" id="d0e6276"><div class="table-title">Table&nbsp;8.1.&nbsp;Default Indexes</div><div class="table-contents"><table xmlns:ng="http://docbook.org/docbook-ng" xmlns:db="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:exslt="http://exslt.org/common" xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" xmlns:stbl="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Table" xmlns:xtbl="xalan://com.nwalsh.xalan.Table" xmlns:lxslt="http://xml.apache.org/xslt" xmlns:ptbl="http://nwalsh.com/xslt/ext/xsltproc/python/Table" class="table table-striped" summary="Default Indexes" width="100%" border="0"><colgroup><col width="14%"><col class="c2" width="14%"><col width="14%"><col width="15%"><col width="14%"><col width="14%"><col class="c7" width="15%"></colgroup><thead><tr><th>Index</th><th>Approx.</th><th>Equality</th><th>Ordering</th><th>Presence</th><th>Substring</th><th>Entry Limit</th></tr></thead><tbody><tr><td><code class="literal">aci</code></td><td>-</td><td>-</td><td>-</td><td>Yes</td><td>-</td><td>4000</td></tr><tr><td><code class="literal">cn</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>Yes</td><td>4000</td></tr><tr><td><code class="literal">dn2id</code></td><td colspan="6" align="center">Non-configurable
      internal index</td></tr><tr><td><code class="literal">ds-sync-conflict</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>-</td><td>4000</td></tr><tr><td><code class="literal">ds-sync-hist</code></td><td>-</td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>4000</td></tr><tr><td><code class="literal">entryUUID</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>-</td><td>4000</td></tr><tr><td><code class="literal">givenName</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>Yes</td><td>4000</td></tr><tr><td><code class="literal">id2children</code></td><td colspan="6" align="center">Non-configurable
      internal index</td></tr><tr><td><code class="literal">id2subtree</code></td><td colspan="6" align="center">Non-configurable
      internal index</td></tr><tr><td><code class="literal">mail</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>Yes</td><td>4000</td></tr><tr><td><code class="literal">member</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>-</td><td>4000</td></tr><tr><td><code class="literal">objectClass</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>-</td><td>4000</td></tr><tr><td><code class="literal">sn</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>Yes</td><td>4000</td></tr><tr><td><code class="literal">telephone&shy;Number</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>Yes</td><td>4000</td></tr><tr><td><code class="literal">uid</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>-</td><td>4000</td></tr><tr><td><code class="literal">unique&shy;Member</code></td><td>-</td><td>Yes</td><td>-</td><td>-</td><td>-</td><td>4000</td></tr></tbody></table></div></div><br class="table-break"><p>When you create a JE backend using the <span class="command"><strong>dsconfig</strong></span>
  command, OpenDJ creates the <code class="literal">aci</code> presence,
  <code class="literal">ds-sync-conflict</code> equality,
  <code class="literal">ds-sync-hist</code> ordering,
  <code class="literal">entryUUID</code> equality, and
  <code class="literal">objectClass</code> equality indexes automatically.</p></div></div><div lang="en" class="chapter" id="chap-replication"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;9.&nbsp;Managing Data Replication</h1></div></div></div><p>OpenDJ uses advanced data replication with automated conflict
 resolution to help ensure your directory services remain available in the
 event a server crashes or a network goes down, and also as you backup or
 upgrade your directory service. You can configure data replication as part
 of OpenDJ installation, and in many cases let replication do its work in
 the background.</p><div class="section" id="repl-quick-setup"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.1.&nbsp;Replication Quick Setup</h2></div></div></div><a class="indexterm" name="d0e6554"></a><a class="indexterm" name="d0e6559"></a><p>You can set up replication during installation by choosing to
  configure replication through the setup wizard.</p><p>In the Topology Options screen for the first server you set up, select
  This server will be part of a replication topology. If you also choose
  Configure as Secure, then replication traffic is protected by SSL.</p><div class="mediaobject" align="center" id="figure-repla-setup"><a class="fancybox" href="images/replA-setup.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_replA-setup.png" align="middle" title="QuickSetup makes it easy to configure replication."></a></div><p>In the Topology Options screen for subsequent servers, also select
  There is already a server in the topology, providing the Host Name,
  Administration Connector Port number, Admin User, and Admin Password for
  the first replica you set up.</p><div class="mediaobject" align="center" id="figure-replb-setup"><a class="fancybox" href="images/replB-setup.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_replB-setup.png" align="middle" title="Subsequent servers can point to the first server at setup time."></a></div><p>You also set up a global administrator account, stored under
  <code class="literal">cn=admin data</code> across replicas, used to manage replication
  in the topology.</p><div class="mediaobject" align="center" id="figure-replb-global-admin"><a class="fancybox" href="images/replB-global-admin.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_replB-global-admin.png" align="middle" title="The global administrator account exists on all servers in the&#xA;    replication topology."></a></div><p>You further set up what to replicate.</p><div class="mediaobject" align="center" id="figure-replb-data-repl"><a class="fancybox" href="images/replB-data-repl.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_replB-data-repl.png" align="middle" title="You choose the user data to replicate. OpenDJ automatically replicates&#xA;    administrative data and directory schema."></a></div><p>Once replication is set up, it works for all the replicas. You can
  monitor the replication connection and status through the OpenDJ Control
  Panel.</p><div class="mediaobject" align="center" id="figure-repla-monitor-repl"><a class="fancybox" href="images/replA-monitor-repl.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_replA-monitor-repl.png" align="middle" title="OpenDJ Control Panel indicates the status of data being&#xA;    replicated."></a></div></div><div class="section" id="about-repl"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.2.&nbsp;About Replication</h2></div></div></div><a class="indexterm" name="d0e6612"></a><p>Before you take replication further than setting up replication
  in the setup wizard, read this section to learn more about how OpenDJ
  replication works.</p><div class="section" id="repl-what-it-is"><div class="titlepage"><div><div><h3 class="title">9.2.1.&nbsp;What Replication Is</h3></div></div></div><p>Replication is the process of copying updates between OpenDJ
   directory servers such that all servers converge on identical copies of
   directory data. Replication is designed to let convergence happen over
   time by default. <a href="#ftn.d0e6624" class="footnote"><sup class="footnote" id="d0e6624">[6]</sup></a> Letting convergence
   happen over time means that different replicas can be momentarily out of
   sync, but it also means that if you lose an individual server or even an
   entire data center, your directory service can keep on running, and then
   get back in sync when the servers are restarted or the network is
   repaired.</p><p>Replication is specific to the OpenDJ directory service. Replication
   uses a specific protocol that replays update operations quickly, storing
   enough historical information about the updates to resolve most conflicts
   automatically. For example, if two client applications separately update
   a user entry to change the phone number, replication can work out which
   was the latest change, and apply that change across servers. The historical
   information needed to resolve these issues is periodically purged to avoid
   growing larger and larger forever. As a directory administrator, you must
   ensure that you do not purge the historical information more often than you
   backup your directory data.</p><p>Keep server clocks synchronized for your topology. You can use NTP for
   example. Keeping server clocks synchronized helps prevent issues with SSL
   connections and with replication itself. Keeping server clocks synchronized
   also makes it easier to compare timestamps from multiple servers.</p></div><div class="section" id="repl-per-suffix"><div class="titlepage"><div><div><h3 class="title">9.2.2.&nbsp;Replication Per Suffix</h3></div></div></div><p>The primary unit of replication is the suffix, specified by a
   base DN such as <code class="literal">dc=example,dc=com</code>.<a href="#ftn.d0e6640" class="footnote"><sup class="footnote" id="d0e6640">[7]</sup></a> Replication also depends on the directory schema, defined on
   <code class="literal">cn=schema</code>, and the <code class="literal">cn=admin data</code>
   suffix with administrative identities and certificates for protecting
   communications. Thus that content gets replicated as well.</p><p>The set of OpenDJ servers replicating data for a given suffix is
   called a replication topology. You can have more than one replication
   topology. For example, one topology could be devoted to
   <code class="literal">dc=example,dc=com</code>, and another to
   <code class="literal">dc=example,dc=org</code>. OpenDJ servers are capable of
   serving more than one suffix. They are also capable of participating in
   more than one replication topology.</p><div class="mediaobject" align="center" id="figure-replication-topologies-right"><a class="fancybox" href="images/repl-topologies-right.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_repl-topologies-right.png" align="middle" alt="Three replication topologies set up correctly" title="In this figure, all OpenDJ servers serve the replicated suffix&#xA;     dc=example,dc=com. Only servers A and B serve&#xA;     dc=example,dc=org. Only server C and D serve&#xA;     dc=example,dc=net."></a></div><p>Within a replication topology, the suffixes being replicated are
   identified to the replication servers by their DN. As all the replication
   servers are fully connected in a topology, a consequence is that it is
   impossible to have multiple "sub-topologies" within the overall set of
   servers as illustrated in the following diagram.</p><div class="mediaobject" align="center" id="figure-replication-topologies-wrong"><a class="fancybox" href="images/repl-topologies-wrong.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_repl-topologies-wrong.png" align="middle" alt="Two replication topologies, one of which does not work" title="You cannot have all servers replicating both&#xA;     dc=example,dc=com and also&#xA;     dc=example,dc=org, but with all servers connected for&#xA;     dc=example,dc=com and only some of the servers&#xA;     connected for dc=example,dc=org."></a></div></div><div class="section" id="repl-connection-selection"><div class="titlepage"><div><div><h3 class="title">9.2.3.&nbsp;Replication Connection Selection</h3></div></div></div><p>In order to understand what happens when individual servers stop
   responding due to a network partition or a crash, know that OpenDJ can
   offer both directory service and also replication service, and the two
   services are not the same, even if they can run alongside each other in
   the same OpenDJ server in the same Java Virtual Machine.</p><p>Replication relies on the replication service provided by OpenDJ
   replication servers, where OpenDJ directory servers publish changes made
   to their data, and subscribe to changes published by other OpenDJ directory
   servers. A replication server manages replication data only, handling
   replication traffic with directory servers and with other replication
   servers, receiving, sending, and storing only changes to directory data
   rather than directory data itself. Once a replication server is connected
   to a replication topology, it maintains connections to all other
   replication servers in that topology.</p><p>A directory server handles directory data. It responds to requests,
   stores directory data and historical information. For each replicated
   suffix, such as <code class="literal">dc=example,dc=com</code>,
   <code class="literal">cn=schema</code> and <code class="literal">cn=admin data</code>, the
   directory server publishes changes to a replication server, and subscribes
   to changes from that replication server. (Directory servers do not publish
   changes to other directory servers.) A directory server also resolves any
   conflicts that arise when reconciling changes from other directory servers,
   using the historical information about changes to resolve the conflicts.
   (Conflict resolution is the responsibility of the directory server rather
   than the replication server.)</p><p>Once a directory server is connected to a replication topology for a
   particular suffix, it connects to one replication server at a time for that
   suffix. The replication server provides the directory server with a list of
   all replication servers for that suffix. Given the list of possible
   replication servers to which it can connect, the directory server can
   determine which replication server to connect to when starting up, or when
   the current connection is lost or becomes unresponsive.</p><div class="orderedlist"><p>For each replicated suffix, a directory server prefers to connect to
    a replication server:</p><ol class="orderedlist" type="1"><li class="listitem"><p>In the same group as the directory server</p></li><li class="listitem"><p>Having the same initial data for the suffix as the directory
     server</p></li><li class="listitem"><p>If initial data were the same, having all the latest changes from
     the directory server</p></li><li class="listitem"><p>Running in the same Java Virtual Machine as the directory
     server</p></li><li class="listitem"><p>Having the most available capacity relative to other eligible
     replication servers</p><p>Available capacity depends on how many directory servers in the
     topology are already connected to a replication server, and what
     proportion of all directory servers in the topology ought to be connected
     to the replication server.</p><p>To determine what proportion of the total number of directory
     servers should be connected to a replication server, OpenDJ uses
     replication server weight. When configuring a replication server, you
     can assign it a weight (default: 1). The weight property takes an integer
     that indicates capacity to provide replication service relative to other
     servers. For example, a weight of 2 would indicate a replication server
     that can handle twice as many connected servers as a replication server
     with weight 1.</p><p>The proportion of directory servers in a topology that should be
     connected to a given replication server is equal to (replication server
     weight)/(sum of replication server weights). In other words, if there are
     4 replication servers in a topology each with default weights, the
     proportion for each replication server is 1/4.</p></li></ol></div><p>Consider a situation where 7 directory servers are connected to
   replication servers A, B, C, and D for <code class="literal">dc=example,dc=com</code>
   data. Suppose 2 directory servers each are connected to A, B, and C, and 1
   directory server is connected to replication server D. Replication server D
   is therefore the server with the most available capacity relative to other
   replication servers in the topology. All other criteria being equal,
   replication server D is the server to connect to when an 8th directory
   server joins the topology.</p><p>The directory server regularly updates the list of replication servers
   in case it must reconnect. As available capacity of replication servers for
   each replication topology can change dynamically, a directory server can
   potentially reconnect to another replication server to balance the
   replication load in the topology. For this reason the server can also end
   up connected to different replication servers for different suffixes.</p></div></div><div class="section" id="configure-repl"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.3.&nbsp;Configuring Replication</h2></div></div></div><a class="indexterm" name="d0e6751"></a><p>This section shows how to configure replication with command-line
  tools.</p><div class="section" id="enable-repl"><div class="titlepage"><div><div><h3 class="title">9.3.1.&nbsp;Enabling Replication</h3></div></div></div><p>You can start the replication process by using the
   <span class="command"><strong>dsreplication enable</strong></span> command.</p><pre class="cmdline prettyprint">$ dsreplication
 enable
 --adminUID admin
 --adminPassword password
 --baseDN dc=example,dc=com
 --host1 opendj.example.com
 --port1 4444
 --bindDN1 "cn=Directory Manager"
 --bindPassword1 password
 --replicationPort1 8989
 --host2 opendj2.example.com
 --port2 4444
 --bindDN2 "cn=Directory Manager"
 --bindPassword2 password
 --replicationPort2 8989
 --trustAll
 --no-prompt

Establishing connections ..... Done.
Checking registration information ..... Done.
Updating remote references on server opendj.example.com:4444 ..... Done.
Configuring Replication port on server opendj2.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj2.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj2.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj2.example.com:4444 ..... Done.
Initializing registration information on server opendj2.example.com:4444 with
 the contents of server opendj.example.com:4444 ..... Done.
Initializing schema on server opendj2.example.com:4444 with the contents of
 server opendj.example.com:4444 ..... Done.

Replication has been successfully enabled.  Note that for replication to
 work you must initialize the contents of the base DN's that are being
  replicated (use dsreplication initialize to do so).

See
/var/.../opends-replication-7958637258600693490.log
for a detailed log of this operation.</pre><p>To enable secure connections for replication use the
   <code class="option">--secureReplication1</code> and
   <code class="option">--secureReplication2</code> options, which are equivalent to
   selecting Configure as Secure in the replication topology options screen of
   the setup wizard.</p><p>As you see in the command output, replication is set up to function
   once enabled. You must however initialize replication in order to start
   the process.</p><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Tip</h3></div><div class="panel-body"><p>When scripting the configuration to set up multiple replicas in quick
    succession, use the same initial replication server each time you run the
    command. In other words, pass the same <code class="option">--host1</code>,
    <code class="option">--port1</code>, <code class="option">--bindDN1</code>,
    <code class="option">--bindPassword1</code>, and <code class="option">--replicationPort1</code>
    options for each of the other replicas that you set up in your
    script.</p></div></div><p>If you need to add another OpenDJ directory server to participate
   in replication, use the <span class="command"><strong>dsreplication enable</strong></span> with
   the new server as the second server.</p></div><div class="section" id="init-repl"><div class="titlepage"><div><div><h3 class="title">9.3.2.&nbsp;Initializing Replicas</h3></div></div></div><p>You can initialize replication between servers by performing
   initialization over the network after you have enabled replication, or by
   importing the same LDIF data on all servers and then enabling replication.
   You can also add a new server by restoring a backup from an existing replica
   onto the new server and then enabling replication with an existing
   replica.</p><div class="itemizedlist"><p>The alternatives are described step-by-step in the following
    procedures.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="#init-repl-online" title="Procedure&nbsp;9.1.&nbsp;To Initialize Replication Over the Network">Procedure&nbsp;9.1, &#8220;To Initialize Replication Over the Network&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#init-repl-ldif" title="Procedure&nbsp;9.2.&nbsp;To Initialize All Servers From the Same LDIF">Procedure&nbsp;9.2, &#8220;To Initialize All Servers From the Same LDIF&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#init-repl-backup" title="Procedure&nbsp;9.3.&nbsp;To Create a New Replica From Existing Backup">Procedure&nbsp;9.3, &#8220;To Create a New Replica From Existing Backup&#8221;</a></p></li></ul></div><div class="procedure" id="init-repl-online"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.1.&nbsp;To Initialize Replication Over the Network</div><p>Initialization over the network while the server is online works well
    when you have no initial data, or when your network bandwidth is large
    compared to the initial amount of data to replicate.</p><ol class="procedure" type="1"><li class="step"><p>Enable replication on all servers.</p><p>See <a class="xref" href="#enable-repl" title="9.3.1.&nbsp;Enabling Replication">Section&nbsp;9.3.1, &#8220;Enabling Replication&#8221;</a> for instructions.</p></li><li class="step"><p>Start replication with the <span class="command"><strong>dsreplication
     initialize-all</strong></span> command.</p><pre class="cmdline prettyprint">$ dsreplication
 initialize-all
 --adminUID admin
 --adminPassword password
 --baseDN dc=example,dc=com
 --hostname opendj.example.com
 --port 4444
 --trustAll
 --no-prompt

Initializing base DN dc=example,dc=com with the contents from
 opendj.example.com:4444: 160 entries processed (100 % complete).
Base DN initialized successfully.

See
/var/.../opends-replication-5020375834904394170.log
for a detailed log of this operation.</pre></li></ol></div></div><div class="procedure" id="init-repl-ldif"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.2.&nbsp;To Initialize All Servers From the Same LDIF</div><p>This procedure can be useful when you are starting with a large amount
    of directory data that is available locally to all directory servers.</p><ol class="procedure" type="1"><li class="step"><p>Import the same LDIF on all servers as described in the procedure,
     <a href="../admin-guide/index.html#import-ldif" class="link"><em class="citetitle">To Import LDIF
     Data</em></a>.</p><p>Do not yet accept updates to the directory data.
     <a class="xref" href="#read-only-repl" title="9.3.6.&nbsp;Read-Only Replicas">Section&nbsp;9.3.6, &#8220;Read-Only Replicas&#8221;</a> shows how to prevent replicas from
     accepting updates from clients.</p></li><li class="step"><p>Enable replication for all servers.</p><p>See <a class="xref" href="#enable-repl" title="9.3.1.&nbsp;Enabling Replication">Section&nbsp;9.3.1, &#8220;Enabling Replication&#8221;</a> for instructions.</p></li><li class="step"><p>Allow updates to the directory data by setting
     <code class="literal">writability-mode:enabled</code> using a command like the
     one you found in <a class="xref" href="#read-only-repl" title="9.3.6.&nbsp;Read-Only Replicas">Section&nbsp;9.3.6, &#8220;Read-Only Replicas&#8221;</a>.</p></li></ol></div></div><div class="procedure" id="init-repl-backup"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.3.&nbsp;To Create a New Replica From Existing Backup</div><p>You can create a new replica from a backup of a server in the existing
    topology.</p><ol class="procedure" type="1"><li class="step"><p>Install a new server to use as the new replica.</p></li><li class="step"><p>Backup the database on an existing server as described in
     <a href="../admin-guide/index.html#backup" class="link"><em class="citetitle">Backing Up Directory
     Data</em></a>.</p><p>At this point, other servers in the topology can continue to process
     updates.</p></li><li class="step"><p>Enable replication on the new replica.</p><pre class="cmdline prettyprint">$ dsreplication
 enable
 --adminUID admin
 --adminPassword password
 --baseDN dc=example,dc=com
 --host1 opendj.example.com
 --port1 4444
 --bindDN1 "cn=Directory Manager"
 --bindPassword1 password
 --replicationPort1 8989
 --host2 opendj3.example.com
 --port2 4444
 --bindDN2 "cn=Directory Manager"
 --bindPassword2 password
 --replicationPort2 8989
 --trustAll
 --no-prompt

Establishing connections ..... Done.
Checking registration information ..... Done.
Updating remote references on server opendj.example.com:4444 ..... Done.
Configuring Replication port on server opendj3.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj3.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj2.example.com:4444 ..... Done.
Updating remote references on server opendj2.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj3.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj2.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj3.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj2.example.com:4444 ..... Done.
Initializing registration information on server opendj3.example.com:4444 with
 the contents of server opendj.example.com:4444 ..... Done.

Replication has been successfully enabled.  Note that for replication to
 work you must initialize the contents of the base DN's that are being
 replicated (use dsreplication initialize to do so).

See
/var/.../opends-replication-1672058070147419978.log
for a detailed log of this operation.</pre><p>Contrary to the message from the command, you do not need to use
     the <span class="command"><strong>dsreplication initialize</strong></span> command at this
     point.</p></li><li class="step"><p>On the new server, restore the database from the backup
     archive as described in the procedure, <a href="../admin-guide/index.html#restore-replica" class="link"><em class="citetitle">To Restore a
     Replica</em></a>.</p><p>As long as you restore the database on the new replica before the
     replication purge delay runs out, updates processed by other servers after
     you created the backup are replicated to the new server after you restore
     the data.</p></li></ol></div></div></div><div class="section" id="stop-repl"><div class="titlepage"><div><div><h3 class="title">9.3.3.&nbsp;Stopping Replication</h3></div></div></div><a class="indexterm" name="d0e6909"></a><p>How you stop replication depends on whether the change is meant to
   be temporary or permanent.</p><div class="procedure" id="stop-repl-tmp"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.4.&nbsp;To Stop Replication Temporarily For a Replica</div><p>If you need to stop a server from replicating temporarily, you can
    do so using <span class="command"><strong>dsconfig</strong></span> command.</p><div class="panel panel-warning"><div class="panel-heading"><h3 class="panel-title">Warning</h3></div><div class="panel-body"><p>Do not allow modifications on the replica for which replication is
     disabled, as no record of such changes is kept, and the changes cause
     replication to diverge.</p></div></div><ol class="procedure" type="1"><li class="step"><p>Disable the multimaster synchronization provider.</p><pre class="cmdline prettyprint">$ dsconfig
 set-synchronization-provider-prop
 --port 4444
 --hostname opendj2.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --set enabled:false
 --trustAll
 --no-prompt</pre></li><li class="step"><p>When you are ready to resume replication, enable the multimaster
     synchronization provider.</p><pre class="cmdline prettyprint">$ dsconfig
 set-synchronization-provider-prop
 --port 4444
 --hostname opendj2.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --set enabled:true
 --trustAll
 --no-prompt</pre></li></ol></div></div><div class="procedure" id="stop-repl-permanent"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.5.&nbsp;To Stop Replication Permanently For a Replica</div><p>If you need to stop a server from replicating permanently, for
    example in preparation to remove a server, you can do so with the
    <span class="command"><strong>dsreplication disable</strong></span> command.</p><ol class="procedure" type="1"><li class="step"><p>Stop replication using the <span class="command"><strong>dsreplication disable</strong></span>
     command.</p><pre class="cmdline prettyprint">$ dsreplication
 disable
 --disableAll
 --port 4444
 --hostname opendj2.example.com
 --bindDN "cn=Directory Manager"
 --adminPassword password
 --trustAll
 --no-prompt
Establishing connections ..... Done.
Disabling replication on base DN cn=admin data of server
 opendj2.example.com:4444 ..... Done.
Disabling replication on base DN dc=example,dc=com of server
 opendj2.example.com:4444 ..... Done.
Disabling replication on base DN cn=schema of server
 opendj2.example.com:4444 ..... Done.
Disabling replication port 8989 of server
 opendj2.example.com:4444 ..... Done.
Removing registration information ..... Done.
Removing truststore information ..... Done.

See
/var/.../opends-replication-125248191132797765.log
for a detailed log of this operation.</pre><p>The <span class="command"><strong>dsreplication disable</strong></span> as shown completely
     removes the replication configuration information from the server.</p></li><li class="step"><p>If you want to restart replication for the server, you need to run
     the <span class="command"><strong>dsreplication enable</strong></span> and <span class="command"><strong>dsreplication
     initialize</strong></span> commands again.</p></li></ol></div></div></div><div class="section" id="repl-dedicated-servers"><div class="titlepage"><div><div><h3 class="title">9.3.4.&nbsp;Stand-alone Replication Servers</h3></div></div></div><a class="indexterm" name="d0e6973"></a><p>Replication in OpenDJ is designed to be both easy to implement in
   environments with a few servers, and also scalable in environments with
   many servers. You can enable the replication service on each OpenDJ
   directory server in your deployment, for example, to limit the number
   of servers you deploy. Yet in a large deployment, you can use stand-alone
   replication servers &#8212; OpenDJ servers that do nothing but relay
   replication messages &#8212; to configure (and troubleshoot) the replication
   service separately from the directory service. You only need a few
   stand-alone replication servers publishing changes to serve many directory
   servers subscribed to the changes. Furthermore, replication is designed
   such that you need only connect a directory server to the nearest
   replication server for the directory server to replicate with all others
   in your topology. Yet only the stand-alone replication servers participate
   in fully-meshed replication.</p><p>All replication servers in a topology are connected to all other
   replication servers. Directory servers are connected only to one replication
   server at a time, and their connections should be to replication servers on
   the same LAN. Therefore the total number of replication connections,
   Total<sub>conn</sub> is expressed as follows.</p><div class="equation" id="d0e6985"><div class="equation-title">Equation&nbsp;9.1.&nbsp;</div><div class="equation-contents"><span class="mathphrase">Total<sub>conn</sub> = (N<sub>RS</sub> *
    N<sub>RS</sub>-1)/2 + N<sub>DS</sub></span></div></div><br class="equation-break"><p>Here, N<sub>RS</sub> is the number of replication servers,
   and N<sub>DS</sub> is the number of stand-alone directory
   servers. In other words, if you have only 3 servers, then
   Total<sub>conn</sub> is 3 with no stand-alone servers.
   However, if you have two data centers, and need 12 directory servers, then
   with no stand-alone directory servers Total<sub>conn</sub> is
   (12 * 11)/2 or 66. Yet, with 4 stand-alone replication servers, and 12
   stand-alone directory servers, Total<sub>conn</sub> is
   (4 * 3)/2 + 12, or 18, with only four of those connections needing to go
   over the WAN. (By running four directory servers that also run replication
   servers and eight stand-alone directory servers, you reduce the number of
   replication connections to 14 for 12 replicas.)</p><div class="mediaobject" align="center" id="figure-standalone-repl"><a class="fancybox" href="images/standalone-repl.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_standalone-repl.png" align="middle" alt="Dedicated servers versus consolidated instances" title="Dedicated servers are suited to environments with large numbers&#xA;     of replicas."></a></div><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Tip</h3></div><div class="panel-body"><p>If you set up OpenDJ directory server to replicate by using the
    Quick Setup wizard, then the wizard activated the replication service for
    that server. You can turn off the replication service on OpenDJ directory
    server, and then configure the server to work with a separate, stand-alone
    replication server instead. Start by using the <span class="command"><strong>dsreplication
    disable --disableReplicationServer</strong></span> command to turn off the
    replication service on the server.</p></div></div><div class="procedure" id="repl-setup-dedicated-server"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.6.&nbsp;To Set Up a Stand-alone Replication Server</div><p>This example sets up a stand-alone replication server to handle
    the replication traffic between two directory servers that do not
    handle replication themselves.</p><p>Here the replication server is <code class="literal">rs.example.com</code>. The
    directory servers are <code class="literal">opendj.example.com</code> and
    <code class="literal">opendj2.example.com</code>.</p><p>In a real deployment, you would have more replication servers
    to avoid a single point of failure.</p><ol class="procedure" type="1"><li class="step"><p>Setup the replication server as a directory server that has
     no database.</p></li><li class="step"><p>Setup the directory servers as stand-alone directory servers.</p></li><li class="step"><p>Enable replication with the appropriate
     <code class="option">--noReplicationServer</code> and
     <code class="option">--onlyReplicationServer</code> options.</p><pre class="cmdline prettyprint">$ dsreplication
 enable
 --adminUID admin
 --adminPassword password
 --baseDN dc=example,dc=com
 --host1 opendj.example.com
 --port1 4444
 --bindDN1 "cn=Directory Manager"
 --bindPassword1 password
 --noReplicationServer1
 --host2 rs.example.com
 --port2 4444
 --bindDN2 "cn=Directory Manager"
 --bindPassword2 password
 --replicationPort2 8989
 --onlyReplicationServer2
 --trustAll
 --no-prompt
Establishing connections ..... Done.
Only one replication server will be defined for the following base DN's:
dc=example,dc=com
It is recommended to have at least two replication servers (two changelogs) to
avoid a single point of failure in the replication topology.

Checking registration information ..... Done.
Configuring Replication port on server rs.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj.example.com:4444 ..... Done.
Updating registration configuration on server
 rs.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj.example.com:4444 ..... Done.
Initializing registration information on server rs.example.com:4444 with
 the contents of server opendj.example.com:4444 ..... Done.

Replication has been successfully enabled.  Note that for replication to work
 you must initialize the contents of the base DN's that are being
 replicated (use dsreplication initialize to do so).

See
/var/.../opends-replication-1720959352638609971.log
for a detailed log of this operation.

$ dsreplication
 enable
 --adminUID admin
 --adminPassword password
 --baseDN dc=example,dc=com
 --host1 opendj2.example.com
 --port1 4444
 --bindDN1 "cn=Directory Manager"
 --bindPassword1 password
 --noReplicationServer1
 --host2 rs.example.com
 --port2 4444
 --bindDN2 "cn=Directory Manager"
 --bindPassword2 password
 --replicationPort2 8989
 --onlyReplicationServer2
 --trustAll
 --no-prompt

Establishing connections ..... Done.
Only one replication server will be defined for the following base DN's:
dc=example,dc=com
It is recommended to have at least two replication servers (two changelogs) to
avoid a single point of failure in the replication topology.

Checking registration information ..... Done.
Updating remote references on server rs.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj2.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj2.example.com:4444 ..... Done.
Updating registration configuration on server
 rs.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj2.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj.example.com:4444 ..... Done.
Initializing registration information on server opendj2.example.com:4444 with
 the contents of server rs.example.com:4444 ..... Done.

Replication has been successfully enabled.  Note that for replication to work
 you must initialize the contents of the base DN's that are being
 replicated (use dsreplication initialize to do so).

See
/var/folders/.../opends-replication-5893037538856033562.log
for a detailed log of this operation.</pre></li><li class="step"><p>Initialize replication from one of the directory servers.</p><pre class="cmdline prettyprint">$ dsreplication
 initialize-all
 --adminUID admin
 --adminPassword password
 --baseDN dc=example,dc=com
 --hostname opendj.example.com
 --port 4444
 --trustAll
 --no-prompt

Initializing base DN dc=example,dc=com with the contents from
 opendj.example.com:4444: 160 entries processed (100 % complete).
Base DN initialized successfully.

See
/var/.../opends-replication-7677303986403997574.log
for a detailed log of this operation.</pre></li></ol></div></div></div><div class="section" id="repl-groups"><div class="titlepage"><div><div><h3 class="title">9.3.5.&nbsp;Replication Groups</h3></div></div></div><a class="indexterm" name="d0e7074"></a><p>Replication lets you define groups so that replicas communicate
   first with replication servers in the group before going to replication
   servers outside the group. Groups are identified with unique numeric
   group IDs.</p><p>Replication groups are designed for deployments across multiple data
   centers, where you aim to focus replication traffic on the LAN rather than
   the WAN. In multi-data center deployments, group nearby servers
   together.</p><div class="procedure" id="define-repl-groups"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.7.&nbsp;To Set Up Replication Groups</div><p>For each group, set the appropriate group ID for the topology
    on both the replication servers and the directory servers.</p><p>The example commands in this procedure set up two replication
    groups, each with a replication server and a directory server. The
    directory servers are <code class="literal">opendj.example.com</code> and
    <code class="literal">opendj2.example.com</code>. The replication servers
    are <code class="literal">rs.example.com</code> and
    <code class="literal">rs2.example.com</code>. In a full-scale deployment, you would
    have multiple servers of each type in each group, such as all the replicas
    and replication servers in each data center being in the same group.</p><ol class="procedure" type="1"><li class="step"><p>Pick a group ID for each group.</p><p>The default group ID is 1.</p></li><li class="step"><p>Set the group ID for each group by replication domain on the
     directory servers.</p><pre class="cmdline prettyprint">$ dsconfig
 set-replication-domain-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name "dc=example,dc=com"
 --set group-id:1
 --trustAll
 --no-prompt

$ dsconfig
 set-replication-domain-prop
 --port 4444
 --hostname opendj2.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name "dc=example,dc=com"
 --set group-id:2
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Set the group ID for each group on the replication servers.</p><pre class="cmdline prettyprint">$ dsconfig
 set-replication-server-prop
 --port 4444
 --hostname rs.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --set group-id:1
 --trustAll
 --no-prompt
$ dsconfig
 set-replication-server-prop
 --port 4444
 --hostname rs2.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --set group-id:2
 --trustAll
 --no-prompt</pre></li></ol></div></div></div><div class="section" id="read-only-repl"><div class="titlepage"><div><div><h3 class="title">9.3.6.&nbsp;Read-Only Replicas</h3></div></div></div><a class="indexterm" name="d0e7122"></a><p>By default all directory servers in a replication topology are
   read-write. You can however choose to make replicas take updates only
   from the replication protocol, and refuse updates from client
   applications.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj2.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set writability-mode:internal-only
 --trustAll
 --no-prompt</pre></div><div class="section" id="repl-assured"><div class="titlepage"><div><div><h3 class="title">9.3.7.&nbsp;Assured Replication</h3></div></div></div><a class="indexterm" name="d0e7135"></a><p>In standard replication, when a client requests an update operation
   the directory server performs the update and, if the update is successful,
   sends information about the update to the replication service, and sends
   a result code to the client application right away. As a result, the
   client application can conclude that the update was successful,
   <span class="emphasis"><em>but only on the replica that handled the update</em></span>.</p><p>Assured replication lets you force the replica performing the initial
   update to wait for confirmation that the update has been received elsewhere
   in the topology before sending a result code to the client application.
   You can configure assured replication either to wait for one or more
   replication servers to acknowledge having received the update, or to wait
   for all directory servers to have replayed the update.</p><p>As you might imagine, assured replication is theoretically safer than
   standard replication, yet it is also slower, potentially waiting for a
   timeout before failing when the network or other servers are down.</p><div class="procedure" id="repl-safe-data"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.8.&nbsp;To Ensure Updates Reach Replication Servers</div><p>Safe data mode requires the update be sent to
    <code class="literal">assured-sd-level</code> replication servers before
    acknowledgement is returned to the client application.</p><ul class="procedure"><li class="step"><p>For each directory server, set safe data mode for the replication
     domain, and also set the safe data level.</p><pre class="cmdline prettyprint">$ dsconfig
 set-replication-domain-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name "dc=example,dc=com"
 --set assured-type:safe-data
 --set assured-sd-level:1
 --trustAll
 --no-prompt

$ dsconfig
 set-replication-domain-prop
 --port 4444
 --hostname opendj2.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name "dc=example,dc=com"
 --set assured-type:safe-data
 --set assured-sd-level:1
 --trustAll
 --no-prompt</pre></li></ul></div></div><div class="procedure" id="repl-safe-read"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.9.&nbsp;To Ensure Updates Are Replayed Everywhere</div><p>Safe read mode requires the update be replayed on all directory
    servers before acknowledgement is returned to the client application.</p><ul class="procedure"><li class="step"><p>For each directory server, set safe read mode for the replication
     domain.</p><pre class="cmdline prettyprint">$ dsconfig
 set-replication-domain-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name "dc=example,dc=com"
 --set assured-type:safe-read
 --trustAll
 --no-prompt

$ dsconfig
 set-replication-domain-prop
 --port 4444
 --hostname opendj2.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name "dc=example,dc=com"
 --set assured-type:safe-read
 --trustAll
 --no-prompt</pre></li></ul></div></div><p>When working with assured replication, the replication server property
   <code class="literal">degraded-status-threshold</code> (default: 5000), sets the
   number of operations allowed to build up in the replication queue before
   the server is assigned degraded status. When a replication server has
   degraded status, assured replication ceases to have an effect.</p></div><div class="section" id="repl-subtree"><div class="titlepage"><div><div><h3 class="title">9.3.8.&nbsp;Subtree Replication</h3></div></div></div><a class="indexterm" name="d0e7182"></a><p>OpenDJ can perform subtree replication, for example replicating
   <code class="literal">ou=People,dc=example,dc=com</code>, but not the rest of
   <code class="literal">dc=example,dc=com</code>, by putting the subtree in a separate
   backend from the rest of the suffix.</p><p>For example, in this case you might have a <code class="literal">userRoot</code>
   backend containing everything in <code class="literal">dc=example,dc=com</code>
   except <code class="literal">ou=People,dc=example,dc=com</code>, and a separate
   <code class="literal">peopleRoot</code> backend for
   <code class="literal">ou=People,dc=example,dc=com</code>. Then you replicate
   <code class="literal">ou=People,dc=example,dc=com</code> in its own topology.</p></div><div class="section" id="repl-fractional"><div class="titlepage"><div><div><h3 class="title">9.3.9.&nbsp;Fractional Replication</h3></div></div></div><a class="indexterm" name="d0e7218"></a><p>OpenDJ can perform fractional replication, whereby you specify
   the attributes to include in or to exclude from the replication
   process.</p><p>You set fractional replication configuration as
   <code class="literal">fractional-include</code> or
   <code class="literal">fractional-exclude</code> properties for a replication
   domain. When you include attributes, the attributes that are required on
   the relevant object classes are also included, whether you specify them
   or not. When you exclude attributes, the excluded attributes must be
   optional attributes for the relevant object classes. Fractional
   replicas still respect schema definitions.</p><p>Fractional replication works by filtering objects at the replication
   server. Initialize replication as you would normally. Of course you cannot
   create a full replica from a replica with only a subset of the data. If you
   must prevent data from being replicated across a national boundary, split
   the replication server handling the updates from the directory servers
   receiving the updates as described in
   <a class="xref" href="#repl-setup-dedicated-server" title="Procedure&nbsp;9.6.&nbsp;To Set Up a Stand-alone Replication Server">Procedure&nbsp;9.6, &#8220;To Set Up a Stand-alone Replication Server&#8221;</a>.</p><p>For example, you might configure an externally facing
   fractional replica to include only some <code class="literal">inetOrgPerson</code>
   attributes.</p><pre class="cmdline prettyprint">$ dsconfig
 set-replication-domain-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name "dc=example,dc=com"
 --trustAll
 --no-prompt
 --set
 fractional-include:inetorgperson:cn,givenname,mail,mobile,sn,telephonenumber</pre><p>As another example, you might exclude a custom attribute called
   <code class="literal">sessionToken</code> from being replicated.</p><pre class="cmdline prettyprint">$ dsconfig
 set-replication-domain-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name "dc=example,dc=com"
 --set fractional-exclude:*:sessionToken
 --trustAll
 --no-prompt</pre><p>This last example only works if you first define a
   <code class="literal">sessionToken</code> attribute in the directory server
   schema.</p></div></div><div class="section" id="repl-change-notification"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.4.&nbsp;Change Notification For Your Applications</h2></div></div></div><a class="indexterm" name="d0e7261"></a><a class="indexterm" name="d0e7266"></a><p>Some applications require notification when directory data updates
  occur. For example, an application might need to sync directory data with
  another database, or the application might need to kick off other processing
  when certain updates occur.</p><p>In addition to supporting persistent search operations, OpenDJ
  provides an external change log mechanism to allow applications to be
  notified of changes to directory data.</p><div class="procedure" id="enable-ecl"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.10.&nbsp;To Enable the External Change Log</div><p>OpenDJ directory servers without replication cannot expose an
   external change log. The OpenDJ server that exposes the change log must
   function both as a directory server, and also as a replication server for
   the suffix whose changes you want logged.</p><ul class="procedure"><li class="step"><p>Enable replication without using the
    <code class="option">--noReplicationServer</code> or
    <code class="option">--onlyReplicationServer</code> options.</p><p>With replication enabled, the changelog data can be accessed under
    <code class="literal">cn=changelog</code>. For example, the following search shows
    the publicly visible data available before any changes have been
    made.</p><pre class="cmdline prettyprint">$ ldapsearch --baseDN cn=changelog --port 1389 "(objectclass=*)" \* +
dn: cn=changelog
cn: changelog
objectClass: top
objectClass: container
subschemaSubentry: cn=schema
hasSubordinates: false
entryDN: cn=changelog
</pre></li></ul></div></div><div class="procedure" id="use-ecl"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.11.&nbsp;To Use the External Change Log</div><p>You read the external change log over LDAP. In addition, when you
   poll the change log periodically, you can get the list of updates that
   happened since your last request.</p><p>The external change log mechanism uses an LDAP control with
   OID <code class="literal">1.3.6.1.4.1.26027.1.5.4</code> to allow the exchange
   of cookies for the client application to bookmark the last changes seen,
   and then start reading the next set of changes from where it left off on
   the previous request.</p><p>This procedure shows the client reading the change log as
   <code class="literal">cn=Directory Manager</code>. Make sure your client application
   reads the changes with sufficient access to view all the changes it
   needs to see.</p><ol class="procedure" type="1"><li class="step"><p>Send an initial search request using the LDAP control with no
    cookie value.</p><p>Notice the value of the <code class="literal">changeLogCookie</code> attribute
    for the last of the two changes.</p><pre class="cmdline prettyprint">$ ldapsearch
 --baseDN cn=changelog
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --control "1.3.6.1.4.1.26027.1.5.4:false"
 "(objectclass=*)"
 \* +
dn: cn=changelog
cn: changelog
objectClass: top
objectClass: container
subschemaSubentry: cn=schema
hasSubordinates: true
entryDN: cn=changelog

# Public changelog exchange control(1.3.6.1.4.1.26027.1.5.4):
 dc=example,dc=com:0000013087cbc28212d100000001;
dn: replicationCSN=0000013087cbc28212d100000001,dc=example,dc=com,cn=changelog
targetDN: cn=arsene lupin,ou=special users,dc=example,dc=com
changeNumber: 0
changes:: b2JqZWN0Q2xhc3M6IHBlcnNvbgpvYmplY3RDbGFzczogdG9wCmNuOiBBcnNlbmUgTHVwaW
 4KdGVsZXBob25lTnVtYmVyOiArMzMgMSAyMyA0NSA2NyA4OQpzbjogTHVwaW4KZW50cnlVVUlEOiA5M
 GM3MTRmNy00ODZiLTRkNDctOTQwOS1iNDRkMTlkZWEzMWUKY3JlYXRlVGltZXN0YW1wOiAyMDExMDYx
 MzA2NTg1NVoKY3JlYXRvcnNOYW1lOiBjbj1EaXJlY3RvcnkgTWFuYWdlcixjbj1Sb290IEROcyxjbj1
 jb25maWcK
changeType: add
changeTime: 20110613065855Z
objectClass: top
objectClass: changeLogEntry
targetEntryUUID: 90c714f7-486b-4d47-9409-b44d19dea31e
replicationCSN: 0000013087cbc28212d100000001
numSubordinates: 0
replicaIdentifier: 4817
changeLogCookie: dc=example,dc=com:0000013087cbc28212d100000001;
changeInitiatorsName: cn=Directory Manager,cn=Root DNs,cn=config
subschemaSubentry: cn=schema
hasSubordinates: false
entryDN: replicationCSN=0000013087cbc28212d100000001,dc=example,dc=com,cn=change
 log

# Public changelog exchange control(1.3.6.1.4.1.26027.1.5.4):
 dc=example,dc=com:0000013087cbc34a12d100000002;
dn: replicationCSN=0000013087cbc34a12d100000002,dc=example,dc=com,cn=changelog
targetDN: cn=horace velmont,ou=special users,dc=example,dc=com
changeNumber: 0
changes:: b2JqZWN0Q2xhc3M6IHBlcnNvbgpvYmplY3RDbGFzczogdG9wCmNuOiBIb3JhY2UgVmVsbW
 9udAp0ZWxlcGhvbmVOdW1iZXI6ICszMyAxIDEyIDIzIDM0IDQ1CnNuOiBWZWxtb250CmVudHJ5VVVJR
 DogNmIyMjQ0MGEtNzZkMC00MDMxLTk0YjctMzViMWQ4NmYwNjdlCmNyZWF0ZVRpbWVzdGFtcDogMjAx
 MTA2MTMwNjU4NTVaCmNyZWF0b3JzTmFtZTogY249RGlyZWN0b3J5IE1hbmFnZXIsY249Um9vdCBETnM
 sY249Y29uZmlnCg==
changeType: add
changeTime: 20110613065855Z
objectClass: top
objectClass: changeLogEntry
targetEntryUUID: 6b22440a-76d0-4031-94b7-35b1d86f067e
replicationCSN: 0000013087cbc34a12d100000002
numSubordinates: 0
replicaIdentifier: 4817
changeLogCookie: dc=example,dc=com:0000013087cbc34a12d100000002;
changeInitiatorsName: cn=Directory Manager,cn=Root DNs,cn=config
subschemaSubentry: cn=schema
hasSubordinates: false
entryDN: replicationCSN=0000013087cbc34a12d100000002,dc=example,dc=com,cn=change
 log
</pre><p>In this example, two new users were added to another replica
    before the change log request was made.</p><p>Here the changes are base64 encoded, so you can decode them using
    the <span class="command"><strong>base64</strong></span> command.</p><pre class="cmdline prettyprint">$ base64 decode --encodedData b2JqZW...ZmlnCg==
objectClass: person
objectClass: top
cn: Horace Velmont
telephoneNumber: +33 1 12 23 34 45
sn: Velmont
entryUUID: 6b22440a-76d0-4031-94b7-35b1d86f067e
createTimestamp: 20110613065855Z
creatorsName: cn=Directory Manager,cn=Root DNs,cn=config
    </pre></li><li class="step"><p>For the next search, provide the cookie to start reading where
   you left off last time.</p><p>In this example, a description was added to Babs Jensen's entry.</p><pre class="cmdline prettyprint">$ ldapsearch
 --baseDN cn=changelog
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --control "1.3.6.1.4.1.26027.1.5.4:false:
 dc=example,dc=com:0000013087cbc34a12d100000002;"
 "(objectclass=*)"
 \* +
dn: cn=changelog
cn: changelog
objectClass: top
objectClass: container
subschemaSubentry: cn=schema
hasSubordinates: true
entryDN: cn=changelog

# Public changelog exchange control(1.3.6.1.4.1.26027.1.5.4):
 dc=example,dc=com:0000013087d7e27f12d100000003;
dn: replicationCSN=0000013087d7e27f12d100000003,dc=example,dc=com,cn=changelog
targetDN: uid=bjensen,ou=people,dc=example,dc=com
changeNumber: 0
changes:: YWRkOiBkZXNjcmlwdGlvbgpkZXNjcmlwdGlvbjogQSB0aGlyZCBjaGFuZ2UKLQpyZXBsYW
 NlOiBtb2RpZmllcnNOYW1lCm1vZGlmaWVyc05hbWU6IGNuPURpcmVjdG9yeSBNYW5hZ2VyLGNuPVJvb
 3QgRE5zLGNuPWNvbmZpZwotCnJlcGxhY2U6IG1vZGlmeVRpbWVzdGFtcAptb2RpZnlUaW1lc3RhbXA6
 IDIwMTEwNjEzMDcxMjEwWgotCg==
changeType: modify
changeTime: 20110613071210Z
objectClass: top
objectClass: changeLogEntry
targetEntryUUID: fc252fd9-b982-3ed6-b42a-c76d2546312c
replicationCSN: 0000013087d7e27f12d100000003
numSubordinates: 0
replicaIdentifier: 4817
changeLogCookie: dc=example,dc=com:0000013087d7e27f12d100000003;
changeInitiatorsName: cn=Directory Manager,cn=Root DNs,cn=config
subschemaSubentry: cn=schema
hasSubordinates: false
entryDN: replicationCSN=0000013087d7e27f12d100000003,dc=example,dc=com,cn=change
 log
    </pre><p>If we base64-decode the changes, we see the following.</p><pre class="cmdline prettyprint">$ base64 decode --encodedData YWRkO...gotCg==
add: description
description: A third change
-
replace: modifiersName
modifiersName: cn=Directory Manager,cn=Root DNs,cn=config
-
replace: modifyTimestamp
modifyTimestamp: 20110613071210Z
-
</pre></li><li class="step"><p>If for some reason you lose the cookie, you can start over from
    the earliest available change by sending a search request with no
    value for the cookie.</p></li></ol></div></div><div class="procedure" id="ecl-add-attributes"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.12.&nbsp;To Include Unchanged Attributes in the External Change Log</div><p>As shown above, the changes returned from a search on the external
   change log include only what was actually changed. If you have applications
   that need additional attributes published with every change log entry,
   regardless of whether or not the attribute itself has changed, then specify
   those using <code class="literal">ecl-include</code> and
   <code class="literal">ecl-include-for-deletes</code>.</p><ol class="procedure" type="1"><li class="step"><p>Set the attributes to include for all update operations with
    <code class="literal">ecl-include</code>.</p><pre class="cmdline prettyprint">$ dsconfig
 set-external-changelog-domain-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name dc=example,dc=com
 --set ecl-include:"@person"
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Set the attributes to include for deletes with
    <code class="literal">ecl-include-for-deletes</code>.</p><pre class="cmdline prettyprint">$ dsconfig
 set-external-changelog-domain-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name dc=example,dc=com
 --add ecl-include-for-deletes:"*"
 --add ecl-include-for-deletes:"+"
 --trustAll
 --no-prompt</pre></li></ol></div></div><div class="procedure" id="ecl-limit-content"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;9.13.&nbsp;To Limit External Change Log Content</div><p>You can limit external change log content by disabling the domain
   for a base DN. By default, <code class="literal">cn=schema</code> and
   <code class="literal">cn=admin data</code> are not enabled.</p><ul class="procedure"><li class="step"><p>Prevent OpenDJ from logging changes by disabling the domain.</p><pre class="cmdline prettyprint">$ dsconfig
 set-external-changelog-domain-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --domain-name dc=example,dc=com
 --set enabled:false
 --trustAll
 --no-prompt</pre></li></ul></div></div><p id="ecl-legacy-format">The external change log can also work for
  applications that follow the <a class="link" href="http://tools.ietf.org/html/draft-good-ldap-changelog-04" target="_top">Internet-Draft: Definition of an Object Class to Hold LDAP Change
  Records</a>. Nothing special is required to get the objects specified for
  this legacy format. Such applications cannot however use the change log
  cookies that are shared across the replication topology, and therefore
  can continue to be used after failover to another replica in a multi-master
  replication environment.</p><a class="indexterm" name="d0e7399"></a></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e6624" class="footnote"><p><a href="#d0e6624" class="para"><sup class="para">[6] </sup></a>Assured replication can require, however,
   that the convergence happen before the client application is notified that
   the operation was successful.</p></div><div id="ftn.d0e6640" class="footnote"><p><a href="#d0e6640" class="para"><sup class="para">[7] </sup></a>When
   you configure partial and fractional replication, however, you can replicate
   only part of a suffix, or only certain attributes on entries. Also,
   if you split your suffix across multiple backends, then you need to set up
   replication separately for each part of suffix in a different backend.</p></div></div></div><div lang="en" class="chapter" id="chap-backup-restore"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;10.&nbsp;Backing Up &amp; Restoring Data</h1></div></div></div><p>OpenDJ lets you backup and restore your data either in compressed,
 binary format, or in LDAP Data Interchange Format. This chapter shows you how
 to backup and to restore OpenDJ data from archives, and explains portability
 of backup archives, as well as backing up server configuration
 information.</p><div class="section" id="backup"><div class="titlepage"><div><div><h2 class="title" style="clear: both">10.1.&nbsp;Backing Up Directory Data</h2></div></div></div><a class="indexterm" name="d0e7413"></a><p>A <code class="filename">bak/</code> directory is provided when you install
  OpenDJ, as a location to save binary backups. When you create a backup,
  the <code class="filename">bak/backup.info</code> contains information about the
  archive.</p><p>Archives produced by the <span class="command"><strong>backup</strong></span> command contain
  backups only of the directory data. Backups of server configuration are
  found in <code class="filename">config/archived-configs/</code>.</p><div class="procedure" id="backup-immediately"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;10.1.&nbsp;To Back Up Data Immediately</div><p>To perform online backup, you start backup as a task by connecting to
   the administrative port and authenticating as a user with the
   <code class="literal">backend-backup</code> privilege, and also setting a start time
   for the task by using the <code class="option">--start</code> option.</p><p>To perform offline backup when OpenDJ is stopped, you run the
   <span class="command"><strong>backup</strong></span> command without connecting to the server,
   authenticating, or requesting a backup task.</p><ul class="procedure"><li class="step"><p>Use one of the following alternatives.</p><ul class="stepalternatives">
     <li class="step"><p>Back up only the database for Example.com, where the data
      is stored in the backend named <code class="literal">userRoot</code>.</p><p>The following example requests an online backup task that
      starts immediately, backing up only the <code class="literal">userRoot</code>
      backend.</p><pre class="cmdline prettyprint">$ backup
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backendID userRoot
 --backupDirectory /path/to/opendj/bak
 --start 0
Backup task 20110613143715983 scheduled to start Jun 13, 2011 2:37:15 PM CEST</pre></li>
     <li class="step"><p>Stop the server to back up Example.com data offline.</p><p>The following example stops OpenDJ, runs offline backup, and
      starts the server after backup has completed.</p><pre class="cmdline prettyprint">$ stop-ds 
Stopping Server...

[13/Jun/2011:14:31:00 +0200] category=BACKEND severity=NOTICE msgID=9896306
 msg=The backend userRoot is now taken offline
[13/Jun/2011:14:31:00 +0200] category=CORE severity=NOTICE msgID=458955
 msg=The Directory Server is now stopped
$ backup --backendID userRoot -d /path/to/opendj/bak
[13/Jun/2011:14:33:48 +0200] category=TOOLS severity=NOTICE msgID=10944792
 msg=Starting backup for backend userRoot
[13/Jun/2011:14:33:48 +0200] category=JEB severity=NOTICE msgID=8847446
 msg=Archived: 00000000.jdb
[13/Jun/2011:14:33:48 +0200] category=TOOLS severity=NOTICE msgID=10944795
 msg=The backup process completed successfully
$ start-ds
... The Directory Server has started successfully</pre></li>
     <li class="step"><p>Back up all user data on the server.</p><p>The following example requests an online backup task that
      starts immediately, backing up all backends.</p><pre class="cmdline prettyprint">$ backup
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backUpAll
 --backupDirectory /path/to/opendj/bak
 --start 0
Backup task 20110613143801866 scheduled to start Jun 13, 2011 2:38:01 PM CEST</pre></li>
    </ul></li></ul></div></div><div class="procedure" id="schedule-backup"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;10.2.&nbsp;To Schedule Data Backup</div><p>You can schedule online data backup using <span class="command"><strong>crontab</strong></span>
   format.</p><ul class="procedure"><li class="step"><p>Back up all user data every night at 2 AM, and notify
    diradmin@example.com when finished, or on error.</p><pre class="cmdline prettyprint">$ backup
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backUpAll
 --backupDirectory /path/to/opendj/bak
 --recurringTask "00 02 * * *"
 --completionNotify diradmin@example.com
 --errorNotify diradmin@example.com
Recurring Backup task BackupTask-988d6adf-4d65-44bf-8546-6ea74a2480b0
scheduled successfully</pre></li></ul></div></div></div><div class="section" id="restore-data"><div class="titlepage"><div><div><h2 class="title" style="clear: both">10.2.&nbsp;Restoring Directory Data From Backup</h2></div></div></div><a class="indexterm" name="d0e7503"></a><a class="indexterm" name="d0e7506"></a><p>When you restore data, the procedure to follow depends on whether
  the OpenDJ directory server is replicated.</p><div class="procedure" id="restore-standalone-server"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;10.3.&nbsp;To Restore a Stand-alone Server</div><p>To restore OpenDJ when the server is online, you start a restore task
   by connecting to the administrative port and authenticating as a user with
   the <code class="literal">backend-restore</code> privilege, and also setting a start
   time for the task by using the <code class="option">--start</code> option.</p><p>To restore data when OpenDJ is stopped, you run the
   <span class="command"><strong>restore</strong></span> command without connecting to the server,
   authenticating, or requesting a restore task.</p><ul class="procedure"><li class="step"><p>Use one of the following alternatives.</p><ul class="stepalternatives">
     <li class="step"><p>Stop the server to restore data for Example.com.</p><p>The following example stops OpenDJ, restores data offline from
      one of the available backups, and then starts the server after the
      restore is complete.</p><pre class="cmdline prettyprint">$ stop-ds
Stopping Server...

[13/Jun/2011:15:44:06 +0200] category=BACKEND severity=NOTICE msgID=9896306
 msg=The backend userRoot is now taken offline
[13/Jun/2011:15:44:06 +0200] category=CORE severity=NOTICE msgID=458955
 msg=The Directory Server is now stopped
$ restore --backupDirectory /path/to/opendj/bak --listBackups
Backup ID:          20110613080032
Backup Date:        13/Jun/2011:08:00:45 +0200
Is Incremental:     false
Is Compressed:      false
Is Encrypted:       false
Has Unsigned Hash:  false
Has Signed Hash:    false
Dependent Upon:     none
$ restore --backupDirectory /path/to/opendj/bak --backupID 20110613080032
[13/Jun/2011:15:47:41 +0200] category=JEB severity=NOTICE msgID=8847445
 msg=Restored: 00000000.jdb (size 341835)
$ start-ds
... The Directory Server has started successfully</pre></li>
     <li class="step"><p>Schedule the restore as a task to begin immediately.</p><p>The following example requests an online restore task, scheduled
      to start immediately.</p><pre class="cmdline prettyprint">$ restore
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backupDirectory /path/to/opendj/bak
 --backupID 20110613080032
 --start 0
Restore task 20110613155052932 scheduled to start Jun 13, 2011 3:50:52 PM CEST</pre></li>
    </ul></li></ul></div></div><div class="procedure" id="restore-replica"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;10.4.&nbsp;To Restore a Replica</div><a class="indexterm" name="d0e7555"></a><p>After you restore a replica from backup, replication brings the replica
   up to date with changes that happened after you created the backup. In order
   to bring the replica up to date, replication must apply changes that
   happened after the backup was made. Replication uses internal change log
   records to determine what changes to apply.</p><p>Internal change log records are not kept forever, though. Replication
   is configured to purge the change log of old changes, preventing the log
   from growing indefinitely. Yet, for replication to determine what changes
   to apply to a restored replica, it must find change log records dating back
   at least to the last change in the backup. In other words, replication can
   bring the restored replica up to date <span class="emphasis"><em>as long as the change log
   records used to determine which changes to apply have not been
   purged</em></span>.</p><p>Therefore, when you restore a replicated server from backup, make sure
   the backup you use is newer than the last purge of the replication change
   log (default: 3 days). If all your backups are older than the replication
   purge delay, do not restore from a backup, but instead initialize a new
   replica as described in <a href="../admin-guide/index.html#init-repl" class="link"><em class="citetitle">Initializing
   Replicas</em></a>.</p><ul class="procedure"><li class="step"><p>Restore the server database from the backup archive that you are
    sure is newer than the last purge of the replication change log.</p><pre class="cmdline prettyprint">$ stop-ds
Stopping Server...

[13/Jun/2011:15:44:06 +0200] category=BACKEND severity=NOTICE msgID=9896306
 msg=The backend userRoot is now taken offline
[13/Jun/2011:15:44:06 +0200] category=CORE severity=NOTICE msgID=458955
 msg=The Directory Server is now stopped
$ restore --backupDirectory /path/to/opendj/bak --listBackups
Backup ID:          20110613080032
Backup Date:        13/Jun/2011:08:00:45 +0200
Is Incremental:     false
Is Compressed:      false
Is Encrypted:       false
Has Unsigned Hash:  false
Has Signed Hash:    false
Dependent Upon:     none
$ restore --backupDirectory /path/to/opendj/bak --backupID 20110613080032
[13/Jun/2011:15:47:41 +0200] category=JEB severity=NOTICE msgID=8847445
 msg=Restored: 00000000.jdb (size 341835)
$ start-ds
... The Directory Server has started successfully</pre></li></ul></div></div></div></div><div lang="en" class="chapter" id="chap-pwd-policy"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;11.&nbsp;Configuring Password Policy</h1></div></div></div><a class="indexterm" name="d0e7583"></a><p>If you want to synchronize password policy across your organization
 and your applications go to the directory for authentication, then the
 directory can be a good place to enforce your password policy uniformly.
 Even if you do not depend on the directory for all your password policy,
 you no doubt still want to consider directory password policy if only to
 choose the appropriate password storage scheme.</p><p>This chapter covers password policy, including examples of how
 to configure password policies for common use cases.</p><div class="section" id="pwp-overview"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.1.&nbsp;About OpenDJ Password Policies</h2></div></div></div><p>OpenDJ password policies govern not only passwords, but also account
  lockout, and how OpenDJ provides notification about account status.</p><p>OpenDJ supports password policies as part of the server configuration,
  and also subentry password policies as part of the (replicated) user
  data.</p><div class="section" id="pwp-per-server"><div class="titlepage"><div><div><h3 class="title">11.1.1.&nbsp;Server Based Password Policies</h3></div></div></div><p>You manage server based password policies in the OpenDJ configuration
   by using the <span class="command"><strong>dsconfig</strong></span> command. As they are part of the
   server configuration, such password policies are not replicated. You must
   instead apply password policy configuration updates to each replica in your
   deployment.</p><p>By default, OpenDJ includes two password policy configurations, one
   default for all users, and another for directory root DN users, such as
   <code class="literal">cn=Directory Manager</code>. You can see all the default password
   policy settings using the <span class="command"><strong>dsconfig</strong></span> command as
   follows.</p><pre class="cmdline prettyprint">$ dsconfig
 get-password-policy-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy"
 --advanced
Property                                  : Value(s)
------------------------------------------:--------------------------
account-status-notification-handler       : -
allow-expired-password-changes            : false
allow-multiple-password-values            : false
allow-pre-encoded-passwords               : false
allow-user-password-changes               : true
default-password-storage-scheme           : Salted SHA-1
deprecated-password-storage-scheme        : -
expire-passwords-without-warning          : false
force-change-on-add                       : false
force-change-on-reset                     : false
grace-login-count                         : 0
idle-lockout-interval                     : 0 s
last-login-time-attribute                 : -
last-login-time-format                    : -
lockout-duration                          : 0 s
lockout-failure-count                     : 0
lockout-failure-expiration-interval       : 0 s
max-password-age                          : 0 s
max-password-reset-age                    : 0 s
min-password-age                          : 0 s
password-attribute                        : userpassword
password-change-requires-current-password : false
password-expiration-warning-interval      : 5 d
password-generator                        : Random Password Generator
password-history-count                    : 0
password-history-duration                 : 0 s
password-validator                        : -
previous-last-login-time-format           : -
require-change-by-time                    : -
require-secure-authentication             : false
require-secure-password-changes           : false
skip-validation-for-administrators        : false
state-update-failure-policy               : reactive</pre><p>See the <em class="citetitle">OpenDJ Configuration Reference</em> page
   on <a class="link" href="${configRefBase}password-policy.html" target="_blank"><em class="citetitle">Password Policy</em></a> for detailed descriptions of
   each property.</p><p>Here you notice that many capabilities are not set by default: no
   lockout, no password expiration, no multiple passwords, no password validator
   to check that passwords contain the appropriate mix of characters. This means
   that if you decide to use the directory to enforce password policy, you
   must configure at least the default password policy to meet your
   needs.</p><p>Yet a few basic protections are configured by default. When you import
   LDIF with <code class="literal">userPassword</code> values, OpenDJ hashes the values
   before storing them. When a user provides a password value during a bind for
   example, the server hashes the value provided to compared it with the stored
   value. Even the directory manager cannot see the plain text value of a user's
   password.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN dc=example,dc=com
 uid=bjensen
 userpassword
dn: uid=bjensen,ou=People,dc=example,dc=com
userpassword: {SSHA}QWAtw8ch/9850HNFRRqLNMIQc1YhxCnOoGmk1g==</pre><p>In addition, users can change their passwords provided you have
   granted them access to do so. OpenDJ uses the <code class="literal">userPassword</code>
   attribute to store passwords by default, rather than the
   <code class="literal">authPassword</code> attribute, which is designed to store
   passwords hashed by the client application.</p></div><div class="section" id="pwp-replicated"><div class="titlepage"><div><div><h3 class="title">11.1.2.&nbsp;Subentry Based Password Policies</h3></div></div></div><a class="indexterm" name="d0e7645"></a><p>You manage subentry password policies by adding the subentries
   alongside the user data. Thus OpenDJ can replicate subentry password
   policies across servers.</p><a class="indexterm" name="d0e7652"></a><p>Subentry password policies support the Internet-Draft <a class="link" href="http://tools.ietf.org/html/draft-behera-ldap-password-policy-09" target="_top">Password Policy for LDAP Directories</a> (version 09). A subentry
   password policy effectively overrides settings in the default password
   policy defined in the OpenDJ configuration. Settings not supported or not
   included in the subentry password policy are thus inherited from the default
   password policy.</p><p>As a result, the following Internet-Draft password policy attributes
   override the default password policy when you set them in the
   subentry.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">pwdAllowUserChange</code>, corresponding to the
    OpenDJ password policy property
    <code class="literal">allow-user-password-changes</code></p></li><li class="listitem"><p><code class="literal">pwdMustChange</code>, corresponding to the
    OpenDJ password policy property
    <code class="literal">force-change-on-reset</code></p></li><li class="listitem"><p><code class="literal">pwdGraceAuthNLimit</code>, corresponding to the
    OpenDJ password policy property
    <code class="literal">grace-login-count</code></p></li><li class="listitem"><p><code class="literal">pwdLockoutDuration</code>, corresponding to the
    OpenDJ password policy property
    <code class="literal">lockout-duration</code></p></li><li class="listitem"><p><code class="literal">pwdMaxFailure</code>, corresponding to the
    OpenDJ password policy property
    <code class="literal">lockout-failure-count</code></p></li><li class="listitem"><p><code class="literal">pwdFailureCountInterval</code>, corresponding
    to the OpenDJ password policy property
    <code class="literal">lockout-failure-expiration-interval</code></p></li><li class="listitem"><p><code class="literal">pwdMaxAge</code>, corresponding to the OpenDJ
    password policy property
    <code class="literal">max-password-age</code></p></li><li class="listitem"><p><code class="literal">pwdMinAge</code>, corresponding to the OpenDJ
    password policy property
    <code class="literal">min-password-age</code></p></li><li class="listitem"><p><code class="literal">pwdAttribute</code>, corresponding to the
    OpenDJ password policy property
    <code class="literal">password-attribute</code></p></li><li class="listitem"><p><code class="literal">pwdSafeModify</code>, corresponding to the
    OpenDJ password policy property
    <code class="literal">password-change-requires-current-password</code></p></li><li class="listitem"><p><code class="literal">pwdExpireWarning</code>, corresponding to the
    OpenDJ password policy property
    <code class="literal">password-expiration-warning-interval</code></p></li><li class="listitem"><p><code class="literal">pwdInHistory</code>, corresponding to the
    OpenDJ password policy property
    <code class="literal">password-history-count</code></p></li></ul></div><p>The following Internet-Draft password policy attributes are not
   taken into account by OpenDJ.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">pwdCheckQuality</code>, as OpenDJ has password
     validators. You can set password validators to use in the default
     password policy.</p></li><li class="listitem"><p><code class="literal">pwdMinLength</code>, as this is handled by the Length
     Based Password Validator. You can configure this as part of the
     default password policy.</p></li><li class="listitem"><p><code class="literal">pwdLockout</code>, as OpenDJ can deduce whether
     lockout is configured based on the values of other lockout-related
     password policy attributes.</p></li></ul></div><p>Values of the following properties are inherited from the default
   password policy for Internet-Draft based password policies.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">account-status-notification-handlers</code></p></li><li class="listitem"><p><code class="literal">allow-expired-password-changes</code></p></li><li class="listitem"><p><code class="literal">allow-multiple-password-values</code></p></li><li class="listitem"><p><code class="literal">allow-pre-encoded-passwords</code></p></li><li class="listitem"><p><code class="literal">default-password-storage-schemes</code></p></li><li class="listitem"><p><code class="literal">deprecated-password-storage-schemes</code></p></li><li class="listitem"><p><code class="literal">expire-passwords-without-warning</code></p></li><li class="listitem"><p><code class="literal">force-change-on-add</code></p></li><li class="listitem"><p><code class="literal">idle-lockout-interval</code></p></li><li class="listitem"><p><code class="literal">last-login-time-attribute</code></p></li><li class="listitem"><p><code class="literal">last-login-time-format</code></p></li><li class="listitem"><p><code class="literal">max-password-reset-age</code></p></li><li class="listitem"><p><code class="literal">password-generator</code></p></li><li class="listitem"><p><code class="literal">password-history-duration</code></p></li><li class="listitem"><p><code class="literal">password-validators</code></p></li><li class="listitem"><p><code class="literal">previous-last-login-time-formats</code></p></li><li class="listitem"><p><code class="literal">require-change-by-time</code></p></li><li class="listitem"><p><code class="literal">require-secure-authentication</code></p></li><li class="listitem"><p><code class="literal">require-secure-password-changes</code></p></li><li class="listitem"><p><code class="literal">skip-validation-for-administrators</code></p></li><li class="listitem"><p><code class="literal">state-update-failure-policy</code></p></li></ul></div></div><div class="section" id="pwp-application"><div class="titlepage"><div><div><h3 class="title">11.1.3.&nbsp;Which Password Policy Applies</h3></div></div></div><p>The password policy that applies to a user is identified by the
   operational attribute, <code class="literal">pwdPolicySubentry</code>.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=bjensen pwdPolicySubentry
dn: uid=bjensen,ou=People,dc=example,dc=com
pwdPolicySubentry: cn=Default Password Policy,cn=Password Policies,cn=config</pre></div></div><div class="section" id="configure-pwp"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.2.&nbsp;Configuring Password Policies</h2></div></div></div><p>You configure server based password policies using the
  <span class="command"><strong>dsconfig</strong></span> command. Notice that server based password
  policies are part of the server configuration, and therefore not replicated.
  Alternatively, you can configure a subset of password policy features using
  subentry based password policies that are stored with the replicated
  server data. This section covers both server based and subentry based
  password policies.</p><div class="procedure" id="default-pwp"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;11.1.&nbsp;To Adjust the Default Password Policy</div><a class="indexterm" name="d0e7876"></a><p>You can reconfigure the default password policy for example to
   enforce password expiration, check that passwords do not match dictionary
   words, and prevent password reuse. This default policy is a server based
   password policy.</p><ol class="procedure" type="1"><li class="step"><p>Enable the appropriate password validator.</p><pre class="cmdline prettyprint">$ dsconfig
 set-password-validator-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --validator-name Dictionary
 --set enabled:true
 --set check-substrings:true
 --set min-substring-length:4
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Apply the changes to the default password policy.</p><pre class="cmdline prettyprint">$ dsconfig
 set-password-policy-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy"
 --set max-password-age:90d
 --set min-password-age:4w
 --set password-history-count:7
 --set password-validator:Dictionary
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Check your work.</p><pre class="cmdline prettyprint">$ dsconfig
 get-password-policy-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy"
Property                                  : Value(s)
------------------------------------------:--------------------------
account-status-notification-handler       : -
allow-expired-password-changes            : false
allow-user-password-changes               : true
default-password-storage-scheme           : Salted SHA-1
deprecated-password-storage-scheme        : -
expire-passwords-without-warning          : false
force-change-on-add                       : false
force-change-on-reset                     : false
grace-login-count                         : 0
idle-lockout-interval                     : 0 s
last-login-time-attribute                 : -
last-login-time-format                    : -
lockout-duration                          : 0 s
lockout-failure-count                     : 0
lockout-failure-expiration-interval       : 0 s
max-password-age                          : 12 w 6 d
max-password-reset-age                    : 0 s
min-password-age                          : 4 w
password-attribute                        : userpassword
password-change-requires-current-password : false
password-expiration-warning-interval      : 5 d
password-generator                        : Random Password Generator
password-history-count                    : 7
password-history-duration                 : 0 s
password-validator                        : Dictionary
previous-last-login-time-format           : -
require-change-by-time                    : -
require-secure-authentication             : false
require-secure-password-changes           : false</pre></li></ol></div></div><div class="procedure" id="create-per-server-pwp"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;11.2.&nbsp;To Create a Server Based Password Policy</div><p>You can add a password policy for example for new users who have not
   yet used their credentials to bind.</p><ol class="procedure" type="1"><li class="step"><p>Create the new password policy.</p><pre class="cmdline prettyprint">$ dsconfig
 create-password-policy
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "New Account Password Policy"
 --set default-password-storage-scheme:"Salted SHA-1"
 --set force-change-on-add:true
 --set password-attribute:userPassword
 --type password-policy
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Check your work.</p><pre class="cmdline prettyprint">$ dsconfig
 get-password-policy-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "New Account Password Policy"
Property                                  : Value(s)
------------------------------------------:-------------
account-status-notification-handler       : -
allow-expired-password-changes            : false
allow-user-password-changes               : true
default-password-storage-scheme           : Salted SHA-1
deprecated-password-storage-scheme        : -
expire-passwords-without-warning          : false
force-change-on-add                       : true
force-change-on-reset                     : false
grace-login-count                         : 0
idle-lockout-interval                     : 0 s
last-login-time-attribute                 : -
last-login-time-format                    : -
lockout-duration                          : 0 s
lockout-failure-count                     : 0
lockout-failure-expiration-interval       : 0 s
max-password-age                          : 0 s
max-password-reset-age                    : 0 s
min-password-age                          : 0 s
password-attribute                        : userpassword
password-change-requires-current-password : false
password-expiration-warning-interval      : 5 d
password-generator                        : -
password-history-count                    : 0
password-history-duration                 : 0 s
password-validator                        : -
previous-last-login-time-format           : -
require-change-by-time                    : -
require-secure-authentication             : false
require-secure-password-changes           : false</pre><p>If you use a password policy like this, you might want to change the
    user's policy again when the new user successfully updates the
    password.</p></li></ol></div></div><div class="procedure" id="create-repl-pwp"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;11.3.&nbsp;To Create a Subentry Based Password Policy</div><p>You can add a subentry to configure a password policy that
   applies to Directory Administrators.</p><ol class="procedure" type="1"><li class="step"><p>Create the entry that specifies the password policy.</p><pre class="cmdline prettyprint">$ cat /path/to/subentry-pwp.ldif 
dn: cn=Subentry Password Policy,dc=example,dc=com
objectClass: top
objectClass: subentry
objectClass: pwdPolicy
cn: Subentry Password Policy
pwdAttribute: userPassword
pwdLockout: TRUE
pwdMaxFailure: 3
pwdFailureCountInterval: 300
pwdLockoutDuration: 300
pwdAllowUserChange: TRUE
pwdSafeModify: TRUE
subtreeSpecification: {base "ou=people", specificationFilter
  "(isMemberOf=cn=Directory Administrators,ou=Groups,dc=example,dc=com)" }</pre></li><li class="step"><p>Add the policy to the directory.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename /path/to/subentry-pwp.ldif 
Processing ADD request for cn=Subentry Password Policy,dc=example,dc=com
ADD operation successful for DN cn=Subentry Password Policy,dc=example,dc=com</pre></li><li class="step"><p>Check that the policy applies as specified.</p><p>In the example, the policy should apply to a Directory Administrator,
    while a normal user has the default password policy. Here, Kirsten Vaughan
    is a member of the Directory Administrators group, and Babs Jensen is not
    a member.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 uid=kvaughan
 pwdPolicySubentry
dn: uid=kvaughan,ou=People,dc=example,dc=com
pwdPolicySubentry: cn=Subentry Password Policy,dc=example,dc=com

$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 uid=bjensen
 pwdPolicySubentry
dn: uid=bjensen,ou=People,dc=example,dc=com
pwdPolicySubentry: cn=Default Password Policy,cn=Password Policies,cn=config</pre></li></ol></div></div></div><div class="section" id="assign-pwp"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.3.&nbsp;Assigning Password Policies</h2></div></div></div><p>You assign subentry based password policies for a subtree of the DIT by
  adding the policy to an LDAP subentry whose immediate superior is the root of
  the subtree. In other words you can add the subtree based password policy
  under <code class="literal">ou=People,dc=example,dc=com</code>, to have it apply to all
  entries under <code class="literal">ou=People,dc=example,dc=com</code>. You can further
  use the capabilities of LDAP <a class="link" href="http://tools.ietf.org/html/rfc3672" target="_top">subentries</a> to refine
  the scope of application.</p><p>You assign server based password policies by using the
  <code class="literal">ds-pwp-password-policy-dn</code> attribute.</p><div class="procedure" id="assign-pwp-to-individual"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;11.4.&nbsp;To Assign a Password Policy to a User</div><ol class="procedure" type="1"><li class="step"><p>Prevent users from selecting their own password policy.</p><pre class="cmdline prettyprint">$ cat protectpwp.ldif 
dn: ou=People,dc=example,dc=com
changetype: modify
add: aci
aci: (target ="ldap:///uid=*,ou=People,dc=example,dc=com")(targetattr =
 "ds-pwp-password-policy-dn")(version 3.0;acl "Cannot choose own pass
 word policy";deny (write)(userdn = "ldap:///self");)

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename protectpwp.ldif
Processing MODIFY request for ou=People,dc=example,dc=com
MODIFY operation successful for DN ou=People,dc=example,dc=com</pre></li><li class="step"><p>Update the user's <code class="literal">ds-pwp-password-policy-dn</code>
    attribute.</p><pre class="cmdline prettyprint">$ cat newuser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: New User
sn: User
ou: People
mail: newuser@example.com
userPassword: changeme
ds-pwp-password-policy-dn: cn=New Account Password Policy,cn=Password Policies,
 cn=config

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename newuser.ldif
Processing ADD request for uid=newuser,ou=People,dc=example,dc=com
ADD operation successful for DN uid=newuser,ou=People,dc=example,dc=com</pre></li><li class="step"><p>Check your work.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN dc=example,dc=com
 uid=newuser
 pwdPolicySubentry
dn: uid=newuser,ou=People,dc=example,dc=com
pwdPolicySubentry: cn=New Account Password Policy,cn=Password Policies,cn=config</pre></li></ol></div></div><div class="procedure" id="assign-pwp-to-group"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;11.5.&nbsp;To Assign a Password Policy to a Group</div><ol class="procedure" type="1"><li class="step"><p>Create a subentry defining the collective attribute that sets the
    <code class="literal">ds-pwp-password-policy-dn</code> attribute for group
    members' entries.</p><pre class="cmdline prettyprint">$ cat pwp-coll.ldif
dn: cn=Password Policy for Dir Admins,dc=example,dc=com
objectClass: collectiveAttributeSubentry
objectClass: extensibleObject
objectClass: subentry
objectClass: top
cn: Password Policy for Dir Admins
ds-pwp-password-policy-dn;collective: cn=Root Password Policy,cn=Pass
 word Policies,cn=config
subtreeSpecification: { base "ou=People", specificationFilter "(isMemberOf=
 cn=Directory Administrators,ou=Groups,dc=example,dc=com)"}

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename pwp-coll.ldif
Processing ADD request for cn=Password Policy for Dir Admins,dc=example,dc=com
ADD operation successful for DN cn=Password Policy for Dir
 Admins,dc=example,dc=com</pre></li><li class="step"><p>Check your work.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 uid=kvaughan
 pwdPolicySubentry
dn: uid=kvaughan,ou=People,dc=example,dc=com
pwdPolicySubentry: cn=Root Password Policy,cn=Password Policies,cn=config</pre></li></ol></div></div></div><div class="section" id="configure-pwd-generation"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.4.&nbsp;Configuring Password Generation</h2></div></div></div><a class="indexterm" name="d0e8007"></a><p>Password generators are used by OpenDJ during the LDAP password modify
  extended operation to construct a new password for the user. In other words,
  a directory administrator resetting a user's password can have OpenDJ
  directory server generate the new password.</p><pre class="cmdline prettyprint">$ ldappasswordmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --authzID "u:bjensen"
The LDAP password modify operation was successful
Generated Password:  eak77qdi</pre><p>The default password policy shown in <a class="xref" href="#default-pwp" title="Procedure&nbsp;11.1.&nbsp;To Adjust the Default Password Policy">Procedure&nbsp;11.1, &#8220;To Adjust the Default Password Policy&#8221;</a> uses
  the Random Password Generator.</p><pre class="cmdline prettyprint">$ dsconfig
 get-password-policy-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy"
 --property password-generator
Property           : Value(s)
-------------------:--------------------------
password-generator : Random Password Generator
$ dsconfig
 get-password-generator-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --generator-name "Random Password Generator"
 --property password-generator
 Property               : Value(s)
-----------------------:-----------------------------------------------------
enabled                : true
password-character-set : alpha:abcdefghijklmnopqrstuvwxyz, numeric:0123456789
password-format        : "alpha:3,numeric:2,alpha:3"</pre><p>Notice that the default configuration for the Random Password Generator
  defines two <code class="literal">password-character-set</code> values, and then uses
  those definitions in the <code class="literal">password-format</code> so that generated
  passwords have eight characters: three from the <code class="literal">alpha</code> set,
  followed by two from the <code class="literal">numeric</code> set, followed by three
  from the <code class="literal">alpha</code> set. The
  <code class="literal">password-character-set</code> name must be ASCII.</p><p>To set the password generator that OpenDJ employs when constructing a
  new password for a user, set the <code class="literal">password-generator</code>
  property for the password policy that applies to the user.</p><p>The following example does not change the password policy, but instead
  changes the Random Password Generator configuration, and then demonstrates a
  password being generated upon reset.</p><pre class="cmdline prettyprint">$ dsconfig
 set-password-generator-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --generator-name "Random Password Generator"
 --remove password-character-set:alpha:abcdefghijklmnopqrstuvwxyz
 --add
  password-character-set:alpha:ABCDEFGHIJKLMNOPQRSTUVWabcdefghijklmnopqrstuvwxyz
 --add password-character-set:punct:,./\`!@#\$%^&amp;*:\;[]\"\'\(\)+=-_~\\
 --set
  password-format:alpha:3,punct:1,numeric:2,punct:2,numeric:3,alpha:3,punct:2
 --no-prompt
$ ldappasswordmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --authzID "u:bjensen"
The LDAP password modify operation was successful
Generated Password:  pld^06:)529HTq$'</pre><p>If you also set up a password validator in the password policy as
  shown in <a class="xref" href="#default-pwp" title="Procedure&nbsp;11.1.&nbsp;To Adjust the Default Password Policy">Procedure&nbsp;11.1, &#8220;To Adjust the Default Password Policy&#8221;</a> and further described in
  <a class="xref" href="#configure-pwd-validation" title="11.6.&nbsp;Configuring Password Validation">Section&nbsp;11.6, &#8220;Configuring Password Validation&#8221;</a>, make sure the generated
  passwords are acceptable to the validator.</p></div><div class="section" id="configure-pwd-storage"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.5.&nbsp;Configuring Password Storage</h2></div></div></div><a class="indexterm" name="d0e8063"></a><p>Password storage schemes encode new passwords provided by users so that
  they are stored in an encoded manner. This makes it difficult or impossible
  for someone to determine the clear-text passwords from the encoded
  values. Password storage schemes also determine whether a clear-text password
  provided by a client matches the encoded value stored in the server.</p><p>OpenDJ offers a variety of both reversible and one-way password storage
  schemes. Some schemes make it easy to recover the clear-text password,
  whereas others aim to make it computationally hard to do so.</p><pre class="cmdline prettyprint">$ dsconfig
 list-password-storage-schemes
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password

Password Storage Scheme : Type          : enabled
------------------------:---------------:--------
3DES                    : triple-des    : true
AES                     : aes           : true
Base64                  : base64        : true
Blowfish                : blowfish      : true
Clear                   : clear         : true
CRYPT                   : crypt         : true
MD5                     : md5           : true
PBKDF2                  : pbkdf2        : true
RC4                     : rc4           : true
Salted MD5              : salted-md5    : true
Salted SHA-1            : salted-sha1   : true
Salted SHA-256          : salted-sha256 : true
Salted SHA-384          : salted-sha384 : true
Salted SHA-512          : salted-sha512 : true
SHA-1                   : sha1          : true</pre><p>As shown in <a class="xref" href="#default-pwp" title="Procedure&nbsp;11.1.&nbsp;To Adjust the Default Password Policy">Procedure&nbsp;11.1, &#8220;To Adjust the Default Password Policy&#8221;</a>, the default password storage
  scheme for users in Salted SHA-1. When you add users or import user entries
  with <code class="literal">userPassword</code> values in clear text, OpenDJ hashes them
  with the default password storage scheme. Root DN users have a different
  password policy by default, shown in <a class="xref" href="#assign-pwp-to-group" title="Procedure&nbsp;11.5.&nbsp;To Assign a Password Policy to a Group">Procedure&nbsp;11.5, &#8220;To Assign a Password Policy to a Group&#8221;</a>.
  The Root Password Policy uses Salted SHA-512 by default.</p><p>You change the default password policy storage scheme for users by
  changing the applicable password policy, as shown in the following
  example.</p><pre class="cmdline prettyprint">$ dsconfig
 set-password-policy-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy"
 --set default-password-storage-scheme:pbkdf2
 --no-prompt</pre><p>Notice that the change in default password storage scheme does not
   cause OpenDJ to update any stored password values. By default, OpenDJ only
   stores a password with the new storage scheme the next time that the password
   is changed.</p><p>OpenDJ prefixes passwords with the scheme used to encode them, which
   means it is straightforward to see which password storage scheme is in use.
   After the default password storage scheme is changed to PBKDF2, old user
   passwords remain encoded with Salted SHA-1.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN uid=bjensen,ou=people,dc=example,dc=com
 --bindPassword hifalutin
 --baseDN dc=example,dc=com
 "(uid=bjensen)" userPassword
dn: uid=bjensen,ou=People,dc=example,dc=com
userPassword: {SSHA}Rc3tkAj1qP5zGiRkwDIWDFxrxpGgO8Fwh3aibg==</pre><p>When the password is changed, the new default password storage scheme
   takes effect, as shown in the following example.</p><pre class="cmdline prettyprint">$ ldappasswordmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --authzID "u:bjensen"
 --newPassword changeit
The LDAP password modify operation was successful
$ ldapsearch
 --port 1389
 --bindDN uid=bjensen,ou=people,dc=example,dc=com
 --bindPassword changeit
 --baseDN dc=example,dc=com
 "(uid=bjensen)" userPassword
dn: uid=bjensen,ou=People,dc=example,dc=com
userPassword: {PBKDF2}10000:O3V6G7y7n7AefOkRGNKQ5ukrMuO5uf+iEQ9ZLg==</pre><p>When you change the password storage scheme for users, realize that
   the user passwords must change in order for OpenDJ to encode them with
   the chosen storage scheme. If you are changing the storage scheme because
   the old scheme was too weak, then you no doubt want users to change their
   passwords anyway.</p><p>If however the storage scheme change is not related to vulnerability,
   you can use the <code class="literal">deprecated-password-storage-scheme</code>
   property of the password policy to have OpenDJ store the password in the new
   format after successful authentication. This makes it possible to do password
   migration for active users without forcing users to change their
   passwords.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN uid=kvaughan,ou=people,dc=example,dc=com
 --bindPassword bribery
 --baseDN dc=example,dc=com
 "(uid=kvaughan)" userPassword
dn: uid=kvaughan,ou=People,dc=example,dc=com
userPassword: {SSHA}hDgK44F2GhIIZj913b+29Ak7phb9oU3Lz4ogkg==

$ dsconfig
 set-password-policy-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy"
 --set deprecated-password-storage-scheme:"Salted SHA-1"
 --no-prompt
$ ldapsearch
 --port 1389
 --bindDN uid=kvaughan,ou=people,dc=example,dc=com
 --bindPassword bribery
 --baseDN dc=example,dc=com
 "(uid=kvaughan)" userPassword
dn: uid=kvaughan,ou=People,dc=example,dc=com
userPassword: {PBKDF2}10000:L4dCYqSsNnf47YZ3a6aC8K2E3DChhHHhpcoUzg==</pre><p>Notice that with <code class="literal">deprecated-password-storage-scheme</code>
   set appropriately, Kirsten Vaughan's password was hashed again after she
   authenticated successfully.</p></div><div class="section" id="configure-pwd-validation"><div class="titlepage"><div><div><h2 class="title" style="clear: both">11.6.&nbsp;Configuring Password Validation</h2></div></div></div><a class="indexterm" name="d0e8119"></a><p>Password validators are responsible for determining whether a proposed
  password is acceptable for use and can run checks like ensuring the password
  meets minimum length requirements, that it has an appropriate range of
  characters, or that it is not in the history. OpenDJ directory server
  provides a variety of password validators.</p><pre class="cmdline prettyprint">$ dsconfig
 list-password-validators
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password


Password Validator                  : Type                : enabled
------------------------------------:---------------------:--------
Attribute Value                     : attribute-value     : true
Character Set                       : character-set       : true
Dictionary                          : dictionary          : false
Length-Based Password Validator     : length-based        : true
Repeated Characters                 : repeated-characters : true
Similarity-Based Password Validator : similarity-based    : true
Unique Characters                   : unique-characters   : true</pre><p>The password policy for a user specifies the set of password validators
  that should be used whenever that user provides a new password. By default
  no password validators are configured. You can see an example setting the
  Default Password Policy to use the Dictionary validator in
  <a class="xref" href="#default-pwp" title="Procedure&nbsp;11.1.&nbsp;To Adjust the Default Password Policy">Procedure&nbsp;11.1, &#8220;To Adjust the Default Password Policy&#8221;</a>. The following example shows how to set up
  a custom password validator and assign it to the default password
  policy.</p><div class="itemizedlist"><p>The custom password validator ensures passwords meet at least three of
   the following four criteria. Passwords are composed of:</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>English lowercase characters (a through z)</p></li><li class="listitem"><p>English uppercase characters (A through Z)</p></li><li class="listitem"><p>Base 10 digits (0 through 9)</p></li><li class="listitem"><p>Non-alphabetic characters (for example, !, $, #, %)</p></li></ul></div><p>Notice how the <code class="literal">character-set</code> values are constructed.
  The initial <code class="literal">0:</code> means the set is optional, whereas
  <code class="literal">1:</code> would mean the set is required.</p><pre class="cmdline prettyprint">$ dsconfig
 create-password-validator
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --validator-name "Custom Character Set Password Validator"
 --set allow-unclassified-characters:true
 --set enabled:true
 --set character-set:0:abcdefghijklmnopqrstuvwxyz
 --set character-set:0:ABCDEFGHIJKLMNOPQRSTUVWXYZ
 --set character-set:0:0123456789
 --set character-set:0:!\"#\$%&amp;\'\(\)*+,-./:\;\\&lt;=\&gt;?@[\\]^_\`{\|}~
 --set min-character-sets:3
 --type character-set
 --no-prompt

$ dsconfig
 set-password-policy-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy"
 --set password-validator:"Custom Character Set Password Validator"
 --no-prompt

$ ldappasswordmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --authzID "u:bjensen"
 --newPassword '!ABcd$%^'</pre><p>In the preceding example, the character set of ASCII punctuation,
  <code class="literal">!\"#\$%&amp;\'\(\)*+,-./:\;\\&lt;=\&gt;?@[\\]^_\`{\|}~</code>,
  is hard to read because of all the escape characters. In practice it can
  be easier to enter sequences like that by using <span class="command"><strong>dsconfig</strong></span>
  in interactive mode, and letting it do the escaping for you. You can also
  use the <code class="option">--commandFilePath {path}</code> option to save the result
  of your interactive session to a file for use in scripts later.</p><p>An attempt to set an invalid password fails as shown in the following
  example.</p><pre class="cmdline prettyprint">$ ldappasswordmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --authzID "u:bjensen"
 --newPassword hifalutin
 The LDAP password modify operation failed with result code 19
Error Message:  The provided new password failed the validation checks defined
in the server:  The provided password did not contain characters from at least
3 of the following character sets or ranges: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
'!"#$%&amp;'()*+,-./:;&lt;=\&gt;?@[\]^_`{|}~', '0123456789', 'abcdefghijklmnopqrstuvwxyz'</pre><p>Validation does not affect existing passwords, but only takes effect
  when the password is updated.</p></div></div><div lang="en" class="chapter" id="chap-account-lockout"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;12.&nbsp;Implementing Account Lockout &amp; Notification</h1></div></div></div><p>OpenDJ directory server supports automatic account lockout.
 The aim of account lockout is not to punish users who mistype their
 passwords, but instead to protect the directory against attacks
 in which the attacker attempts to guess a user password, repeatedly
 attempting to bind until success is achieved.</p><p>Account lockout disables a user account after a specified
 number of successive authentication failures. When you implement account
 lockout, you can opt to have OpenDJ directory server unlock the account
 again after a specified interval, or you can leave the account locked
 until the password is reset.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>When you configure account lockout as part of password policy, OpenDJ
  locks an account after the specified number of consecutive authentication
  failures. Account lockout is not transactional across a replication topology,
  however. Under normal circumstances, replication nevertheless propagates
  lockout quickly. If ever replication is delayed, an attacker with direct
  access to multiple replicas could try to authenticate up to the specified
  number of times on each replica before being locked out on all replicas.</p></div></div><p>This chapter shows you how to set up account lockout policies,
 and how to intervene manually to lock and unlock accounts.</p><div class="section" id="configure-account-lockout"><div class="titlepage"><div><div><h2 class="title" style="clear: both">12.1.&nbsp;Configuring Account Lockout</h2></div></div></div><a class="indexterm" name="d0e8195"></a><p>Account lockout is configured as part of password policy. This section
  demonstrates configuring account lockout as part of the default password
  policy. Users are allowed three consecutive failures before being locked out
  for five minutes. Failures themselves also expire after five minutes.</p><p>Change the default password policy to activate lockout using the
  <span class="command"><strong>dsconfig</strong></span> command. As the password policy is part of
  the server configuration, you must manually apply the changes to each
  replica in a replication topology.</p><pre class="cmdline prettyprint">$ dsconfig
 set-password-policy-prop
 --port 4444
 --hostname `hostname`
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy" 
 --set lockout-failure-count:3
 --set lockout-duration:5m 
 --set lockout-failure-expiration-interval:5m
 --trustAll
 --no-prompt</pre><p>Users having the default password policy are then locked out after
  three failed attempts in succession.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN "uid=bjensen,ou=people,dc=example,dc=com"
 --bindPassword hifalutin
 --baseDN dc=example,dc=com
 uid=bjensen
 mail
dn: uid=bjensen,ou=People,dc=example,dc=com
mail: bjensen@example.com

$ ldapsearch
 --port 1389
 --bindDN "uid=bjensen,ou=people,dc=example,dc=com"
 --bindPassword fatfngrs
 --baseDN dc=example,dc=com
 uid=bjensen
 mail
The simple bind attempt failed
Result Code:  49 (Invalid Credentials)
$ ldapsearch
 --port 1389
 --bindDN "uid=bjensen,ou=people,dc=example,dc=com"
 --bindPassword fatfngrs
 --baseDN dc=example,dc=com
 uid=bjensen
 mail
The simple bind attempt failed
Result Code:  49 (Invalid Credentials)
$ ldapsearch
 --port 1389
 --bindDN "uid=bjensen,ou=people,dc=example,dc=com"
 --bindPassword fatfngrs
 --baseDN dc=example,dc=com
 uid=bjensen
 mail
The simple bind attempt failed
Result Code:  49 (Invalid Credentials)
$ ldapsearch
 --port 1389
 --bindDN "uid=bjensen,ou=people,dc=example,dc=com"
 --bindPassword hifalutin
 --baseDN dc=example,dc=com
 uid=bjensen
 mail
The simple bind attempt failed
Result Code:  49 (Invalid Credentials)</pre></div><div class="section" id="manage-accounts"><div class="titlepage"><div><div><h2 class="title" style="clear: both">12.2.&nbsp;Managing Accounts Manually</h2></div></div></div><p>This section covers disabling and enabling accounts by using the
  <span class="command"><strong>manage-account</strong></span> command. Password reset is covered in
  the chapter on performing LDAP operations.</p><p>For the following examples, the directory admin user, Kirsten Vaughan,
  has <code class="literal">ds-privilege-name: password-reset</code>, and the following
  ACI on <code class="literal">ou=People,dc=example,dc=com</code>.</p><pre class="literallayout">(target="ldap:///ou=People,dc=example,dc=com") (targetattr ="*||+")(
version 3.0;acl "Admins can run amok"; allow(all) groupdn =
"ldap:///cn=Directory Administrators,ou=Groups,dc=example,dc=com";)</pre><div class="procedure" id="disable-account"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;12.1.&nbsp;To Disable an Account</div><a class="indexterm" name="d0e8235"></a><ul class="procedure"><li class="step"><p>Set the account status to disabled with the
    <span class="command"><strong>manage-account</strong></span> command.</p><pre class="cmdline prettyprint">$ manage-account
 set-account-is-disabled
 --port 4444
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --operationValue true
 --targetDN uid=bjensen,ou=people,dc=example,dc=com
 --trustAll
Account Is Disabled:  true</pre></li></ul></div></div><div class="procedure" id="reactivate-account"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;12.2.&nbsp;To Activate a Disabled Account</div><a class="indexterm" name="d0e8252"></a><ul class="procedure"><li class="step"><p>Clear the disabled status using the <span class="command"><strong>manage-account</strong></span>
    command.</p><pre class="cmdline prettyprint">$ manage-account
 clear-account-is-disabled
 --port 4444
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword bribery
 --targetDN uid=bjensen,ou=people,dc=example,dc=com
 --trustAll
Account Is Disabled:  false</pre></li></ul></div></div></div><div class="section" id="account-status-notification"><div class="titlepage"><div><div><h2 class="title" style="clear: both">12.3.&nbsp;Managing Account Status Notification</h2></div></div></div><a class="indexterm" name="d0e8269"></a><p>OpenDJ can send mail about account status changes. OpenDJ needs an
  SMTP server to send messages, and needs templates for the mail it sends.
  By default, message templates are in English, under
  <code class="filename">/path/to/opendj/config/messages/</code>.</p><p>OpenDJ generates notifications only when OpenDJ writes to an entry or
  evaluates a user entry for authentication. OpenDJ generates account enabled
  and account disabled notifications when the user account is enabled or
  disabled with the <span class="command"><strong>manage-account</strong></span> command, which writes
  to the entry. OpenDJ generates password expiration notifications when a
  user tries to bind.</p><p>For example, if you set up OpenDJ to send a notification about password
  expiration, that notification gets triggered when the user authenticates
  during the password expiration warning interval. OpenDJ does not
  automatically scan entries to send password expiry notifications. OpenDJ does
  implement controls that you can pass in an LDAP search to determine whether a
  user's password is about to expire. See the appendix on
  <a href="../admin-guide/index.html#appendix-controls" class="link"><em class="citetitle">LDAP
  Controls</em></a> for a list. You can send notifications then
  based on the results of your search.</p><div class="procedure" id="mail-account-status-notifications"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;12.3.&nbsp;To Mail Users About Account Status</div><p>The following steps demonstrate how to set up notifications. Whether
   OpenDJ sends notifications depends on the settings in the password policy,
   and on account activity as described above.</p><ol class="procedure" type="1"><li class="step"><p>Identify the SMTP server to which OpenDJ sends messages.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname `hostname`
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set smtp-server:smtp.example.com
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Set up OpenDJ to be able to mail users about account status.</p><pre class="cmdline prettyprint">$ dsconfig
 set-account-status-notification-handler-prop
 --port 4444
 --hostname `hostname`
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "SMTP Handler"
 --set enabled:true
 --set email-address-attribute-type:mail
 --trustAll
 --no-prompt</pre><p>Notice that OpenDJ finds the user's mail address on the attribute
    on the user's entry, specified by
    <code class="literal">email-address-attribute-type</code>.</p><p>You can also configure the <code class="literal">message-subject</code> and
    <code class="literal">message-template-file</code> properties. Try interactive
    mode if you plan to do so.</p><p>You find templates for messages by default under the
    <code class="filename">config/messages</code> directory. You can edit the templates
    to suit your purposes.</p></li><li class="step"><p>Adjust applicable password policies to use the account status
    notification handler you configured.</p><pre class="cmdline prettyprint">$ dsconfig
 set-password-policy-prop
 --port 4444
 --hostname `hostname`
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --policy-name "Default Password Policy"
 --set account-status-notification-handler:"SMTP Handler"
 --trustAll
 --no-prompt</pre></li></ol></div></div><div class="variablelist" id="about-message-templates"><div class="variablelist-title">About Notification Message Templates</div><a class="indexterm" name="d0e8334"></a><p>When editing the <code class="filename">config/messages</code> templates
   to suit your purposes, you can use the following tokens to have OpenDJ
   update the message text dynamically.</p><dl class="variablelist"><dt><span class="term"><code class="literal">%%notification-type%%</code></span></dt><dd><p>This token is replaced with the name of the account status
     notification type for the notification.</p></dd><dt><span class="term"><code class="literal">%%notification-message%%</code></span></dt><dd><p>This token is replaced with the message for the account status
     notification.</p></dd><dt><span class="term"><code class="literal">%%notification-user-dn%%</code></span></dt><dd><p>This token is replaced with the string representation of the DN for
     the user that is the target of the account status notification.</p></dd><dt><span class="term"><code class="literal">%%notification-user-attr:<em class="replaceable"><code>attrname</code></em>%%</code></span></dt><dd><p>This token is replaced with the value of the attribute specified by
     <em class="replaceable"><code>attrname</code></em> from the user's entry. If the
     specified attribute has multiple values, then OpenDJ uses the first value
     encountered. If the specified attribute does not have any values, then
     OpenDJ replaces it with an emtpy string.</p></dd><dt><span class="term"><code class="literal">%%notification-property:<em class="replaceable"><code>propname</code></em>%%</code></span></dt><dd><p>This token is replaced with the value of the specified notification
     property from the account status notification. If the specified property
     has multiple values, then OpenDJ uses the first value encountered. If the
     specified property does not have any values, then OpenDJ replaces it with
     an emtpy string. Valid <em class="replaceable"><code>propname</code></em> values include
     the following.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">account-unlock-time</code></p></li><li class="listitem"><p><code class="literal">new-password</code></p></li><li class="listitem"><p><code class="literal">old-password</code></p></li><li class="listitem"><p><code class="literal">password-expiration-time</code></p></li><li class="listitem"><p><code class="literal">password-policy-dn</code></p></li><li class="listitem"><p><code class="literal">seconds-until-expiration</code></p></li><li class="listitem"><p><code class="literal">seconds-until-unlock</code></p></li><li class="listitem"><p><code class="literal">time-until-expiration</code></p></li><li class="listitem"><p><code class="literal">time-until-unlock</code></p></li></ul></div></dd></dl></div></div></div><div lang="en" class="chapter" id="chap-resource-limits"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;13.&nbsp;Setting Resource Limits</h1></div></div></div><a class="indexterm" name="d0e8432"></a><p>This chapter shows you how to set resource limits that prevent
 directory clients from using an unfair share of system resources.</p><div class="section" id="limit-search-resources"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.1.&nbsp;Limiting Search Resources</h2></div></div></div><p>Well-written directory client applications limit the scope of their
  searches with filters that narrow the number of results returned. By default,
  OpenDJ also only allows users with appropriate privileges to perform
  unindexed searches.</p><p>You can further adjust additional limits on search operations, such
  as the following.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The <em class="firstterm">lookthrough limit</em> defines the maximum
    number of candidate entries OpenDJ considers when processing a
    search.</p><p>The default lookthrough limit, set by using the global server
    property <code class="literal">lookthrough-limit</code>, is 5000.</p><p>You can override the limit for a particular user by changing the
    operational attribute, <code class="literal">ds-rlim-lookthrough-limit</code>, on
    the user's entry.</p></li><li class="listitem"><p>The <em class="firstterm">size limit</em> sets the maximum number of
    entries returned for a search.</p><p>The default size limit, set by using the global server property
    <code class="literal">size-limit</code>, is 1000.</p><p>You can override the limit for a particular user by changing the
    operational attribute, <code class="literal">ds-rlim-size-limit</code>, on
    the user's entry.</p></li><li class="listitem"><p>The <em class="firstterm">time limit</em> defines the maximum processing
    time OpenDJ devotes to a search operation.</p><p>The default time limit, set by using the global server property
    <code class="literal">time-limit</code>, is 1 minute.</p><p>You can override the limit for a particular user by changing the
    operational attribute, <code class="literal">ds-rlim-time-limit</code>, on
    the user's entry. Times for <code class="literal">ds-rlim-time-limit</code> are
    expressed in seconds.</p></li><li class="listitem"><p>The <em class="firstterm">idle time limit</em> defines how long OpenDJ
    allows idle connections to remain open.</p><p>No default idle time limit is set. You can set an idle time limit
    by using the global server property
    <code class="literal">idle-time-limit</code>.</p><p>You can override the limit for a particular user by changing the
    operational attribute, <code class="literal">ds-rlim-idle-time-limit</code>, on
    the user's entry. Times for <code class="literal">ds-rlim-idle-time-limit</code>
    are expressed in seconds.</p></li><li class="listitem"><p>The maximum number of persistent searches can be set using the
    global server property <code class="literal">max-psearches</code>.</p></li></ul></div><div class="procedure" id="set-search-limits-per-user"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;13.1.&nbsp;To Set Search Limits For a User</div><ul class="procedure"><li class="step"><p>Change the user entry to set the limits to override.</p><pre class="cmdline prettyprint">$ cat limit.ldif
dn: uid=bjensen,ou=People,dc=example,dc=com
changetype: modify
add: ds-rlim-size-limit
ds-rlim-size-limit: 10

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename limit.ldif
Processing MODIFY request for uid=bjensen,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=bjensen,ou=People,dc=example,dc=com</pre><p>Now when Babs Jensen performs a search returning more than 10
    entries, she sees the following message.</p><pre class="cmdline prettyprint">Result Code:  4 (Size Limit Exceeded)
Additional Information:  This search operation has sent the maximum of
 10 entries to the client</pre></li></ul></div></div><div class="procedure" id="set-search-limits-per-group"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;13.2.&nbsp;To Set Search Limits For a Group</div><ol class="procedure" type="1"><li class="step"><p>Create an LDAP subentry to specify the limits using collective
    attributes.</p><pre class="cmdline prettyprint">$ cat grouplim.ldif 
dn: cn=Remove Administrator Search Limits,dc=example,dc=com
objectClass: collectiveAttributeSubentry
objectClass: extensibleObject
objectClass: subentry
objectClass: top
cn: Remove Administrator Search Limits
ds-rlim-lookthrough-limit;collective: 0
ds-rlim-size-limit;collective: 0
ds-rlim-time-limit;collective: 0
subtreeSpecification: {base "ou=people", specificationFilter "
 (isMemberOf=cn=Directory Administrators,ou=Groups,dc=example,dc=com)" }

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename grouplim.ldif
Processing ADD request for
 cn=Remove Administrator Search Limits,dc=example,dc=com
ADD operation successful for DN
 cn=Remove Administrator Search Limits,dc=example,dc=com</pre></li><li class="step"><p>Check the results.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=kvaughan +|grep ds-rlim
ds-rlim-lookthrough-limit: 0
ds-rlim-time-limit: 0
ds-rlim-size-limit: 0</pre></li></ol></div></div></div><div class="section" id="limit-idle-time"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.2.&nbsp;Limiting Idle Time</h2></div></div></div><p>If you have applications that leave connections open for long
  periods, OpenDJ can end up devoting resources to maintaining connections
  that are no longer used. If your network does not drop such connections
  eventually, you can configure OpenDJ to drop them by setting the
  global configuration property, <code class="literal">idle-time-limit</code>. By
  default, no idle time limit is set.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>OpenDJ does not enforce idle timeout for persistent searches.</p></div></div><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set idle-time-limit:24h
 --trustAll
 --no-prompt</pre><p>The example shown sets the idle time limit to 24 hours.</p></div><div class="section" id="limit-max-request-size"><div class="titlepage"><div><div><h2 class="title" style="clear: both">13.3.&nbsp;Limiting Maximum Request Size</h2></div></div></div><p>The default maximum request size of 5 MB, set using the advanced
  connection handler property <code class="literal">max-request-size</code>, is
  sufficient to satisfy most client requests. Yet, there are some cases where
  you might need to raise the request size limit. For example, if clients
  add groups with large numbers of members, those add requests can go beyond
  the 5 MB limit.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "LDAP Connection Handler"
 --set max-request-size:20mb
 --trustAll
 --no-prompt</pre><p>The example shown sets the maximum request size on the LDAP connection
  handler to 20 MB.</p></div></div><div lang="en" class="chapter" id="chap-groups"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;14.&nbsp;Working With Groups of Entries</h1></div></div></div><p>OpenDJ supports several methods of grouping entries in the directory.
 Static groups list their members, whereas dynamic groups look up their
 membership based on an LDAP filter. OpenDJ also supports virtual static
 groups, which uses a dynamic group style definition, but allows applications
 to list group members as if the group were static.</p><p>When listing entries in static groups, you must also have a mechanism
 for removing entries from the list when they are deleted or modified in ways
 that end their membership. OpenDJ makes that possible with
 <span class="emphasis"><em>referential integrity</em></span> functionality.</p><p>This chapter demonstrates how to work with groups.</p><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Tip</h3></div><div class="panel-body"><p>The examples in this chapter assume that an
  <code class="literal">ou=Groups,dc=example,dc=com</code> entry already exists. If you
  imported data from <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank">Example.ldif</a>, then you already have the entry. If you
  generated data during setup and did not create an organizational unit for
  groups yet, create the entry before you try the examples.</p><pre class="cmdline prettyprint">$ ldapmodify
 --defaultAdd
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: ou=Groups,dc=example,dc=com
objectClass: organizationalunit
objectClass: top
ou: Groups

Processing ADD request for ou=Groups,dc=example,dc=com
ADD operation successful for DN ou=Groups,dc=example,dc=com</pre></div></div><div class="section" id="static-groups"><div class="titlepage"><div><div><h2 class="title" style="clear: both">14.1.&nbsp;Creating Static Groups</h2></div></div></div><a class="indexterm" name="d0e8607"></a><p>A <em class="firstterm">static group</em> is expressed as an entry
  that enumerates all the entries that belong to the group. Static group
  entries grow as their membership increases.</p><p>Static group entries can take the standard object class
  <code class="literal">groupOfNames</code> where each <code class="literal">member</code>
  attribute value is a distinguished name of an entry, or
  <code class="literal">groupOfUniqueNames</code> where each
  <code class="literal">uniqueMember</code> attribute value has Name and Optional UID
  syntax.<a href="#ftn.d0e8631" class="footnote"><sup class="footnote" id="d0e8631">[8]</sup></a> Like other LDAP attributes,
  <code class="literal">member</code> and <code class="literal">uniqueMember</code> attributes take
  sets of unique values.</p><p>Static group entries can also have the object class
  <code class="literal">groupOfEntries</code>, which is like
  <code class="literal">groupOfNames</code> except that it is designed to allow
  groups not to have members.</p><p>When creating a group entry, use <code class="literal">groupOfNames</code> or
  <code class="literal">groupOfEntries</code> where possible.</p><p>To create a static group, add a group entry such as the following
  to the directory.</p><pre class="cmdline prettyprint">$ cat static.ldif 
dn: cn=My Static Group,ou=Groups,dc=example,dc=com
cn: My Static Group
objectClass: groupOfNames
objectClass: top
ou: Groups
member: uid=ahunter,ou=People,dc=example,dc=com
member: uid=bjensen,ou=People,dc=example,dc=com
member: uid=tmorris,ou=People,dc=example,dc=com

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename static.ldif 
Processing ADD request for cn=My Static Group,ou=Groups,dc=example,dc=com
ADD operation successful for DN cn=My Static Group,ou=Groups,dc=example,dc=com</pre><p>To change group membership, modify the values of the membership
  attribute.</p><pre class="cmdline prettyprint">$ cat add2grp.ldif 
dn: cn=My Static Group,ou=Groups,dc=example,dc=com
changetype: modify
add: member
member: uid=scarter,ou=People,dc=example,dc=com

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename add2grp.ldif 
Processing MODIFY request for cn=My Static Group,ou=Groups,dc=example,dc=com
MODIFY operation successful for DN
 cn=My Static Group,ou=Groups,dc=example,dc=com
$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 "(cn=My Static Group)"
dn: cn=My Static Group,ou=Groups,dc=example,dc=com
ou: Groups
objectClass: groupOfNames
objectClass: top
member: uid=ahunter,ou=People,dc=example,dc=com
member: uid=bjensen,ou=People,dc=example,dc=com
member: uid=tmorris,ou=People,dc=example,dc=com
member: uid=scarter,ou=People,dc=example,dc=com
cn: My Static Group</pre><p>RFC 4519 says a <code class="literal">groupOfNames</code> entry must have
  at least one member. Although OpenDJ allows you to create a
  <code class="literal">groupOfNames</code> without members, strictly speaking that
  behavior is not standard. Alternatively, you can use the
  <code class="literal">groupOfEntries</code> object class as shown in the following
  example.</p><pre class="cmdline prettyprint">$ cat group-of-entries.ldif
dn: cn=Initially Empty Static Group,ou=Groups,dc=example,dc=com
cn: Initially Empty Static Group
objectClass: groupOfEntries
objectClass: top
ou: Groups

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename group-of-entries.ldif
Processing ADD request for
 cn=Initially Empty Static Group,ou=Groups,dc=example,dc=com
ADD operation successful for DN
 cn=Initially Empty Static Group,ou=Groups,dc=example,dc=com
$ cat add-members.ldif
# Now add some members to the group.
dn: cn=Initially Empty Static Group,ou=Groups,dc=example,dc=com
changetype: modify
add: member
member: uid=ahunter,ou=People,dc=example,dc=com
member: uid=bjensen,ou=People,dc=example,dc=com
member: uid=tmorris,ou=People,dc=example,dc=com
member: uid=scarter,ou=People,dc=example,dc=com

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename add-members.ldif
Processing MODIFY request for
 cn=Initially Empty Static Group,ou=Groups,dc=example,dc=com
MODIFY operation successful for DN
 cn=Initially Empty Static Group,ou=Groups,dc=example,dc=com</pre></div><div class="section" id="dynamic-groups"><div class="titlepage"><div><div><h2 class="title" style="clear: both">14.2.&nbsp;Creating Dynamic Groups</h2></div></div></div><a class="indexterm" name="d0e8694"></a><p>A <em class="firstterm">dynamic group</em> specifies members using
  LDAP URLs. Dynamic groups entries can stay small even as their
  membership increases.</p><p>Dynamic group entries take the <code class="literal">groupOfURLs</code>
  object class, with one or more <code class="literal">memberURL</code> values
  specifying LDAP URLs to identify group members.</p><p>To create a dynamic group, add a group entry such as the following to
  the directory.</p><p>The following example builds a dynamic group of entries effectively
  matching the filter <code class="literal">"(l=Cupertino)"</code> (users whose location
  is Cupertino). Change the filter if your data is different, and so no
  entries have <code class="literal">l: Cupertino</code>.</p><pre class="cmdline prettyprint">$ cat dynamic.ldif
dn: cn=My Dynamic Group,ou=Groups,dc=example,dc=com
cn: My Dynamic Group
objectClass: top
objectClass: groupOfURLs
ou: Groups
memberURL: ldap:///ou=People,dc=example,dc=com??sub?l=Cupertino

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename dynamic.ldif 
Processing ADD request for cn=My Dynamic Group,ou=Groups,dc=example,dc=com
ADD operation successful for DN cn=My Dynamic Group,ou=Groups,dc=example,dc=com</pre><p>Group membership changes dynamically as entries change to match the
  <code class="literal">memberURL</code> values.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 "(&amp;(uid=*jensen)(isMemberOf=cn=My Dynamic Group,ou=Groups,dc=example,dc=com))"
 mail
dn: uid=bjensen,ou=People,dc=example,dc=com
mail: bjensen@example.com

dn: uid=rjensen,ou=People,dc=example,dc=com
mail: rjensen@example.com

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: uid=ajensen,ou=People,dc=example,dc=com
changetype: modify
replace: l
l: Cupertino

Processing MODIFY request for uid=ajensen,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=ajensen,ou=People,dc=example,dc=com
^D
$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 "(&amp;(uid=*jensen)(isMemberOf=cn=My Dynamic Group,ou=Groups,dc=example,dc=com))"
 mail
dn: uid=ajensen,ou=People,dc=example,dc=com
mail: ajensen@example.com

dn: uid=bjensen,ou=People,dc=example,dc=com
mail: bjensen@example.com

dn: uid=rjensen,ou=People,dc=example,dc=com
mail: rjensen@example.com</pre></div><div class="section" id="virtual-static-groups"><div class="titlepage"><div><div><h2 class="title" style="clear: both">14.3.&nbsp;Creating Virtual Static Groups</h2></div></div></div><a class="indexterm" name="d0e8735"></a><p>OpenDJ lets you create <em class="firstterm">virtual static groups</em>,
  which let applications see dynamic groups as what appear to be static
  groups.</p><p>The virtual static group takes auxiliary object class
  <code class="literal">ds-virtual-static-group</code>. Virtual static groups also take
  either the object class <code class="literal">groupOfNames</code>, or
  <code class="literal">groupOfUniqueNames</code>, but instead of having
  <code class="literal">member</code> or <code class="literal">uniqueMember</code> attributes,
  have <code class="literal">ds-target-group-dn</code> attributes pointing to other
  groups.</p><p>Generating the list of members can be resource intensive for large
  groups, so by default you cannot retrieve the list of members. You can
  change this with the <span class="command"><strong>dsconfig</strong></span> command by setting the
  <code class="literal">Virtual Static member</code> or
  <code class="literal">Virtual Static uniqueMember</code> property.</p><pre class="cmdline prettyprint">$ dsconfig
 set-virtual-attribute-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --name "Virtual Static member"
 --set allow-retrieving-membership:true
 --trustAll
 --no-prompt</pre><p>The following example creates a virtual static group, and reads the
  group entry with all members.</p><pre class="cmdline prettyprint">$ cat virtual.ldif 
dn: cn=Virtual Static,ou=Groups,dc=example,dc=com
cn: Virtual Static
objectclass: top
objectclass: groupOfNames
objectclass: ds-virtual-static-group
ds-target-group-dn: cn=My Dynamic Group,ou=Groups,dc=example,dc=com

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename virtual.ldif
Processing ADD request for cn=Virtual Static,ou=Groups,dc=example,dc=com
ADD operation successful for DN cn=Virtual Static,ou=Groups,dc=example,dc=com
$ ldapsearch --port 1389 --baseDN dc=example,dc=com "(cn=Virtual Static)"
dn: cn=Virtual Static,ou=Groups,dc=example,dc=com
objectClass: groupOfNames
objectClass: ds-virtual-static-group
objectClass: top
member: uid=jwalker,ou=People,dc=example,dc=com
member: uid=jmuffly,ou=People,dc=example,dc=com
member: uid=tlabonte,ou=People,dc=example,dc=com
member: uid=dakers,ou=People,dc=example,dc=com
member: uid=jreuter,ou=People,dc=example,dc=com
member: uid=rfisher,ou=People,dc=example,dc=com
member: uid=pshelton,ou=People,dc=example,dc=com
member: uid=rjensen,ou=People,dc=example,dc=com
member: uid=jcampaig,ou=People,dc=example,dc=com
member: uid=mjablons,ou=People,dc=example,dc=com
member: uid=mlangdon,ou=People,dc=example,dc=com
member: uid=aknutson,ou=People,dc=example,dc=com
member: uid=bplante,ou=People,dc=example,dc=com
member: uid=awalker,ou=People,dc=example,dc=com
member: uid=smason,ou=People,dc=example,dc=com
member: uid=ewalker,ou=People,dc=example,dc=com
member: uid=dthorud,ou=People,dc=example,dc=com
member: uid=btalbot,ou=People,dc=example,dc=com
member: uid=tcruse,ou=People,dc=example,dc=com
member: uid=kcarter,ou=People,dc=example,dc=com
member: uid=aworrell,ou=People,dc=example,dc=com
member: uid=bjensen,ou=People,dc=example,dc=com
member: uid=ajensen,ou=People,dc=example,dc=com
member: uid=cwallace,ou=People,dc=example,dc=com
member: uid=mwhite,ou=People,dc=example,dc=com
member: uid=kschmith,ou=People,dc=example,dc=com
member: uid=mtalbot,ou=People,dc=example,dc=com
member: uid=tschmith,ou=People,dc=example,dc=com
member: uid=gfarmer,ou=People,dc=example,dc=com
member: uid=speterso,ou=People,dc=example,dc=com
member: uid=prose,ou=People,dc=example,dc=com
member: uid=jbourke,ou=People,dc=example,dc=com
member: uid=mtyler,ou=People,dc=example,dc=com
member: uid=abergin,ou=People,dc=example,dc=com
member: uid=mschneid,ou=People,dc=example,dc=com
cn: Virtual Static
ds-target-group-dn: cn=My Dynamic Group,ou=Groups,dc=example,dc=com</pre></div><div class="section" id="group-membership"><div class="titlepage"><div><div><h2 class="title" style="clear: both">14.4.&nbsp;Looking Up Group Membership</h2></div></div></div><a class="indexterm" name="d0e8786"></a><p>OpenDJ lets you look up which groups a user belongs to by using the
  <code class="literal">isMemberOf</code> attribute.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 uid=bjensen
 isMemberOf
dn: uid=bjensen,ou=People,dc=example,dc=com
isMemberOf: cn=My Static Group,ou=Groups,dc=example,dc=com
isMemberOf: cn=Virtual Static,ou=Groups,dc=example,dc=com
isMemberOf: cn=My Dynamic Group,ou=Groups,dc=example,dc=com</pre><p>You must request <code class="literal">isMemberOf</code> explicitly.</p></div><div class="section" id="referential-integrity"><div class="titlepage"><div><div><h2 class="title" style="clear: both">14.5.&nbsp;Configuring Referential Integrity</h2></div></div></div><a class="indexterm" name="d0e8807"></a><p>When you delete or rename an entry that belongs to static groups, that
  entry's DN must be removed or changed in the list of each group to which it
  belongs. You can configure OpenDJ to resolve membership on your behalf after
  the change operation succeeds by enabling referential integrity.</p><p>Referential integrity functionality is implemented as a plugin. The
  referential integrity plugin is disabled by default. To enable the plugin,
  use the <span class="command"><strong>dsconfig</strong></span> command.</p><pre class="cmdline prettyprint">$ dsconfig
 set-plugin-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --plugin-name "Referential Integrity"
 --set enabled:true
 --trustAll --no-prompt</pre><p>With the plugin enabled, you can see OpenDJ referential integrity
  resolving group membership automatically.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com "(cn=My Static Group)"
dn: cn=My Static Group,ou=Groups,dc=example,dc=com
ou: Groups
objectClass: groupOfNames
objectClass: top
member: uid=ahunter,ou=People,dc=example,dc=com
member: uid=bjensen,ou=People,dc=example,dc=com
member: uid=tmorris,ou=People,dc=example,dc=com
member: uid=scarter,ou=People,dc=example,dc=com
cn: My Static Group

$ ldapdelete
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 uid=scarter,ou=People,dc=example,dc=com
Processing DELETE request for uid=scarter,ou=People,dc=example,dc=com
DELETE operation successful for DN uid=scarter,ou=People,dc=example,dc=com
$ ldapsearch --port 1389 --baseDN dc=example,dc=com "(cn=My Static Group)"
dn: cn=My Static Group,ou=Groups,dc=example,dc=com
ou: Groups
objectClass: groupOfNames
objectClass: top
cn: My Static Group
member: uid=ahunter,ou=People,dc=example,dc=com
member: uid=bjensen,ou=People,dc=example,dc=com
member: uid=tmorris,ou=People,dc=example,dc=com</pre><p>By default the referential integrity plugin is configured to manage
 <code class="literal">member</code> and <code class="literal">uniqueMember</code> attributes.
 These attributes take values that are DNs, and are indexed for equality by
 default. Before you add an additional attribute to manage, make sure that
 it has DN syntax and that it is indexed for equality. OpenDJ requires that
 the attribute be indexed because an unindexed search for integrity would
 potentially consume too many of the server's resources. Attribute syntax is
 explained in the chapter on <a href="../admin-guide/index.html#chap-schema" class="link"><em class="citetitle">Managing Schema</em></a>. For instructions on indexing attributes,
 see the section on <a href="../admin-guide/index.html#configure-indexes" class="link"><em class="citetitle">Configuring &amp; Rebuilding Indexes</em></a>.</p><p>You can also configure the referential integrity plugin to check that
 new entries added to groups actually exist in the directory by setting the
 <code class="literal">check-references</code> property to <code class="literal">true</code>. You
 can specify additional criteria once you have activated the check. To ensure
 that entries added must match a filter, set the
 <code class="literal">check-references-filter-criteria</code> to identify the attribute
 and the filter. For example, you can specify that group members must be person
 entries by setting <code class="literal">check-references-filter-criteria</code> to
 <code class="literal">member:(objectclass=person)</code>. To ensure that entries must be
 located in the same naming context, set
 <code class="literal">check-references-scope-criteria</code> to
 <code class="literal">naming-context</code>.</p></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e8631" class="footnote"><p><a href="#d0e8631" class="para"><sup class="para">[8] </sup></a>Name and Optional UID syntax values are a DN optionally
  followed by <code class="literal">#<em class="replaceable"><code>BitString</code></em></code>. The
  <em class="replaceable"><code>BitString</code></em>, such as <code class="literal">'0101111101'B</code>,
  serves to distinguish the entry from another entry having the same DN, which
  can occur when the original entry was deleted and a new entry created with the
  same DN.</p></div></div></div><div lang="en" class="chapter" id="chap-attribute-uniqueness"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;15.&nbsp;Implementing Attribute Value Uniqueness</h1></div></div></div><p>Some attribute values ought to remain unique. If you are using
 <code class="literal">uid</code> values as RDNs to distinguish between millions of
 user entries stored under <code class="literal">ou=People</code>, then you do not
 want your directory to contain two or more identical
 <code class="literal">uid</code> values. If your credit card or mobile number is
 stored as an attribute value on your directory entry, you certainly do not
 want to share that credit card or mobile number with another customer.
 The same is true for your email address.</p><a class="indexterm" name="d0e8881"></a><p>The difficulty for you as directory administrator lies in
 implementing attribute value uniqueness without sacrificing the high
 availability that comes from using OpenDJ's loosely consistent,
 multi-master data replication. Indeed OpenDJ's replication model lets
 you maintain write access during network outages for directory
 applications. Yet, write access during a network outage can result in the
 same, theoretically unique attribute value getting assigned to two different
 entries at once. You do not notice the problem until the network outage
 goes away and replication resumes.</p><p>This chapter shows you how to set up attribute value uniqueness
 in your directory environment.</p><div class="procedure" id="enable-unique-uids"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;15.1.&nbsp;To Enable Unique UIDs</div><p>OpenDJ provides a unique attribute plugin that you configure by using
  the <span class="command"><strong>dsconfig</strong></span> command. By default, the plugin is prepared
  to ensure attribute values are unique for <code class="literal">uid</code>
  attributes.</p><ol class="procedure" type="1"><li class="step"><p>Set the base DN where <code class="literal">uid</code> should have unique
   values, and enable the plugin.</p><pre class="cmdline prettyprint">$ dsconfig
 set-plugin-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --plugin-name "UID Unique Attribute"
 --set base-dn:ou=people,dc=example,dc=com
 --set enabled:true
 --trustAll
 --no-prompt</pre><p>Alternatively, you can specify multiple base DNs for unique values
   across multiple suffixes.</p><pre class="cmdline prettyprint">$ dsconfig
 set-plugin-prop
 --port 4444
 --hostname opendj.example.com
 --bindDn "cn=Directory Manager"
 --bindPassword password
 --plugin-name "UID Unique Attribute"
 --set enabled:true
 --add base-dn:ou=people,dc=example,dc=com
 --add base-dn:ou=people,dc=example,dc=org
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Check that the plugin is working correctly.</p><pre class="cmdline prettyprint">$ cat bjensen.ldif 
dn: uid=ajensen,ou=People,dc=example,dc=com
changetype: modify
add: uid
uid: bjensen

$ ldapmodify
 --defaultAdd
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename bjensen.ldif
Processing MODIFY request for uid=ajensen,ou=People,dc=example,dc=com
MODIFY operation failed
Result Code:  19 (Constraint Violation)
Additional Information:  A unique attribute conflict was detected for \
 attribute uid:  value bjensen already exists in entry
 uid=bjensen,ou=People,dc=example,dc=com</pre><p>If you have set up multiple suffixes, you might try something like
   this.</p><pre class="cmdline prettyprint">$ cat bjensen.ldif 
dn: uid=bjensen,ou=People,dc=example,dc=org
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
cn: Babs
sn: Jensen
uid: bjensen

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename bjensen.ldif
Processing ADD request for uid=bjensen,ou=People,dc=example,dc=org
ADD operation failed
Result Code:  19 (Constraint Violation)
Additional Information:  A unique attribute conflict was detected for attribute
 uid:  value bjensen already exists in entry
 uid=bjensen,ou=People,dc=example,dc=com</pre></li></ol></div></div><div class="procedure" id="enable-unique-attributes"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;15.2.&nbsp;To Enable Unique Values For Other Attributes</div><p>You can also configure the unique attribute plugin for use with
  other attributes, such as <code class="literal">mail</code>, <code class="literal">mobile</code>,
  or attributes you define, for example <code class="literal">cardNumber</code>.</p><ol class="procedure" type="1"><li class="step"><p>Before you set up the plugin, index the attribute for equality.</p></li><li class="step"><p>Set up the plugin configuration for your attribute.</p><pre class="cmdline prettyprint">$ dsconfig
 create-plugin
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --plugin-name "Unique mobile numbers"
 --type unique-attribute
 --set enabled:true
 --set base-dn:ou=people,dc=example,dc=com
 --set type:mobile
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Check that the plugin is working correctly.</p><pre class="cmdline prettyprint">$ cat mobile.ldif
dn: uid=ajensen,ou=People,dc=example,dc=com
changetype: modify
add: mobile
mobile: +1 828 555 1212

dn: uid=bjensen,ou=People,dc=example,dc=com
changetype: modify
add: mobile
mobile: +1 828 555 1212

$ ldapmodify
 --defaultAdd
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename mobile.ldif 
Processing MODIFY request for uid=ajensen,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=ajensen,ou=People,dc=example,dc=com
Processing MODIFY request for uid=bjensen,ou=People,dc=example,dc=com
MODIFY operation failed
Result Code:  19 (Constraint Violation)
Additional Information:  A unique attribute conflict was detected for
 attribute mobile:  value +1 828 555 1212 already exists in entry
 uid=ajensen,ou=People,dc=example,dc=com</pre></li></ol></div></div><div class="procedure" id="unique-attributes-repl"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;15.3.&nbsp;To Ensure Unique Attribute Values With Replication</div><a class="indexterm" name="d0e8956"></a><p>The unique attribute plugin ensures unique attribute values on the
  directory server where the attribute value is updated. If client applications
  separately write the same attribute value at the same time on different
  directory replicas, it is possible that both servers consider the duplicate
  value unique, especially if the network is down between the replicas.</p><ol class="procedure" type="1"><li class="step"><p>Enable the plugin identically on all replicas.</p></li><li class="step"><p>To avoid duplicate values where possible, try one of the following
   solutions.</p><ul class="stepalternatives">
    <li class="step"><p>Use a load balancer or proxy technology to direct all updates
     to the unique attribute to the same directory server.</p><p>The drawback here is the need for an additional component to
     direct the updates to the same server, and to manage failover should that
     server go down.</p></li>
    <li class="step"><p>Configure safe read mode assured replication between replicas
     storing the unique attribute.</p><p>The drawbacks here are the cost of safe read assured replication,
     and the likelihood that assured replication can enter degraded mode during
     a network outage, thus continuing to allow updates during the
     outage.</p></li>
   </ul></li></ol></div></div></div><div lang="en" class="chapter" id="chap-schema"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;16.&nbsp;Managing Schema</h1></div></div></div><a class="indexterm" name="d0e8987"></a><p>Schema definitions describe the data, and especially the object classes
 and attribute types that can be stored in the directory. By default OpenDJ
 conforms strictly to LDAPv3 standards pertaining to schema definitions and
 attribute syntax checking, ensuring that data stored is valid and properly
 formed. Unless your data use only standard schema present in OpenDJ when
 you install, then you must add additional schema definitions to account
 the data your applications stored.</p><p>Out of the box, OpenDJ comes with many standard schema definitions.
 In addition you can update and extend schema definitions while OpenDJ
 is online. As a result you can add new applications requiring additional
 data without stopping your directory service.</p><p>This chapter demonstrates how to change and to extend OpenDJ schema.
 This chapter also identifies the standard schema definitions available when
 you install OpenDJ.</p><div class="section" id="about-schema"><div class="titlepage"><div><div><h2 class="title" style="clear: both">16.1.&nbsp;About Directory Schema</h2></div></div></div><p>Directory schema, described in <a class="link" href="http://tools.ietf.org/html/rfc4512" target="_top">RFC 4512</a>, define
  the kinds of information you find in the directory, and can define how
  the information are related. This chapter focuses primarily on two types
  of directory schema definitions.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><em class="firstterm">Attribute type</em> definitions describe attributes
    of directory entries, such as <code class="literal">givenName</code> or
    <code class="literal">mail</code>.</p><p>Here is an example of an attribute type definition.</p><pre class="codelisting prettyprint"># Attribute type definition
attributeTypes: ( 0.9.2342.19200300.100.1.3 NAME ( 'mail' 'rfc822Mailbox' )
  EQUALITY caseIgnoreIA5Match SUBSTR caseIgnoreIA5SubstringsMatch
  SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} X-ORIGIN 'RFC 4524' )</pre><p>Attribute type definitions start with an object identifier (OID),
    and generally a short name or names that are easier to remember than the
    OID. The attribute type definition can specify how attribute values
    should be collated for sorting, and what syntax they use. The X-ORIGIN
    is an extension to identify where the definition originated. When you
    define your one schema, you likely want to provide an X-ORIGIN to help
    you to track versions of definitions, and where the definitions came
    from.</p></li><li class="listitem"><p><em class="firstterm">Object class</em> definitions identify the
    attribute types that an entry must have, and may have. Examples of
    object classes include <code class="literal">person</code> and
    <code class="literal">organizationalUnit</code>.</p><p>Here is an example of an object class definition.</p><pre class="codelisting prettyprint"># Object class definition
objectClasses: ( 2.5.6.6 NAME 'person' SUP top STRUCTURAL MUST ( sn $ cn )
  MAY ( userPassword $ telephoneNumber $ seeAlso $ description )
  X-ORIGIN 'RFC 4519' )</pre><p>Entries all have an attribute identifying their object classes,
    called <code class="literal">objectClass</code>.</p><p>Object class definitions start with an object identifier (OID), and
    generally a short name that is easier to remember than the OID. The
    definition here says that the person object class inherits from the top
    object class, which is the top-level parent of all object classes. When
    you view the objectclass attribute values on an entry, you see the list
    of object classes that the entry takes. An entry can have one STRUCTURAL
    object class inheritance branch, such as <code class="literal">top</code> -
    <code class="literal">person</code> - <code class="literal">organizationalPerson</code> -
    <code class="literal">inetOrgPerson</code>. Yet entries can have multiple
    AUXILIARY object classes. The object class then defines the attribute
    types that must be included, and the attribute types that may be included
    on entries having the object class.</p></li><li class="listitem"><p>An <em class="firstterm">attribute syntax</em> constrains what directory
    clients can store as attribute values.</p><p>An attribute syntax is identified in an attribute type definition by
    its OID. String-based syntax OIDs are optionally followed by a number, set
    between braces, that represents a minimum upper bound on the number of
    characters in the attribute value. For example, in the attribute type
    definition shown above, the syntax is
    <code class="literal">1.3.6.1.4.1.1466.115.121.1.26{256}</code>. The syntax is an
    IA5 string (composed of characters from the international version of the
    ASCII character set) that can contain at least 256 characters.</p><p>You can find a table matching attribute syntax OIDs with their
    human-readable names in RFC 4517, <a class="link" href="http://tools.ietf.org/html/rfc4517#appendix-A" target="_blank">Appendix A.
    Summary of Syntax Object Identifiers</a>. The RFC describes
    attribute syntaxes in detail. Alternatively, you can see the attribute
    syntaxes that OpenDJ supports by opening the OpenDJ Control Panel and
    browsing to Schema &gt; Manage Schema &gt; Attribute Syntaxes. You can
    also list them by using the <span class="command"><strong>dsconfig</strong></span> command.</p><p>Although attribute syntaxes are often specified in attribute type
    definitions, directory servers do not always check that attribute values
    comply with attribute syntaxes. OpenDJ directory server does tend to
    enforce compliance by default, in particular for certificates, country
    strings, directory strings, JPEG photos, and telephone numbers. The aim
    is to avoid accumulating garbage in your directory data.</p><p>If you are trying unsuccessfully to import non-compliant data from a
    more lenient directory server, you can either clean the data before
    importing it, or if cleaning the data is not an option, read <a class="xref" href="#schema-legacy-support" title="16.3.&nbsp;Relaxing Schema Checking to Import Legacy Data">Section&nbsp;16.3, &#8220;Relaxing Schema Checking to Import Legacy Data&#8221;</a>.</p><p>When creating your own attribute type definitions, use existing
    attribute syntaxes where possible. If you must create your own attribute
    syntax, then consider the extensions in
    <a class="xref" href="#attr-syntax-schema-definition-extensions" title="Extensions for Attribute Syntax Descriptions">Extensions for Attribute Syntax Descriptions</a>.</p></li><li class="listitem"><p>Matching rules determine how the directory server compares attribute
    values to assertion values for LDAP search and LDAP compare
    operations.</p><p>For example, suppose you search with the filter
    <code class="literal">(uid=bjensen)</code>. The assertion value in this case is
    <code class="literal">bjensen</code>.</p><p>OpenDJ has the following schema definition for the user ID
    attribute.</p><pre class="codelisting prettyprint">attributeTypes: ( 0.9.2342.19200300.100.1.1 NAME ( 'uid' 'userid' )
 EQUALITY caseIgnoreMatch SUBSTR caseIgnoreSubstringsMatch
 SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{256} X-ORIGIN 'RFC 4519' )</pre><p>When finding an equality match for your search, OpenDJ uses the
    <code class="literal">caseIgnoreMatch</code> matching rule to check for user ID
    attribute values that equal <code class="literal">bjensen</code> without regard
    to case.</p><p>You can see the matching rules that OpenDJ supports by opening the
    OpenDJ Control Panel and browsing to Schema &gt; Manage Schema &gt;
    Matching Rules. Notice that many matching rules support string collation
    in languages other than English. You can also list matching rules by
    using the <span class="command"><strong>dsconfig</strong></span> command.</p><p>As you can read in examples like, <a href="../admin-guide/index.html#extensible-match-search" class="link"><em class="citetitle">Search: List
    Active Accounts</em></a>, OpenDJ matching rules enable
    directory clients to do more interesting searches than simply comparing
    strings. That example shows how to search for users who have
    authenticated in the last three months.</p></li></ul></div><p>OpenDJ exposes schema over protocol through the
  <code class="literal">cn=schema</code> entry. OpenDJ stores the schema definitions
  corresponding to the entry in LDIF under the
  <code class="filename">config/schema/</code> directory. Many standard definitions
  and definitions pertaining to the server configuration are included at
  installation time.</p></div><div class="section" id="update-schema"><div class="titlepage"><div><div><h2 class="title" style="clear: both">16.2.&nbsp;Updating Directory Schema</h2></div></div></div><a class="indexterm" name="d0e9133"></a><p>OpenDJ directory server is designed to permit updating the list of
  directory schema definitions while the server is running. As a result you can
  add support for new applications that require new attributes or new kinds
  of entries without interrupting the directory service. OpenDJ also replicates
  schema definitions, so the schema you add on one replica are propagated to
  other replicas without you having to intervene manually.</p><p>As it is easy to introduce typos into schema definitions, the
  best way to start defining your own schema is with the OpenDJ Control
  Panel. Open the Control Panel &gt; Schema &gt; Manage Schema window to
  get started creating your custom object classes and attribute types.</p><div class="mediaobject" align="center" id="figure-manage-schema"><a class="fancybox" href="images/Manage-Schema.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_Manage-Schema.png" align="middle"></a></div><p>As object classes reference attribute types, you first create
  custom attribute types, and then create the object class that references
  the attribute types.</p><p>Create a custom attribute type through the New Attribute window.</p><div class="mediaobject" align="center" id="figure-custom-attrtype"><a class="fancybox" href="images/custom-attrtype.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_custom-attrtype.png" align="middle"></a></div><p>Using the New Object Class window, create an auxiliary object class
  that allows your new custom attribute type. You set the type to Auxiliary
  under Extra Options.</p><div class="mediaobject" align="center" id="figure-custom-objclass"><a class="fancybox" href="images/custom-objclass.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_custom-objclass.png" align="middle"></a></div><p>When you finish, the schema changes show up by default in the file
  <code class="filename">config/schema/99-user.ldif</code>. Notice that the file name
  starts with a number, 99. This number is larger than the numbers prefixing
  other schema file names. In fact, OpenDJ reads the schema files in sorted
  order, reading schema definitions as they occur. If OpenDJ reads a schema
  definition for an object class before it has read the definitions of the
  attribute types mentioned in the object class definition, then it displays
  an error. Therefore, when naming your schema file, make sure the name appears
  in the sorted list of file names <span class="emphasis"><em>after</em></span> all the schema
  files containing definitions that your schema definitions depends on. The
  default file name for your schema, <code class="filename">99-user.ldif</code>, ensures
  that your definitions load only after all of the schema files installed by
  default.</p><p>You can create this file in the lab using the Control Panel, and then
  apply the definitions in production by adapting the content for use with the
  <span class="command"><strong>ldapmodify</strong></span> command, for example.</p><pre class="cmdline prettyprint">$ cat config/schema/99-user.ldif 
dn: cn=schema
objectClass: top
objectClass: ldapSubentry
objectClass: subschema
cn: schema
attributeTypes: ( temporary-fake-attr-id NAME 'myCustomAttribute' EQUALITY case
 IgnoreMatch ORDERING caseIgnoreOrderingMatch SUBSTR caseIgnoreSubstrings
 Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 USAGE userApplications )
objectClasses: ( temporary-fake-oc-id NAME 'myCustomObjClass
 ' SUP top AUXILIARY MAY myCustomAttribute )
modifiersName: cn=Directory Manager,cn=Root DNs,cn=config
modifyTimestamp: 20110620095948Z
</pre><p>To test your schema definition, add the object class and attribute
  to an entry.</p><pre class="cmdline prettyprint">$ cat custom-attr.ldif 
dn: uid=bjensen,ou=People,dc=example,dc=com
changetype: modify
add: objectClass
objectClass: myCustomObjClass
-
add: myCustomAttribute
myCustomAttribute: Testing 1, 2, 3...

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename custom-attr.ldif
Processing MODIFY request for uid=bjensen,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=bjensen,ou=People,dc=example,dc=com
$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 uid=bjensen
 myCustomAttribute
dn: uid=bjensen,ou=People,dc=example,dc=com
myCustomAttribute: Testing 1, 2, 3...
</pre><p>In addition to supporting the standard schema definitions that are
  described in <a class="link" href="http://tools.ietf.org/html/rfc4512#section-4.1" target="_top">RFC 4512, section 4.1</a>, OpenDJ also supports the following extensions
  that you can use when adding your own definitions.</p><div class="variablelist" id="general-schema-definition-extensions"><div class="variablelist-title">Extensions for All Schema Definitions</div><a class="indexterm" name="d0e9189"></a><dl class="variablelist"><dt><span class="term"><code class="literal">X-ORIGIN</code></span></dt><dd><p>Used to specify the origin of a schema element. Examples include
     <code class="literal">X-ORIGIN 'RFC 4519'</code>, <code class="literal">X-ORIGIN
     'draft-ietf-ldup-subentry'</code>, and <code class="literal">X-ORIGIN
     'OpenDJ Directory Server'</code>.</p></dd><dt><span class="term"><code class="literal">X-SCHEMA-FILE</code></span></dt><dd><p>Used to specify the relative path to the schema file containing the
     schema element such as <code class="literal">X-SCHEMA-FILE '00-core.ldif'</code>.
     Schema definitions are located by default in
     <code class="filename">/path/to/opendj/config/schema/*.ldif</code> files.</p></dd></dl></div><div class="variablelist" id="attr-syntax-schema-definition-extensions"><div class="variablelist-title">Extensions for Attribute Syntax Descriptions</div><a class="indexterm" name="d0e9226"></a><dl class="variablelist"><dt><span class="term"><code class="literal">X-ENUM</code></span></dt><dd><p>Used to define a syntax that is an enumeration of values. The
     following attribute syntax description defines a syntax allowing four
     possible attribute values for example.</p><pre class="codelisting prettyprint">ldapSyntaxes: ( security-label-syntax-oid DESC 'Security Label'
 X-ENUM ( 'top-secret' 'secret' 'confidential' 'unclassified' ) )</pre></dd><dt><span class="term"><code class="literal">X-PATTERN</code></span></dt><dd><p>Used to define a syntax based on a regular expression pattern, where
     valid regular expressions are those defined for <a class="link" href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html" target="_blank"><code class="literal">java.util.regex.Pattern</code></a>. The following attribute
     syntax description defines a simple, lenient SIP phone URI syntax
     check.</p><pre class="codelisting prettyprint">ldapSyntaxes: ( simple-sip-uri-syntax-oid DESC 'Lenient SIP URI Syntax'
 X-PATTERN '^sip:[a-zA-Z0-9.]+@[a-zA-Z0-9.]+(:[0-9]+)?$' )</pre></dd><dt><span class="term"><code class="literal">X-SUBST</code></span></dt><dd><p>Used as a fallback to substitute a defined syntax for one that
     OpenDJ does not implement. The following example substitutes Directory
     String syntax, which has OID 1.3.6.1.4.1.1466.115.121.1.15, for a syntax
     that OpenDJ does not implement.</p><pre class="codelisting prettyprint">ldapSyntaxes: ( non-implemented-syntax-oid DESC 'Not Implemented in OpenDJ'
 X-SUBST '1.3.6.1.4.1.1466.115.121.1.15' )</pre></dd></dl></div><div class="variablelist" id="attr-type-schema-definition-extensions"><div class="variablelist-title">Extension for Attribute Type Descriptions</div><a class="indexterm" name="d0e9268"></a><dl class="variablelist"><dt><span class="term"><code class="literal">X-APPROX</code></span></dt><dd><p><code class="literal">X-APPROX</code> is used to specify the approximate
     matching rule to use for a given attribute type when not using the default,
     which is the <a class="link" href="http://aspell.net/metaphone/" target="_blank">double metaphone approximate match</a>.</p></dd></dl></div></div><div class="section" id="schema-legacy-support"><div class="titlepage"><div><div><h2 class="title" style="clear: both">16.3.&nbsp;Relaxing Schema Checking to Import Legacy Data</h2></div></div></div><a class="indexterm" name="d0e9288"></a><p>By default, OpenDJ accepts data that follows the standards in terms of
  what is allowed and what is rejected. You might have legacy data from a
  directory service that is more lenient, allowing non-standard constructions
  such as multiple structural object classes per entry, not checking attribute
  value syntax, or even not respecting schema definitions.</p><p>For example, when importing data with multiple structural object
  classes defined per entry, you can relax schema checking to warn rather
  than reject entries having this issue.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set single-structural-objectclass-behavior:warn
 --trustAll
 --no-prompt</pre><p>You can allow attribute values that do not respect the defined syntax
  with the <span class="command"><strong>dsconfig</strong></span> command as well.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set invalid-attribute-syntax-behavior:warn
 --trustAll
 --no-prompt</pre><p>You can even turn off schema checking altogether, although turning
  off schema checking only really makes sense when you are absolutely sure
  that the entries and attribute values respect the schema definitions, and
  you simply want to turn off schema checking temporarily to speed up import
  processing.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set check-schema:false
 --trustAll
 --no-prompt</pre></div><div class="section" id="standard-schema"><div class="titlepage"><div><div><h2 class="title" style="clear: both">16.4.&nbsp;Standard Schema Included With OpenDJ</h2></div></div></div><a class="indexterm" name="d0e9316"></a><p>The following files under <code class="filename">config/schema/</code>
  contain schema definitions out of the box.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
     <code class="filename">00-core.ldif</code>
    </span></dt><dd><p>This file contains a core set of attribute type and objectlass
     definitions from several standard LDAP documents, including
     draft-ietf-boreham-numsubordinates, draft-findlay-ldap-groupofentries,
     draft-furuseth-ldap-untypedobject, draft-good-ldap-changelog,
     draft-ietf-ldup-subentry, draft-wahl-ldap-adminaddr, RFC 1274, RFC 2079,
     RFC 2256, RFC 2798, RFC 3045, RFC 3296, RFC 3671, RFC 3672, RFC 4512,
     RFC 4519, RFC 4523, RFC 4524, RFC 4530, RFC 5020, and X.501.</p></dd><dt><span class="term">
     <code class="filename">01-pwpolicy.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from
     draft-behera-ldap-password-policy, which defines a mechanism for storing
     password policy information in an LDAP directory server.</p></dd><dt><span class="term">
     <code class="filename">02-config.ldif</code>
    </span></dt><dd><p>This file contains the attribute type and objectclass definitions
     for use with the directory server configuration.</p></dd><dt><span class="term">
     <code class="filename">03-changelog.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from
     draft-good-ldap-changelog, which defines a mechanism for storing
     information about changes to directory server data.</p></dd><dt><span class="term">
     <code class="filename">03-rfc2713.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from RFC 2713, which defines a
     mechanism for storing serialized Java objects in the directory
     server.</p></dd><dt><span class="term">
     <code class="filename">03-rfc2714.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from RFC 2714, which defines a
     mechanism for storing CORBA objects in the directory server.</p></dd><dt><span class="term">
     <code class="filename">03-rfc2739.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from RFC 2739, which defines a
     mechanism for storing calendar and vCard objects in the directory server.
     Note that the definition in RFC 2739 contains a number of errors, and this
     schema file has been altered from the standard definition in order to fix
     a number of those problems.</p></dd><dt><span class="term">
     <code class="filename">03-rfc2926.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from RFC 2926, which defines a
     mechanism for mapping between Service Location Protocol (SLP)
     advertisements and LDAP.</p></dd><dt><span class="term">
     <code class="filename">03-rfc3112.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from RFC 3112, which defines
     the authentication password schema.</p></dd><dt><span class="term">
     <code class="filename">03-rfc3712.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from RFC 3712, which defines a
     mechanism for storing printer information in the directory server.</p></dd><dt><span class="term">
     <code class="filename">03-uddiv3.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from RFC 4403,
     which defines a mechanism for storing UDDIv3 information in the directory
     server.</p></dd><dt><span class="term">
     <code class="filename">04-rfc2307bis.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from the
     draft-howard-rfc2307bis specification, used to store naming service
     information in the directory server.</p></dd><dt><span class="term">
     <code class="filename">05-rfc4876.ldif</code>
    </span></dt><dd><p>This file contains schema definitions from RFC 4876, which defines
     a schema for storing Directory User Agent (DUA) profiles and preferences
     in the directory server.</p></dd><dt><span class="term">
     <code class="filename">05-samba.ldif</code>
    </span></dt><dd><p>This file contains schema definitions required when storing Samba
     user accounts in the directory server.</p></dd><dt><span class="term">
     <code class="filename">05-solaris.ldif</code>
    </span></dt><dd><p>This file contains schema definitions required for Solaris and
     OpenSolaris LDAP naming services.</p></dd><dt><span class="term">
     <code class="filename">06-compat.ldif</code>
    </span></dt><dd><p>This file contains the attribute type and objectclass definitions
     for use with the directory server configuration.</p></dd></dl></div></div></div><div lang="en" class="chapter" id="chap-referrals"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;17.&nbsp;Working With Referrals</h1></div></div></div><a class="indexterm" name="d0e9475"></a><p><em class="firstterm">Referrals</em> point directory clients to another
 directory container, which can be another directory server running elsewhere,
 or another container on the same server. The client receiving a referral must
 then connect to the other container to complete the request.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>Some clients follow referrals on your behalf by default. The OpenDJ
  <span class="command"><strong>ldapsearch</strong></span> command does not follow referrals.</p></div></div><p>Referrals are used for example when a some directory data are temporarily
 unavailable due to maintenance. Referrals can also be used when a container
 holds only some of the directory data for a suffix and points to other
 containers for branches whose data is not available locally.</p><p>This chapter demonstrates how to add and remove referrals with the
 <span class="command"><strong>ldapmodify</strong></span> command. You can also use the Manage Entries
 window of the Control Panel to handle referrals.</p><div class="section" id="referrals-overview"><div class="titlepage"><div><div><h2 class="title" style="clear: both">17.1.&nbsp;About Referrals</h2></div></div></div><p>Referrals are implemented as entries with <a class="link" href="http://tools.ietf.org/html/rfc4516" target="_top">LDAP URL</a>
  <code class="literal">ref</code> attribute values that point elsewhere. The
  <code class="literal">ref</code> attribute type is required by the
  <code class="literal">referral</code> object class. The <code class="literal">referral</code>
  object class is structural, however, and therefore cannot by default be added
  to an entry that already has a structural object class defined. When adding
  a <code class="literal">ref</code> attribute type to&nbsp;an existing entry, you can use
  the <code class="literal">extensibleObject</code> auxiliary object class.</p><p>When a referral is set, OpenDJ returns the referral to client
  applications requesting the entry or child entries affected. Client
  applications must be capable of following the referral returned. When the
  directory server responds for example to your search with referrals to one
  or more LDAP URLs, your client then constructs new searches from the LDAP
  URLs returned, and tries again.</p></div><div class="section" id="managing-referrals"><div class="titlepage"><div><div><h2 class="title" style="clear: both">17.2.&nbsp;Managing Referrals</h2></div></div></div><p>To create an LDAP referral either you create a referral entry, or
  you add the <code class="literal">extensibleObject</code> object class and the
  <code class="literal">ref</code> attribute with an LDAP URL to an existing entry.
  This section demonstrates use of the latter approach.</p><pre class="cmdline prettyprint">$ cat referral.ldif 
dn: ou=People,dc=example,dc=com
changetype: modify
add: objectClass
objectClass: extensibleObject
-
add: ref
ref: ldap://opendj.example.com:2389/ou=People,dc=example,dc=com

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename referral.ldif
Processing MODIFY request for ou=People,dc=example,dc=com
MODIFY operation successful for DN ou=People,dc=example,dc=com</pre><p>The example above adds a referral to
  <code class="literal">ou=People,dc=example,dc=com</code>. OpenDJ can now return
  a referral for operations under the People organizational unit.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=bjensen description

SearchReference(referralURLs=
 {ldap://opendj.example.com:2389/ou=People,dc=example,dc=com??sub?})

$ ldapsearch --port 1389 --baseDN dc=example,dc=com ou=people

SearchReference(referralURLs=
 {ldap://opendj.example.com:2389/ou=People,dc=example,dc=com??sub?})</pre><p>To access the entry instead of the referral, use the Manage DSAIT
  control.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 --control ManageDSAIT:true
 ou=people
 ref
dn: ou=People,dc=example,dc=com
ref: ldap://opendj.example.com:2389/ou=People,dc=example,dc=com

$ cat people.ldif 
dn: ou=People,dc=example,dc=com
changetype: modify
delete: ref
ref: ldap://opendj.example.com:2389/ou=People,dc=example,dc=com

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename people.ldif 
Processing MODIFY request for ou=People,dc=example,dc=com
MODIFY operation successful for DN ou=People,dc=example,dc=com
A referral entry ou=People,dc=example,dc=com indicates that the operation must
 be processed at a different server
[ldap://opendj.example.com:2389/ou=People,dc=example,dc=com]
$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --control ManageDSAIT
 --filename people.ldif
Processing MODIFY request for ou=People,dc=example,dc=com
MODIFY operation successful for DN ou=People,dc=example,dc=com
$ ldapsearch --port 1389 --baseDN dc=example,dc=com ou=people
dn: ou=People,dc=example,dc=com
ou: People
objectClass: organizationalunit
objectClass: extensibleObject
objectClass: top</pre><p>The example above shows how to remove the referral using the Manage
  DSAIT control with the <span class="command"><strong>ldapmodify</strong></span> command.</p></div></div><div lang="en" class="chapter" id="chap-virtual-attrs-collective-attrs"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;18.&nbsp;Working With Virtual and Collective Attributes</h1></div></div></div><p>OpenDJ supports virtual attributes with dynamically generated values.
 Virtual attributes are used by the server. You can also define your own.
 OpenDJ also supports standard collective attributes as described in
 <a class="link" href="http://tools.ietf.org/html/rfc3671" target="_top">RFC 3671</a>,
 allowing entries to share common, read-only attribute values.</p><p>This chapter demonstrates how to define virtual and collective
 attributes, showing common solutions as examples of their use.</p><div class="section" id="virtual-attributes"><div class="titlepage"><div><div><h2 class="title" style="clear: both">18.1.&nbsp;Virtual Attributes</h2></div></div></div><a class="indexterm" name="d0e9568"></a><p>OpenDJ defines a number of virtual attributes by default.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">entryDN</code></span></dt><dd><p>The value is the DN of the entry.</p></dd><dt><span class="term"><code class="literal">entryUUID</code></span></dt><dd><p>Provides a universally unique identifier for the
    entry.</p></dd><dt><span class="term"><code class="literal">etag</code></span></dt><dd><p>Entity tag as defined in <a class="link" href="http://tools.ietf.org/html/rfc2616#section-3.11" target="_blank">RFC 2616</a>, useful for checking whether an entry has changed since
     you last read it from the directory.</p></dd><dt><span class="term"><code class="literal">hasSubordinates</code></span></dt><dd><p>Boolean. Whether the entry has children.</p></dd><dt><span class="term"><code class="literal">numSubordinates</code></span></dt><dd><p>Provides the number of direct child entries.</p></dd><dt><span class="term"><code class="literal">isMemberOf</code></span></dt><dd><p>Identifies groups the entry belongs to.</p><p>By default OpenDJ generates <code class="literal">isMemberOf</code> on user
     entries (entries that have the object class <code class="literal">person</code>), and
     on group entries (entries that have the object class
     <code class="literal">groupOfNames</code>, <code class="literal">groupOfUniqueNames</code>, or
     <code class="literal">groupOfEntries</code>). You can change this by editing
     the filter property of the <code class="literal">isMemberOf</code> virtual
     attribute configuration.</p></dd><dt><span class="term"><code class="literal">member</code></span></dt><dd><p>Generated for virtual static groups.</p></dd><dt><span class="term"><code class="literal">uniqueMember</code></span></dt><dd><p>Generated for virtual static groups.</p></dd><dt><span class="term"><code class="literal">pwdPolicySubentry</code></span></dt><dd><p>Identifies the password policy that applies to the
     entry.</p><p>By default OpenDJ assigns <em class="firstterm">root DN</em> users
     the password policy with DN <code class="literal">cn=Root Password Policy,cn=Password
     Policies,cn=config</code> and regular users the password policy with DN
     <code class="literal">cn=Default Password Policy,cn=Password
     Policies,cn=config</code>. See <a href="../admin-guide/index.html#chap-pwd-policy" class="link"><em class="citetitle">Configuring
     Password Policy</em></a> for information on configuring and
     assigning password policies.</p></dd><dt><span class="term"><code class="literal">subschemaSubentry</code></span></dt><dd><p>References the schema definitions.</p></dd><dt><span class="term"><code class="literal">collectiveAttributeSubentries</code></span></dt><dd><p>References applicable collective attribute
    definitions.</p></dd><dt><span class="term"><code class="literal">governingStructureRule</code></span></dt><dd><p>References the rule on what type of subordinates the entry
    can have.</p></dd><dt><span class="term"><code class="literal">structuralObjectClass</code></span></dt><dd><p>References the structural object class for the
    entry.</p></dd></dl></div><p>These virtual attributes are typically operational, so you get them
  back from a search only when you request them.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com dc=example
dn: dc=example,dc=com
dc: example
objectClass: domain
objectClass: top

$ ldapsearch --port 1389 --baseDN dc=example,dc=com dc=example numSubordinates
dn: dc=example,dc=com
numSubordinates: 4
</pre><a class="indexterm" name="d0e9708"></a><p>You can use the existing virtual attribute types to create your
  own virtual attributes, and you can also use the
  <code class="literal">user-defined</code> type to create your own. The virtual
  attribute is defined by the server configuration, which is not
  replicated.</p><pre class="cmdline prettyprint">$ dsconfig
 create-virtual-attribute
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --name "Served By Description"
 --type user-defined
 --set enabled:true
 --set attribute-type:description
 --set base-dn:dc=example,dc=com
 --set value:"Served by OpenDJ.Example.com"
 --trustAll
 --no-prompt
$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=bjensen description
dn: uid=bjensen,ou=People,dc=example,dc=com
description: Served by OpenDJ.Example.com
</pre><p>Collective attributes cover many use cases better than virtual
  attributes.</p></div><div class="section" id="collective-attributes"><div class="titlepage"><div><div><h2 class="title" style="clear: both">18.2.&nbsp;Collective Attributes</h2></div></div></div><a class="indexterm" name="d0e9726"></a><p>Collective attributes provide a standard mechanism for defining
  attributes that appear on all the entries in a subtree potentially filtered
  by object class. Standard collective attribute type names have the prefix
  <code class="literal">c-</code>.</p><p>OpenDJ extends collective attributes to make them easier to use.
  You can define any OpenDJ attribute as collective using the
  <code class="literal">;collective</code> attribute option. You can use LDAP filters
  in your subtree specification for fine-grained control over which entries
  have the collective attributes.</p><p>You can have entries inherit attributes from other entries using
  collective attributes. You establish the relationship between entries either
  by specifying another attribute of the entry that specifies the DN of the
  entry from which to inherit the attributes, or by specifying how to construct
  the RDN of the entry from which to inherit the attributes.</p><div class="itemizedlist"><p><a href="../admin-guide/index.html#change-group-privileges" class="link"><em class="citetitle">To Add Privileges
   For a Group of Administrators</em></a> demonstrates setting
   administrative privileges in OpenDJ using collective attributes. The
   following examples demonstrate additional ways to use collective
   attributes in OpenDJ.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="#example-collective-attrs-cos" title="Example&nbsp;18.1.&nbsp;Class of Service With Collective Attributes">Example&nbsp;18.1, &#8220;Class of Service With Collective Attributes&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#example-dept-from-manager" title="Example&nbsp;18.2.&nbsp;Inheriting an Attribute From the Manager's Entry">Example&nbsp;18.2, &#8220;Inheriting an Attribute From the Manager's Entry&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="#example-inherit-from-locality" title="Example&nbsp;18.3.&nbsp;Inheriting Attributes From the Locality">Example&nbsp;18.3, &#8220;Inheriting Attributes From the Locality&#8221;</a></p></li></ul></div><div class="example" id="example-collective-attrs-cos"><div class="example-title">Example&nbsp;18.1.&nbsp;Class of Service With Collective Attributes</div><div class="example-contents"><p>This example defines attributes that specify services available to
   a user depending on that user's service level.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>The following example depends on the <code class="literal">cos</code> object
     class, and the <code class="literal">classOfService</code> attribute type defined but
     commented out in the <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank"><code class="filename">Example.ldif</code></a> file imported as sample data. To try this
     example for yourself, add the attribute type and object class definitions
     in comments near the top of the file, and then uncomment the
     <code class="literal">objectClass: cos</code> and <code class="literal">classOfService</code>
     attribute lines in <code class="filename">Example.ldif</code> before importing
     the data into OpenDJ.</p></div></div><p>This example positions collective attributes that depend on the
    <code class="literal">classOfService</code> attribute values.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For entries with <code class="literal">classOfService: bronze</code>,
      <code class="literal">mailQuota</code> is set to 1 GB, and
      <code class="literal">diskQuota</code> is set to 10 GB.</p></li><li class="listitem"><p>For entries with <code class="literal">classOfService: silver</code>,
      <code class="literal">mailQuota</code> is set to 5 GB, and
      <code class="literal">diskQuota</code> is set to 50 GB.</p></li><li class="listitem"><p>For entries with <code class="literal">classOfService: gold</code>,
      <code class="literal">mailQuota</code> is set to 10 GB, and
      <code class="literal">diskQuota</code> is set to 100 GB.</p></li></ul></div><p>You define collective attributes in the user data using a subentry.
    In other words, collective attributes can be replicated. Collective
    attributes use attributes defined in the directory schema. First, add the
    <code class="literal">mailQuote</code> and <code class="literal">diskQuota</code> attributes,
    and adjust the definition of the <code class="literal">cos</code> object class to
    allow the two quota attributes.</p><pre class="cmdline prettyprint">$ cat quotas.ldif 
dn: cn=schema
changetype: modify
add: attributeTypes
attributeTypes: ( example-class-of-service-attribute-type NAME 'classOfService
 ' EQUALITY caseIgnoreMatch ORDERING caseIgnoreOrderingMatch SUBSTR caseIgnore
 SubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SINGLE-VALUE USAGE user
 Applications X-ORIGIN 'OpenDJ Documentation Examples' )
-
add: attributeTypes
attributeTypes: ( example-class-of-service-disk-quota NAME 'diskQuota
 ' EQUALITY caseIgnoreMatch ORDERING caseIgnoreOrderingMatch SUBSTR case
 IgnoreSubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 USAGE user
 Applications X-ORIGIN 'OpenDJ Documentation Examples' )
-
add: attributeTypes
attributeTypes: ( example-class-of-service-mail-quota NAME 'mailQuota
 ' EQUALITY caseIgnoreMatch ORDERING caseIgnoreOrderingMatch SUBSTR case
 IgnoreSubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 USAGE user
 Applications X-ORIGIN 'OpenDJ Documentation Examples' )
-
add: objectClasses
objectClasses: ( example-class-of-service-object-class NAME 'cos' SUP top AUX
 ILIARY MAY ( classOfService $ diskQuota $ mailQuota ) X-ORIGIN 'OpenDJ Doc
 umentation Examples' )

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename quotas.ldif
Processing MODIFY request for cn=schema
MODIFY operation successful for DN cn=schema</pre><p>Use the following collective attribute definitions to set the quotas
    depending on class of service.</p><pre class="codelisting prettyprint"># cos.ldif: quotas by class of service
dn: cn=Bronze Class of Service,dc=example,dc=com
objectClass: collectiveAttributeSubentry
objectClass: extensibleObject
objectClass: subentry
objectClass: top
cn: Bronze Class of Service
diskQuota;collective: 10 GB
mailQuota;collective: 1 GB
subtreeSpecification: { base "ou=People", specificationFilter "(classOfService=
 bronze)" }

dn: cn=Silver Class of Service,dc=example,dc=com
objectClass: collectiveAttributeSubentry
objectClass: extensibleObject
objectClass: subentry
objectClass: top
cn: Silver Class of Service
diskQuota;collective: 50 GB
mailQuota;collective: 5 GB
subtreeSpecification: { base "ou=People", specificationFilter "(classOfService=
 silver)" }

dn: cn=Gold Class of Service,dc=example,dc=com
objectClass: collectiveAttributeSubentry
objectClass: extensibleObject
objectClass: subentry
objectClass: top
cn: Gold Class of Service
diskQuota;collective: 100 GB
mailQuota;collective: 10 GB
subtreeSpecification: { base "ou=People", specificationFilter "(classOfService=
 gold)" }
</pre><p>You can add the collective attribute subentries by using the
    <span class="command"><strong>ldapmodify</strong></span> command.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename cos.ldif
Processing ADD request for cn=Bronze Class of Service,dc=example,dc=com
ADD operation successful for DN cn=Bronze Class of Service,dc=example,dc=com
Processing ADD request for cn=Silver Class of Service,dc=example,dc=com
ADD operation successful for DN cn=Silver Class of Service,dc=example,dc=com
Processing ADD request for cn=Gold Class of Service,dc=example,dc=com
ADD operation successful for DN cn=Gold Class of Service,dc=example,dc=com</pre><p>With the collective attributes defined, you can see the results on
    user entries.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 uid=bjensen
 classOfService mailQuota diskQuota
dn: uid=bjensen,ou=People,dc=example,dc=com
mailQuota: 1 GB
classOfService: bronze
diskQuota: 10 GB

$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 uid=kvaughan
 classOfService mailQuota diskQuota
dn: uid=kvaughan,ou=People,dc=example,dc=com
mailQuota: 5 GB
classOfService: silver
diskQuota: 50 GB

$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 uid=scarter
 classOfService mailQuota diskQuota
dn: uid=scarter,ou=People,dc=example,dc=com
mailQuota: 10 GB
classOfService: gold
diskQuota: 100 GB</pre></div></div><br class="example-break"><div class="example" id="example-dept-from-manager"><div class="example-title">Example&nbsp;18.2.&nbsp;Inheriting an Attribute From the Manager's Entry</div><div class="example-contents"><p>This example demonstrates how to have OpenDJ set an employee's
   department number using the manager's department number. To try the example,
   first import <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank"><code class="filename">Example.ldif</code></a> into OpenDJ in
   order to load the appropriate sample data.</p><p>For this example the relationship between employee entries and manager
   entries is based on the manager attributes on employee entries. Each
   <code class="literal">manager</code> attribute on an employee's entry specifies the
   DN of the manager's entry. OpenDJ retrieves the department number from the
   manager's entry to populate the attribute on the employee's entry.</p><p>The collective attribute subentry that specifies the relationship
   looks like this:</p><pre class="codelisting prettyprint">dn: cn=Inherit Department Number From Manager,dc=example,dc=com
objectClass: top
objectClass: subentry
objectClass: inheritedCollectiveAttributeSubentry
objectClass: inheritedFromDNCollectiveAttributeSubentry
cn: Inherit Department Number From Manager
subtreeSpecification: { base "ou=People" }
inheritFromDNAttribute: manager
inheritAttribute: departmentNumber

</pre><p>This entry specifies that users inherit department number from their
   manager.</p><p>As seen in <code class="filename">Example.ldif</code>, Babs Jensen's manager
   is Torrey Rigden.</p><pre class="codelisting prettyprint">dn: uid=bjensen,ou=People,dc=example,dc=com
manager: uid=trigden, ou=People, dc=example,dc=com</pre><p>Torrey's department number is 3001.</p><pre class="codelisting prettyprint">dn: uid=trigden,ou=People,dc=example,dc=com
departmentNumber: 3001</pre><p>Babs inherits her department number from Torrey.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=bjensen
 departmentNumber
dn: uid=bjensen,ou=People,dc=example,dc=com
departmentNumber: 3001</pre></div></div><br class="example-break"><div class="example" id="example-inherit-from-locality"><div class="example-title">Example&nbsp;18.3.&nbsp;Inheriting Attributes From the Locality</div><div class="example-contents"><p>This example demonstrates how to have OpenDJ set a user's language
   preferences and street address based on locality. To try the example, first
   import <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank"><code class="filename">Example.ldif</code></a> into OpenDJ in
   order to load the appropriate sample data.</p><p>For this example the relationship between entries is based on locality.
   The collective attribute subentry specifies how to construct the RDN of the
   object holding the attribute values to inherit.</p><pre class="codelisting prettyprint">dn: cn=Inherit From Locality,dc=example,dc=com
objectClass: top
objectClass: subentry
objectClass: inheritedCollectiveAttributeSubentry
objectClass: inheritedFromRDNCollectiveAttributeSubentry
cn: Inherit From Locality
subtreeSpecification: { base "ou=People" }
inheritFromBaseRDN: ou=Locations
inheritFromRDNAttribute: l
inheritFromRDNType: l
inheritAttribute: preferredLanguage
inheritAttribute: street
collectiveConflictBehavior: real-overrides-virtual

</pre><p>This specifies that the RDN of the entry from which to inherit
   attributes is like <code class="literal">l=<em class="replaceable"><code>localityName</code></em>,ou=Locations</code>, where <em class="replaceable"><code>localityName</code></em> is the value of the <code class="literal">l</code>
   (<code class="literal">localityName</code>) attribute on the user's entry.</p><p>In other words, if the user's entry has <code class="literal">l: Bristol</code>,
   then the RDN of the entry from which to inherit attributes starts with
   <code class="literal">l=Bristol,ou=Locations</code>. The actual entry looks like
   this:</p><pre class="codelisting prettyprint">dn: l=Bristol,ou=Locations,dc=example,dc=com
objectClass: top
objectClass: locality
objectClass: extensibleObject
l: Bristol
street: 60 Queen Square
preferredLanguage: en-gb

</pre><p>The subentry also specifies two attributes to inherit for preferred
   language and street address.</p><p>The object class <code class="literal">extensibleObject</code> is added to allow
   the entry to take a preferred language.<a href="#ftn.d0e9946" class="footnote"><sup class="footnote" id="d0e9946">[9]</sup></a></p><p>Notice the last line of the collective attribute subentry:</p><pre class="literallayout">collectiveConflictBehavior: real-overrides-virtual</pre><p>This line says that if a collective attribute clashes with a real
   attribute, the real value takes precedence over the virtual, collective
   value. You can also set <code class="literal">collectiveConflictBehavior</code> to
   <code class="literal">virtual-overrides-real</code> for the opposite precedence, or to
   <code class="literal">merge-real-and-virtual</code> to keep both sets of values.</p><p>Here, users can set their own language preferences. When users set
   language preferences manually, the collective attribute subentry is
   configured to give the user's settings precedence over the locality-based
   setting, which is only a default guess.</p><p>Sam Carter is located in Bristol. Sam has specified no preferred
   languages.</p><pre class="codelisting prettyprint">dn: uid=scarter,ou=People,dc=example,dc=com
l: Bristol</pre><p>Sam inherits both the street address and also preferred language from
   the Bristol locality.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=scarter
 preferredLanguage street
dn: uid=scarter,ou=People,dc=example,dc=com
preferredLanguage: en-gb
street: 60 Queen Square</pre><p>Babs's locality is San Francisco. Babs prefers English, but also knows
   Korean.</p><pre class="codelisting prettyprint">dn: uid=bjensen,ou=People,dc=example,dc=com
preferredLanguage: en, ko;q=0.8
l: San Francisco</pre><p>Babs inherits the street address from the San Francisco locality, but
   keeps her language preferences.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN dc=example,dc=com uid=bjensen
 preferredLanguage street
dn: uid=bjensen,ou=People,dc=example,dc=com
preferredLanguage: en, ko;q=0.8
street: 500 3rd Street</pre></div></div><br class="example-break"></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e9946" class="footnote"><p><a href="#d0e9946" class="para"><sup class="para">[9] </sup></a>The object class
   <code class="literal">extensibleObject</code> means, "Let me add whatever attributes
   I want." It is usually better practice to add your own auxiliary object class
   if you need to decorate an entry with more attributes. The shortcut is taken
   here as the focus of this example is not schema extension, but instead how
   to use collective attributes.</p></div></div></div><div lang="en" class="chapter" id="chap-pta"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;19.&nbsp;Configuring Pass Through Authentication</h1></div></div></div><a class="indexterm" name="d0e9993"></a><p>This chapter focuses on pass through authentication (PTA), whereby you
 configure another server to determine the response to an authentication
 request. A typical use case for pass through authentication involves
 passing authentication through to Active Directory for users coming
 from Microsoft Windows systems.</p><div class="section" id="about-pta"><div class="titlepage"><div><div><h2 class="title" style="clear: both">19.1.&nbsp;About Pass Through Authentication</h2></div></div></div><p>You use <em class="firstterm">LDAP pass through authentication</em> when
  the credentials for authenticating are stored not in OpenDJ, but instead
  in a remote directory service. In effect OpenDJ redirects the bind operation
  against a remote LDAP server.</p><p>Exactly how OpenDJ redirects the bind depends on how the user entry
  in OpenDJ maps to the corresponding user entry in the remote directory.</p><div class="itemizedlist"><p>OpenDJ provides you several choices to set up the mapping.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>When both the local entry in OpenDJ and the remote entry in the
    other server have the same DN, you do not have to set up the mapping at
    all. By default, OpenDJ redirects the bind with the original DN and
    password from the client application.</p></li><li class="listitem"><p>When the local entry in OpenDJ has been provisioned with an attribute
    holding the DN of the remote entry, you can specify which attribute holds
    the DN, and OpenDJ redirects the bind on the remote server using the DN
    value.</p></li><li class="listitem"><p>When you cannot get the remote bind DN directly, you need an
    attribute and value on the OpenDJ entry that corresponds to an identical
    attribute and value on the remote server in order to map the local entry
    to the remote entry. In this case you also need the bind credentials for
    a user who can search for the entry on the remote server. OpenDJ performs
    a search for the entry using the matching attribute and value, and then
    redirects the bind with the DN from the remote entry.</p></li></ul></div><p>You configure pass through authentication as an authentication policy
  that you associate with a user's entry in the same way that you associate
  a password policy with a user's entry. Either a user has an authentication
  policy for pass through authentication, or the user has a local password
  policy.</p></div><div class="section" id="configure-pta"><div class="titlepage"><div><div><h2 class="title" style="clear: both">19.2.&nbsp;Setting Up Pass Through Authentication</h2></div></div></div><p>When setting up pass through authentication, you need to know to which
  remote server or servers to redirect binds, and you need to know how you map
  user entries in OpenDJ to user entries in the remote directory.</p><div class="procedure" id="configure-ssl-to-test-pta"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;19.1.&nbsp;To Set Up SSL Communication For Testing</div><p>When performing pass through authentication, you no doubt protect
   communications between OpenDJ and the server providing authentication. If
   you test using SSL with self-signed certificates, and you do not want
   the client blindly to trust the server, follow these steps to import
   the authentication server's certificate into the OpenDJ key store.</p><ol class="procedure" type="1"><li class="step"><p>Export the server certificate from the authentication server.</p><p>How you perform this step depends on the authentication directory
    server. With OpenDJ, you can export the certificate as shown here.</p><pre class="cmdline prettyprint">$ cd /path/to/PTA-Server/config
$ keytool
 -exportcert
 -rfc
 -alias server-cert
 -keystore keystore
 -storepass `cat keystore.pin`
 &gt; /tmp/pta-srv-cert.pem</pre></li><li class="step"><p>Make note of the host name used in the certificate.</p><p>You use the host name when configuring the SSL connection. With
    OpenDJ, you can view the certificate details as shown here.</p><pre class="cmdline prettyprint">$ keytool
 -list
 -v
 -alias server-cert
 -keystore keystore
 -storepass `cat keystore.pin`
Alias name: server-cert
Creation date: Sep 12, 2011
Entry type: PrivateKeyEntry
Certificate chain length: 1
Certificate[1]:
Owner: CN=pta-server.example.com, O=OpenDJ Self-Signed Certificate
Issuer: CN=pta-server.example.com, O=OpenDJ Self-Signed Certificate
Serial number: 4e6dc429
Valid from: Mon Sep 12 10:34:49 CEST 2011 until: Wed Sep 11 10:34:49 CEST 2013
Certificate fingerprints:
  MD5:  B6:EE:1C:A0:71:12:EF:6F:21:24:B9:50:EF:8B:4E:6A
  SHA1: 7E:A1:C9:07:D2:86:56:31:24:14:F7:07:A8:6B:3E:A1:39:63:F4:0E
  Signature algorithm name: SHA1withRSA
  Version: 3</pre></li><li class="step"><p>Import the authentication server certificate into OpenDJ's
    key store.</p><pre class="cmdline prettyprint">$ cd /path/to/opendj/config
$ keytool
 -importcert
 -alias pta-cert
 -keystore truststore
 -storepass `cat keystore.pin`
 -file /tmp/pta-srv-cert.pem
Owner: CN=pta-server.example.com, O=OpenDJ Self-Signed Certificate
Issuer: CN=pta-server.example.com, O=OpenDJ Self-Signed Certificate
Serial number: 4e6dc429
Valid from: Mon Sep 12 10:34:49 CEST 2011 until: Wed Sep 11 10:34:49 CEST 2013
Certificate fingerprints:
  MD5:  B6:EE:1C:A0:71:12:EF:6F:21:24:B9:50:EF:8B:4E:6A
  SHA1: 7E:A1:C9:07:D2:86:56:31:24:14:F7:07:A8:6B:3E:A1:39:63:F4:0E
  Signature algorithm name: SHA1withRSA
  Version: 3
Trust this certificate? [no]:  yes
Certificate was added to keystore</pre></li></ol></div></div><div class="procedure" id="configure-pta-policy"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;19.2.&nbsp;To Configure an LDAP Pass Through Authentication Policy</div><p>You configure authentication policies with the
   <span class="command"><strong>dsconfig</strong></span> command. Notice that authentication policies
   are part of the server configuration, and therefore not replicated.</p><ol class="procedure" type="1"><li class="step"><p>Set up an authentication policy for pass through
    authentication to the authentication server.</p><pre class="cmdline prettyprint">$ dsconfig
 create-password-policy
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --type ldap-pass-through
 --policy-name "PTA Policy"
 --set primary-remote-ldap-server:pta-server.example.com:636
 --set mapped-attribute:uid
 --set mapped-search-base-dn:"dc=PTA Server,dc=com"
 --set mapping-policy:mapped-search
 --set use-ssl:true
 --set trust-manager-provider:JKS
 --trustAll
 --no-prompt</pre><p>The policy shown here maps identities having this password policy
    to identities under <code class="literal">dc=PTA Server,dc=com</code>. Users must
    have the same <code class="literal">uid</code> values on both servers. The policy
    here also uses SSL between OpenDJ and the authentication server.</p></li><li class="step"><p>Check that your policy has been added to the list.</p><pre class="cmdline prettyprint">$ dsconfig
 list-password-policies
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --property use-ssl

Password Policy         : Type              : use-ssl
------------------------:-------------------:--------
Default Password Policy : password-policy   : -
PTA Policy              : ldap-pass-through : true
Root Password Policy    : password-policy   : -</pre></li></ol></div></div><div class="procedure" id="configure-pta-to-ad"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;19.3.&nbsp;To Configure Pass Through Authentication To Active Directory</div><a class="indexterm" name="d0e10091"></a><p>The steps below demonstrate setting up pass through authentication
   to Active Directory. Here is some background to help you make sense of the
   steps.</p><p>Entries on the OpenDJ side use <code class="literal">uid</code> as the naming
   attribute, and entries also have <code class="literal">cn</code> attributes. Active
   Directory entries use <code class="literal">cn</code> as the naming attribute.
   User entries on both sides share the same <code class="literal">cn</code> values. The
   mapping between entries therefore uses <code class="literal">cn</code>.</p><p>Consider the example where an OpenDJ account with <code class="literal">cn=LDAP
   PTA User</code> and DN
   <code class="literal">uid=ldapptauser,ou=People,dc=example,dc=com</code> corresponds
   to an Active Directory account with DN <code class="literal">CN=LDAP PTA
   User,CN=Users,DC=internal,DC=forgerock,DC=com</code>. The steps below
   enable the user with <code class="literal">cn=LDAP PTA User</code> on OpenDJ
   authenticate through to Active Directory.</p><pre class="cmdline prettyprint">$ ldapsearch
 --hostname opendj.example.com
 --baseDN dc=example,dc=com
 uid=ldapptauser
 cn
dn: uid=ldapptauser,ou=People,dc=example,dc=com
cn: LDAP PTA User

$ ldapsearch
 --hostname ad.example.com
 --baseDN "CN=Users,DC=internal,DC=forgerock,DC=com"
 --bindDN "cn=administrator,cn=Users,DC=internal,DC=forgerock,DC=com"
 --bindPassword password
 "(cn=LDAP PTA User)"
 cn
dn: CN=LDAP PTA User,CN=Users,DC=internal,DC=forgerock,DC=com
cn: LDAP PTA User</pre><p>OpenDJ must map its
   <code class="literal">uid=ldapptauser,ou=People,dc=example,dc=com</code> entry to the
   Active Directory entry, <code class="literal">CN=LDAP PTA
   User,CN=Users,DC=internal,DC=forgerock,DC=com</code>. In order to do the
   mapping, OpenDJ has to perform a search for the user in Active Directory
   using the <code class="literal">cn</code> value it recovers from its own entry for the
   user. Active Directory does not allow anonymous searches, so part of the
   authentication policy configuration consists of the administrator DN and
   password OpenDJ uses to bind to Active Directory to be able to search.</p><p>Finally, before setting up the pass through authentication policy,
   make sure OpenDJ can connect to Active Directory over a secure connection
   to avoid sending passwords in the clear.</p><ol class="procedure" type="1"><li class="step"><p>Export the certificate from the Windows server.</p><ol type="a" class="substeps"><li class="step"><p>Click start &gt; All Programs &gt; Administrative Tools &gt;
      Certification Authority, then right-click the CA and select
      Properties.</p></li><li class="step"><p>In the General tab, select the certificate and click View
      Certificate.</p></li><li class="step"><p>In the Certificate dialog, click the Details tab, then click
      Copy to File...</p></li><li class="step"><p>Use the Certificate Export Wizard to export the certificate into
      a file, such as <code class="filename">windows.cer</code>.</p></li></ol></li><li class="step"><p>Copy the exported certificate to the system running OpenDJ.</p></li><li class="step"><p>Import the server certificate into OpenDJ's key store.</p><pre class="cmdline prettyprint">$ cd /path/to/opendj/config
$ keytool
 -importcert
 -alias ad-cert
 -keystore truststore
 -storepass `cat keystore.pin`
 -file ~/Downloads/windows.cer 
Owner: CN=internal-ACTIVEDIRECTORY-CA, DC=internal, DC=forgerock, DC=com
Issuer: CN=internal-ACTIVEDIRECTORY-CA, DC=internal, DC=forgerock, DC=com
Serial number: 587465257200a7b14a6976cb47916b32
Valid from: Tue Sep 20 11:14:24 CEST 2011 until: Tue Sep 20 11:24:23 CEST 2016
Certificate fingerprints:
  MD5:  A3:D6:F1:8D:0D:F9:9C:76:00:BC:84:8A:14:55:28:38
  SHA1: 0F:BD:45:E6:21:DF:BD:6A:CA:8A:7C:1D:F9:DA:A1:8E:8A:0D:A4:BF
  Signature algorithm name: SHA1withRSA
  Version: 3

Extensions: 

#1: ObjectId: 2.5.29.19 Criticality=true
BasicConstraints:[
  CA:true
  PathLen:2147483647
]

#2: ObjectId: 2.5.29.15 Criticality=false
KeyUsage [
  DigitalSignature
  Key_CertSign
  Crl_Sign
]

#3: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: A3 3E C0 E3 B2 76 15 DC   97 D0 B3 C0 2E 77 8A 11  .&gt;...v.......w..
0010: 24 62 70 0A                                        $bp.
]
]

#4: ObjectId: 1.3.6.1.4.1.311.21.1 Criticality=false

Trust this certificate? [no]:  yes
Certificate was added to keystore</pre><p>At this point OpenDJ can connect to Active Directory over SSL.</p></li><li class="step"><p>Set up an authentication policy for OpenDJ users to authenticate
    to Active Directory.</p><pre class="cmdline prettyprint">$ dsconfig
 create-password-policy
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --type ldap-pass-through
 --policy-name "AD PTA Policy"
 --set primary-remote-ldap-server:ad.example.com:636
 --set mapped-attribute:cn
 --set mapped-search-base-dn:"CN=Users,DC=internal,DC=forgerock,DC=com"
 --set mapped-search-bind-dn:"cn=administrator,cn=Users,DC=internal,DC=forgerock
 ,DC=com"
 --set mapped-search-bind-password:password
 --set mapping-policy:mapped-search
 --set trust-manager-provider:JKS
 --set use-ssl:true
 --trustAll --no-prompt</pre></li><li class="step"><p>Assign the authentication policy to a test user.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: uid=ldapptauser,ou=People,dc=example,dc=com
changetype: modify
add: ds-pwp-password-policy-dn
ds-pwp-password-policy-dn: cn=AD PTA Policy,cn=Password Policies,cn=config

Processing MODIFY request for uid=ldapptauser,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=ldapptauser,ou=People,dc=example,dc=com</pre></li><li class="step"><p>Check that the user can bind using pass through authentication to
    Active Directory.</p><pre class="cmdline prettyprint">$ ldapsearch
 --hostname opendj.example.com
 --port 1389
 --baseDN dc=example,dc=com
 --bindDN uid=ldapptauser,ou=People,dc=example,dc=com
 --bindPassword password
 "(cn=LDAP PTA User)"
 userpassword cn
dn: uid=ldapptauser,ou=People,dc=example,dc=com
cn: LDAP PTA User</pre><p>Notice that to complete the search, the user authenticated with a
    password to Active Directory, though no <code class="literal">userpassword</code>
    value is present on the entry on the OpenDJ side.</p></li></ol></div></div></div><div class="section" id="assigning-pta"><div class="titlepage"><div><div><h2 class="title" style="clear: both">19.3.&nbsp;Assigning Pass Through Authentication Policies</h2></div></div></div><p>You assign authentication policies in the same way as you
  assign password policies, by using the
  <code class="literal">ds-pwp-password-policy-dn</code> attribute.</p><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>Although you assign the pass through authentication policy using
   the same attribute as for password policy, the authentication policy is
   not in fact a password policy. Therefore, the user with a pass through
   authentication policy does not have a value for the operational attribute
   <code class="literal">pwdPolicySubentry</code>.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 uid=user.0
 pwdPolicySubentry
dn: uid=user.0,ou=People,dc=example,dc=com
</pre></div></div><div class="procedure" id="assign-pta-to-user"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;19.4.&nbsp;To Assign a Pass Through Authentication Policy To a User</div><p>Users depending on pass through authentication no longer need a local
   password policy, as they no longer authenticate locally.</p><p>Examples in the following procedure work for this user, whose
   entry on OpenDJ is as shown. Notice that the user has no password set. The
   user's password on the authentication server is
   <code class="literal">password</code>.</p><pre class="codelisting prettyprint">dn: uid=user.0,ou=People,dc=example,dc=com
cn: Aaccf Amar
description: This is the description for Aaccf Amar.
employeeNumber: 0
givenName: Aaccf
homePhone: +1 225 216 5900
initials: ASA
l: Panama City
mail: user.0@maildomain.net
mobile: +1 010 154 3228
objectClass: person
objectClass: inetorgperson
objectClass: organizationalperson
objectClass: top
pager: +1 779 041 6341
postalAddress: Aaccf Amar$01251 Chestnut Street$Panama City, DE  50369
postalCode: 50369
sn: Amar
st: DE
street: 01251 Chestnut Street
telephoneNumber: +1 685 622 6202
uid: user.0
</pre><p>This user's entry on the authentication server also has
   <code class="literal">uid=user.0</code>, and the pass through authentication policy
   performs the mapping to find the user entry in the authentication
   server.</p><ol class="procedure" type="1"><li class="step"><p>Prevent users from changing their own password policies.</p><pre class="cmdline prettyprint">$ cat protect-pta.ldif 
dn: ou=People,dc=example,dc=com
changetype: modify
add: aci
aci: (target ="ldap:///uid=*,ou=People,dc=example,dc=com")(targetattr =
 "ds-pwp-password-policy-dn")(version 3.0;acl "Cannot choose own pass
 word policy";deny (write)(userdn = "ldap:///self");)

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename protect-pta.ldif
Processing MODIFY request for ou=People,dc=example,dc=com
MODIFY operation successful for DN ou=People,dc=example,dc=com</pre></li><li class="step"><p>Update the user's <code class="literal">ds-pwp-password-policy-dn</code>
    attribute.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: uid=user.0,ou=People,dc=example,dc=com
changetype: modify 
add: ds-pwp-password-policy-dn
ds-pwp-password-policy-dn: cn=PTA Policy,cn=Password Policies,cn=config

Processing MODIFY request for uid=user.0,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=user.0,ou=People,dc=example,dc=com</pre></li><li class="step"><p>Check that the user can authenticate through to the authentication
    server.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --baseDN dc=example,dc=com
 --bindDN uid=user.0,ou=People,dc=example,dc=com
 --bindPassword password
 uid=user.0
 cn sn
dn: uid=user.0,ou=People,dc=example,dc=com
cn: Aaccf Amar
sn: Amar
</pre></li></ol></div></div><div class="procedure" id="assign-pta-to-group"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;19.5.&nbsp;To Assign a Pass Through Authentication Policy To a Group</div><p>Examples in the following steps use the pass through authentication
   policy as defined above. Kirsten Vaughan's entry has been reproduced on
   the authentication server under <code class="literal">dc=PTA
   Server,dc=com</code>.</p><ol class="procedure" type="1"><li class="step"><p>Create a subentry to assign a collective attribute that sets the
    <code class="literal">ds-pwp-password-policy-dn</code> attribute for group
    members' entries.</p><pre class="cmdline prettyprint">$ cat pta-coll.ldif 
dn: cn=PTA Policy for Dir Admins,dc=example,dc=com
objectClass: collectiveAttributeSubentry
objectClass: extensibleObject
objectClass: subentry
objectClass: top
cn: PTA Policy for Dir Admins
ds-pwp-password-policy-dn;collective: cn=PTA Policy,cn=Password Policies,
 cn=config
subtreeSpecification: { base "ou=People", specificationFilter "(isMemberOf=
 cn=Directory Administrators,ou=Groups,dc=example,dc=com)"}

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename pta-coll.ldif
Processing ADD request for cn=PTA Policy for Dir Admins,dc=example,dc=com
ADD operation successful for DN cn=PTA Policy for Dir Admins,dc=example,dc=com</pre></li><li class="step"><p>Check that OpenDJ has applied the policy.</p><ol type="a" class="substeps"><li class="step"><p>Make sure you can bind as the user on the authentication
      server.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 2389
 --bindDN "uid=kvaughan,ou=People,dc=PTA Server,dc=com"
 --bindPassword password
 --baseDN "dc=PTA Server,dc=com"
 uid=kvaughan
dn: uid=kvaughan,ou=People,dc=PTA Server,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
givenName: Kirsten
uid: kvaughan
cn: Kirsten Vaughan
sn: Vaughan
userPassword: {SSHA}x1BdtrJyRTw63kBSJFDvgvd4guzk66CV8L+t8w==
ou: People
mail: jvaughan@example.com
</pre></li><li class="step"><p>Check that the user can authenticate through to the authentication
      server from OpenDJ.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN "uid=kvaughan,ou=people,dc=example,dc=com"
 --bindPassword password
 --baseDN dc=example,dc=com
 uid=kvaughan
 cn sn
dn: uid=kvaughan,ou=People,dc=example,dc=com
cn: Kirsten Vaughan
sn: Vaughan</pre></li></ol></li></ol></div></div></div></div><div lang="en" class="chapter" id="chap-samba"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;20.&nbsp;Samba Password Synchronization</h1></div></div></div><a class="indexterm" name="d0e10290"></a><p><a class="link" href="http://www.samba.org/" target="_blank">Samba</a>,
 the Windows interoperability suite for Linux and UNIX, stores accounts because
 UNIX and Windows password storage management is not interoperable. The default
 account storage mechanism is designed to work well with relatively small
 numbers of accounts and configurations with one domain controller. For larger
 installations, you can configure Samba to use OpenDJ for storing Samba
 accounts. See the Samba documentation for your platform for instructions on
 how to configure an LDAP directory server such as OpenDJ as a Samba passdb
 backend.</p><p>The rest of this chapter focuses on how you keep passwords in sync when
 using OpenDJ for Samba account storage.</p><p>When you store Samba accounts in OpenDJ, Samba stores its own attributes
 as defined in the Samba schema. Samba does not use the LDAP standard
 <code class="literal">userPassword</code> attribute to store users' Samba passwords.
 You can configure Samba to apply changes to Samba passwords to LDAP passwords
 as well, too. Yet, if a user modifies her LDAP password directly without
 updating the Samba password, the LDAP and Samba passwords get out of
 sync.</p><p>The OpenDJ Samba Password plugin resolves this problem for you. The
 plugin intercepts password changes to Samba user profiles, synchronizing Samba
 password and LDAP password values. For an incoming Password Modify Extended
 Request or modify request changing the user password, the OpenDJ Samba Password
 plugin detects whether the user's entry reflects a Samba user profile (entry
 has object class <code class="literal">sambaSAMAccount</code>), hashes the incoming
 password value, and applies the password change to the appropriate password
 attribute, keeping the password values in sync. The OpenDJ Samba Password
 plugin can perform synchronization as long as new passwords values are
 provided in clear text in the modification request. If you configure Samba
 to synchronize LDAP passwords when it changes Samba passwords, then the
 plugin can ignore changes by the Samba user to avoid duplicate
 synchronization.</p><div class="procedure" id="setup-samba-administrator-account"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;20.1.&nbsp;To Set Up a Samba Administrator Account</div><p>The Samba Administrator synchronizes LDAP passwords after changing
  Samba passwords by issuing a Password Modify Extended Request. In Samba's
  <code class="filename">smb.conf</code> configuration file, the value of
  <code class="literal">ldap admin dn</code> is set to the DN of this account. When
  the Samba Administrator changes a user password, the plugin ignores
  the changes, so choose a distinct account different from Directory Manager
  and other administrators.</p><ol class="procedure" type="1"><li class="step"><p>Create or choose an account for the Samba Administrator.</p><pre class="cmdline prettyprint">$ cat samba.ldif 
dn: uid=samba-admin,ou=Special Users,dc=example,dc=com
cn: Samba Administrator
givenName: Samba
mail: samba@example.com
objectClass: person
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: top
sn: Administrator
uid: samba-admin
userPassword: password

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
 --filename samba.ldif
Processing ADD request for uid=samba-admin,ou=Special Users,dc=example,dc=com
ADD operation successful for DN uid=samba-admin,ou=Special Users,
 dc=example,dc=com</pre></li><li class="step"><p>Ensure the Samba Administrator can reset user passwords.</p><pre class="cmdline prettyprint">$ cat samba-rights.ldif
dn: uid=samba-admin,ou=Special Users,dc=example,dc=com
changetype: modify
add: ds-privilege-name
ds-privilege-name: password-reset

dn: dc=example,dc=com
changetype: modify
add: aci
aci: (target="ldap:///dc=example,dc=com") (targetattr ="*")(version 3.0; acl "
 Samba Admin user rights"; allow(all) groupdn ="ldap:///uid=samba-user,ou=
 Special Users,dc=example,dc=com";)

$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename samba-rights.ldif
Processing MODIFY request for uid=samba-admin,ou=Special Users,dc=example,dc=com
MODIFY operation successful for DN
 uid=samba-admin,ou=Special Users,dc=example,dc=com
Processing MODIFY request for dc=example,dc=com
MODIFY operation successful for DN dc=example,dc=com</pre></li></ol></div></div><div class="procedure" id="setup-samba-pwd-plugin"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;20.2.&nbsp;To Set Up the Samba Password Plugin</div><ol class="procedure" type="1"><li class="step"><p>Determine whether the plugin must store passwords hashed like
   LanManager (<code class="literal">sync-lm-password</code>) or like Windows NT
   (<code class="literal">sync-nt-password</code>), based on how you set up Samba
   in your environment.</p></li><li class="step"><p>Enable the plugin.</p><pre class="cmdline prettyprint">$ dsconfig
 create-plugin
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --plugin-name "Samba Password Synchronisation"
 --type samba-password
 --set enabled:true
 --set pwd-sync-policy:sync-nt-password
 --set
 samba-administrator-dn:"uid=samba-admin,ou=Special Users,dc=example,dc=com"
 --trustAll
 --no-prompt</pre><p>At this point the Samba Password plugin is active.</p></li><li class="step"><p>When troubleshooting Samba Password plugin issues, you can turn on
   debug logging as follows.</p><pre class="cmdline prettyprint">$ dsconfig
 create-debug-target
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based Debug Logger"
 --target-name org.opends.server.plugins.SambaPasswordPlugin
 --set debug-level:all
 --trustAll
 --no-prompt
$ dsconfig
 set-log-publisher-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based Debug Logger"
 --set enabled:true
 --trustAll
 --no-prompt</pre></li></ol></div></div></div><div lang="en" class="chapter" id="chap-monitoring"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;21.&nbsp;Monitoring, Logging, &amp; Alerts</h1></div></div></div><p>This chapter describes the monitoring capabilities that OpenDJ
 implements, and shows how to configure them.</p><a class="indexterm" name="d0e10367"></a><p>OpenDJ Control Panel provides basic monitoring capabilities under
 Monitoring &gt; General Information, Monitoring &gt; Connection Handler, and
 Monitoring &gt; Manage Tasks. This chapter covers the other options for
 monitoring OpenDJ.</p><div class="section" id="ldap-monitoring"><div class="titlepage"><div><div><h2 class="title" style="clear: both">21.1.&nbsp;LDAP-Based Monitoring</h2></div></div></div><p>OpenDJ exposes monitoring information over LDAP under the entry
  <code class="literal">cn=monitor</code>. Many different types of information are
  exposed. The following example shows monitoring information about the
  <code class="literal">userRoot</code> backend holding Example.com data.</p><p>Interface stability: <a href="../admin-guide/index.html#interface-stability" class="link">Evolving</a></p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN cn=monitor "(cn=userRoot backend)"
dn: cn=userRoot backend,cn=Disk Space Monitor,cn=monitor
disk-state: normal
objectClass: top
objectClass: ds-monitor-entry
objectClass: extensibleObject
disk-dir: /path/to/opendj/db/userRoot
disk-free: 343039315968
cn: userRoot backend

dn: cn=userRoot Backend,cn=monitor
objectClass: top
objectClass: ds-monitor-entry
objectClass: ds-backend-monitor-entry
ds-backend-is-private: FALSE
ds-backend-writability-mode: enabled
cn: userRoot Backend
ds-backend-entry-count: 163
ds-backend-id: userRoot
ds-base-dn-entry-count: 163 dc=example,dc=com
ds-backend-base-dn: dc=example,dc=com
</pre><p>You can set global ACIs on the Access Control Handler if you want
  to limit read access under <code class="literal">cn=monitor</code>.</p></div><div class="section" id="snmp-monitoring"><div class="titlepage"><div><div><h2 class="title" style="clear: both">21.2.&nbsp;SNMP-Based Monitoring</h2></div></div></div><a class="indexterm" name="d0e10398"></a><p>OpenDJ lets you monitor the server over the Simple Network Management
  Protocol (SNMP), with support for the Management Information Base described
  in <a class="link" href="http://tools.ietf.org/html/rfc2605" target="_top">RFC 2605: Directory
  Server Monitoring MIB</a>.</p><p>OpenDJ SNMP-based monitoring depends on OpenDMK, which you must
  <a class="link" href="https://github.com/OpenIdentityPlatform/OpenDJ/raw/master/opendj-server-legacy/opendmk/jdmkrt.jar" target="_blank">download
  separately</a>. OpenDJ directory server that you
  download from GitHub is built with OpenDMK, but due to licensing OpenDMK
  is not part of OpenDJ. SNMP is therefore not enabled by default.</p><p>To run the OpenDMK installer, use the self-extracting .jar.</p><pre class="cmdline prettyprint">$ java -jar ~/Downloads/opendmk-1.0-b02-*.jar</pre><p>If you install under <code class="filename">/path/to</code>, then the runtime
  library needed for SNMP is
  <code class="filename">/path/to/OpenDMK-bin/lib/jdmkrt.jar</code>.</p><p>Once you have installed OpenDMK, you can set up a connection handler
  for SNMP by enabling the connection handler, and pointing OpenDJ to your
  installation of the OpenDMK <code class="filename">jdmkrt.jar</code> library.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "SNMP Connection Handler"
 --set enabled:true
 --set opendmk-jarfile:/path/to/OpenDMK-bin/lib/jdmkrt.jar
 --trustAll
 --no-prompt</pre><p>By default, the SNMP Connection Handler listens on port 161 and uses
  port 162 for traps. On UNIX and Linux systems, only root can normally open
  these ports. Therefore if you install as a normal user, you might want
  to change the listen and trap ports.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "SNMP Connection Handler"
 --set listen-port:11161
 --set trap-port:11162
 --trustAll
 --no-prompt</pre><p>Restart the SNMP Connection Handler to take the port number changes
  into account.</p><p> To restart the connection handler, you disable it, then enable
  it again.</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "SNMP Connection Handler"
 --set enabled:false
 --trustAll
 --no-prompt
$ dsconfig
 set-connection-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "SNMP Connection Handler"
 --set enabled:true
 --trustAll
 --no-prompt</pre><p>Use a command such as <span class="command"><strong>snmpwalk</strong></span> to check that the
  SNMP listen port works.</p><pre class="cmdline prettyprint">$ snmpwalk -v 2c -c OpenDJ@OpenDJ localhost:11161
SNMPv2-SMI::mib-2.66.1.1.1.1 = STRING: "OpenDJ 4.8.1-SNAPSHOT..."
SNMPv2-SMI::mib-2.66.1.1.2.1 = STRING: "/path/to/opendj"
...</pre></div><div class="section" id="jmx-monitoring"><div class="titlepage"><div><div><h2 class="title" style="clear: both">21.3.&nbsp;JMX-Based Monitoring</h2></div></div></div><a class="indexterm" name="d0e10455"></a><p>OpenDJ provides Java Management eXtensions (JMX) based monitoring. A
  number of tools support JMX, including <span class="command"><strong>jconsole</strong></span> and
  <span class="command"><strong>jvisualvm</strong></span>, which are bundled with the Sun/Oracle Java
  platform. JMX is not configured by default. Use the
  <span class="command"><strong>dsconfig</strong></span> command to configure the JMX connection
  handler.</p><p>Interface stability: <a href="../admin-guide/index.html#interface-stability" class="link">Evolving</a></p><p>Configure the server to activate JMX access.
   The following example uses the reserved port number, 1689:</p><pre class="cmdline prettyprint">$ dsconfig
 set-connection-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "JMX Connection Handler"
 --set enabled:true
 --trustAll
 --no-prompt</pre><p>Add appropriate privileges to access JMX monitoring information.
   By default, no users have privileges to access the JMX connection.

   The following commands create a user with JMX privileges, who can authenticate over an insecure connection:</p><pre class="cmdline prettyprint">$ bin/dsconfig
   create-password-policy
   --policy-name "Allow insecure authentication"
   --type password-policy
   --set default-password-storage-scheme:PBKDF2-HMAC-SHA256
   --set password-attribute:userPassword
   --trustAll --no-prompt
   --hostname opendj.example.com
   --port 4444
   --bindDN "cn=Directory Manager"
   --bindPassword password</pre><pre class="cmdline prettyprint">$ bin/ldapmodify --port 1389 --bindDN "cn=Directory Manager" --bindPassword password
   dn: uid=JMX Monitor,dc=example,dc=com
   objectClass: top
   objectClass: person
   objectClass: organizationalPerson
   objectClass: inetOrgPerson
   cn: JMX Monitor
   sn: User
   uid: JMX Monitor
   userPassword: password
   ds-privilege-name: monitor-read
   ds-privilege-name: jmx-notify
   ds-privilege-name: jmx-read
   ds-privilege-name: jmx-write
   ds-pwp-password-policy-dn: cn=Allow insecure authentication,cn=Password Policies,cn=config

   Processing ADD request for uid=JMX Monitor,dc=example,dc=com
   ADD operation successful for DN uid=JMX Monitor,dc=example,dc=com
   ^C
  </pre><p>Connect remotely.</p><pre class="cmdline prettyprint">$ jconsole &amp;</pre><p>
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Remote process: <span style="color: red">&lt;term&gt;<code class="literal">service:jmx:rmi:///jndi/rmi://localhost:1689/org.opends.server.protocols.jmx.client-unknown</code>&lt;/term&gt;</span></li><li class="listitem">Username: <span style="color: red">&lt;term&gt;<code class="literal">uid=JMX Monitor,dc=example,dc=com</code>&lt;/term&gt;</span></li><li class="listitem">Password: <span style="color: red">&lt;term&gt;<code class="literal">password</code>&lt;/term&gt;</span></li><li class="listitem">Connect -&gt; Insecure connection</li></ul></div><p>
  </p></div><div class="section" id="monitoring-status-and-tasks"><div class="titlepage"><div><div><h2 class="title" style="clear: both">21.4.&nbsp;Server Operation &amp; Tasks</h2></div></div></div><p>OpenDJ comes with two commands for monitoring server processes and
  tasks. The <span class="command"><strong>status</strong></span> command displays basic information
  about the local server, similar to what is seen in the default window of the
  Control Panel. The <span class="command"><strong>manage-tasks</strong></span> command lets you manage
  tasks scheduled on a server, such as nightly backup.</p><p>The <span class="command"><strong>status</strong></span> command takes administrative credentials
  to read the configuration, as does the Control Panel.</p><pre class="cmdline prettyprint">$ status --bindDN "cn=Directory Manager" --bindPassword password

          --- Server Status ---
Server Run Status:        Started
Open Connections:         1

          --- Server Details ---
Host Name:                localhost
Administrative Users:     cn=Directory Manager
Installation Path:        /path/to/opendj
Version:                  OpenDJ 4.8.1-SNAPSHOT
Java Version:             1.6.0_24
Administration Connector: Port 4444 (LDAPS)

          --- Connection Handlers ---
Address:Port : Protocol : State
-------------:----------:---------
--           : LDIF     : Disabled
0.0.0.0:636  : LDAPS    : Disabled
0.0.0.0:1389 : LDAP     : Enabled
0.0.0.0:1689 : JMX      : Disabled

          --- Data Sources ---
Base DN:     dc=example,dc=com
Backend ID:  userRoot
Entries:     163
Replication: Disabled</pre><p>The <span class="command"><strong>manage-tasks</strong></span> command connects over the
  administration port, and so can connect to both local and remote
  servers.</p><pre class="cmdline prettyprint">$ manage-tasks
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --trustAll
 --no-prompt

ID                         Type    Status
--------------------------------------------------------
example                    Backup  Recurring
example-20110623030000000  Backup  Waiting on start time</pre></div><div class="section" id="logging"><div class="titlepage"><div><div><h2 class="title" style="clear: both">21.5.&nbsp;Server Logs</h2></div></div></div><a class="indexterm" name="d0e10542"></a><a class="indexterm" name="d0e10545"></a><p>By default OpenDJ stores access and errors logs as well as a
  server process ID file under the <code class="filename">logs/</code> directory.
  For the replication service, OpenDJ also keeps a replication log there.
  You can also configure a debug log. Furthermore, you can configure policies
  about how logs are rotated, and how they are retained. You configure logging
  using the <span class="command"><strong>dsconfig</strong></span> command.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The <em class="firstterm">access log</em> traces the operations the
    server processes including timestamps, connection information, and
    information about the operation itself. The access log can therefore
    grow quickly, as each client request results in at least one new log
    message.</p><p>The following access log excerpt shows a search operation from the
    local host, with the first three lines wrapped for readability.</p><pre class="cmdline prettyprint">
[21/Jun/2011:08:01:53 +0200] CONNECT conn=4 from=127.0.0.1:49708
 to=127.0.0.1:1389 protocol=LDAP
[21/Jun/2011:08:01:53 +0200] SEARCH REQ conn=4 op=0 msgID=1
 base="dc=example,dc=com" scope=wholeSubtree filter="(uid=bjensen)" attrs="ALL"
[21/Jun/2011:08:01:53 +0200] SEARCH RES conn=4 op=0 msgID=1
 result=0 nentries=1 etime=3
[21/Jun/2011:08:01:53 +0200] UNBIND REQ conn=4 op=1 msgID=2
[21/Jun/2011:08:01:53 +0200] DISCONNECT conn=4 reason="Client Unbind"</pre></li><li class="listitem"><p>The <em class="firstterm">errors log</em> traces server events, error
    conditions, and warnings, categorized and identified by severity.</p><p>The following errors log excerpt shows log entries about a
    backup task, with lines wrapped for readability.</p><pre class="cmdline prettyprint">
[22/Jun/2011:12:32:23 +0200] category=BACKEND severity=NOTICE msgID=9896349
 msg=Backup task 20110622123224088 started execution
[22/Jun/2011:12:32:23 +0200] category=TOOLS severity=NOTICE msgID=10944792
 msg=Starting backup for backend userRoot
[22/Jun/2011:12:32:24 +0200] category=JEB severity=NOTICE msgID=8847446
 msg=Archived: 00000000.jdb
[22/Jun/2011:12:32:24 +0200] category=TOOLS severity=NOTICE msgID=10944795
 msg=The backup process completed successfully
[22/Jun/2011:12:32:24 +0200] category=BACKEND severity=NOTICE msgID=9896350
 msg=Backup task 20110622123224088 finished execution</pre></li><li class="listitem"><p>If you use the HTTP Connection Handler, OpenDJ maintains a separate
    access log in <code class="filename">logs/http-access</code>. This access log, by
    default configured as the File Based HTTP Access Log Publisher, uses
    a different format than the LDAP access log. This HTTP access log uses
    <a class="link" href="http://www.w3.org/TR/WD-logfile.html" target="_blank">Extended Log File Format</a> with fields described in <a class="link" href="http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/676400bc-8969-4aa7-851a-9319490a9bbb.mspx?mfr=true" target="_blank">Microsoft's implementation</a> as well. The following default
    fields are shown here in the order they occur in the log file.</p><p>Interface stability: <a href="../admin-guide/index.html#interface-stability" class="link">Evolving</a></p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">cs-host</code></span></dt><dd><p>Client host name</p></dd><dt><span class="term"><code class="literal">c-ip</code></span></dt><dd><p>Client IP address</p></dd><dt><span class="term"><code class="literal">cs-username</code></span></dt><dd><p>Username used to authenticate</p></dd><dt><span class="term"><code class="literal">x-datetime</code></span></dt><dd><p>Completion timestamp for the HTTP request, which you can configure
        using the <code class="literal">log-record-time-format</code> property</p></dd><dt><span class="term"><code class="literal">cs-method</code></span></dt><dd><p>HTTP method requested by the client</p></dd><dt><span class="term"><code class="literal">cs-uri-query</code></span></dt><dd><p>Path and query string requested by the client</p></dd><dt><span class="term"><code class="literal">cs-version</code></span></dt><dd><p>HTTP version requested by the client</p></dd><dt><span class="term"><code class="literal">sc-status</code></span></dt><dd><p>HTTP status code for the operation</p></dd><dt><span class="term"><code class="literal">cs(User-Agent)</code></span></dt><dd><p>User-Agent identifier</p></dd><dt><span class="term"><code class="literal">x-connection-id</code></span></dt><dd><p>Connection ID used for OpenDJ internal operations</p><p>When using this field to match HTTP requests with internal
       operations in the LDAP access log, first set the access log advanced
       property, <code class="literal">suppress-internal-operations</code>, to
       <code class="literal">false</code>. By default, internal operations do not appear
       in the LDAP access log.</p></dd><dt><span class="term"><code class="literal">x-etime</code></span></dt><dd><p>Execution time in milliseconds needed by OpenDJ to service the
       HTTP request</p></dd></dl></div><p>Missing values are replaced with <code class="literal">-</code>. Tabs separate
    the fields, and if a field contains a tab character, then the field is
    surrounded with double quotes. OpenDJ then doubles double quotes in the
    field to escape them.</p><p>The following example shows an excerpt of an HTTP access log with
    the default configuration. Lines are folded and space reformatted for the
    printed page.</p><pre class="cmdline prettyprint">-  192.168.0.15  bjensen   22/May/2013:10:06:18 +0200
  GET  /users/bjensen?_prettyPrint=true                      HTTP/1.1    200
  curl/7.21.4  3    40
-  192.168.0.15  bjensen   22/May/2013:10:06:52 +0200
  GET  /groups/Directory%20Administrators?_prettyPrint=true  HTTP/1.1    200
  curl/7.21.4  4    41
-  192.168.0.12  bjensen   22/May/2013:10:07:07 +0200
  GET  /users/missing?_prettyPrint=true                      HTTP/1.1    200
  curl/7.21.4  5     9
-  192.168.0.12  -         22/May/2013:10:07:46 +0200
  GET  /users/missing?_prettyPrint=true                      HTTP/1.1    401
  curl/7.21.4  6     0
-  192.168.0.15  kvaughan  22/May/2013:10:09:10 +0200
  POST /users?_action=create&amp;_prettyPrint=true               HTTP/1.1    200
  curl/7.21.4  7   120</pre><p>You can configure the <code class="literal">log-format</code> for the access log
    using the <span class="command"><strong>dsconfig</strong></span> command. In addition to the default
    fields, the following standard fields are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">c-port</code></span></dt><dd><p>Client port number</p></dd><dt><span class="term"><code class="literal">s-computername</code></span></dt><dd><p>Server name where the access log was written</p></dd><dt><span class="term"><code class="literal">s-ip</code></span></dt><dd><p>Server IP address</p></dd><dt><span class="term"><code class="literal">s-port</code></span></dt><dd><p>Server port number</p></dd></dl></div></li><li class="listitem"><p>The <em class="firstterm">replication log</em> traces replication
    events, with entries similar to the errors log. The following excerpt has
    lines wrapped for readability.</p><pre class="cmdline prettyprint">
[22/Jun/2011:14:37:34 +0200] category=SYNC severity=NOTICE msgID=15139026
 msg=Finished total update: exported domain "dc=example,dc=com" from this
 directory server DS(24065) to all remote directory servers. 
[22/Jun/2011:14:37:35 +0200] category=SYNC severity=MILD_WARNING msgID=14745663
 msg=Replication server RS(23947) at opendj.example.com/10.10.0.168:8989 has
 closed the connection to this directory server DS(24065). This directory
 server will now try to connect to another replication server in order to
 receive changes for the domain "dc=example,dc=com"
[22/Jun/2011:14:37:35 +0200] category=SYNC severity=NOTICE msgID=15138894
 msg=The generation ID for domain "dc=example,dc=com" has been reset to 3679640</pre><p>Notice that the replication log does not trace replication operations.
    Use the external change log instead to get notifications about changes to
    directory data over protocol. You can alternatively configure an audit
    log, which is a type of access log that dumps changes in LDIF.</p></li><li class="listitem"><p>A <em class="firstterm">debug log</em> traces details needed to
    troubleshoot a problem in the server. Debug logs can grow large quickly,
    and therefore no debug logs are enabled by default.</p></li></ul></div><p>Each log depends on a <em class="firstterm">log publisher</em>, whose
  type corresponds to the type of log. OpenDJ uses file-based log publishers.
  The design allows for custom log publishers, however, which could publish
  the logs elsewhere besides a file.</p><p>For debug logging, you also set a <em class="firstterm">debug target</em>
  to control what gets logged.</p><div class="section" id="log-rotation"><div class="titlepage"><div><div><h3 class="title">21.5.1.&nbsp;Log Rotation &amp; Retention</h3></div></div></div><p>Each file-based log can be associated with a <em class="firstterm">log rotation
   policy</em>, and a <em class="firstterm">log retention policy</em>. The
   former can specify when, after how much time, or at what maximum size a log
   is rotated. The latter can specify a maximum number or size of logs to
   retain, or an amount of free disk space to maintain. The design allows
   for custom policies as well.</p><p>By default the file-based logs are subject to rotation and retention
   policies that you can list with <span class="command"><strong>dsconfig
   list-log-rotation-policies</strong></span> and <span class="command"><strong>dsconfig
   list-log-retention-policies</strong></span>.</p><p>For example, view the log rotation policies with the following
   command.</p><pre class="cmdline prettyprint">$ dsconfig
 list-log-rotation-policies
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password


Log Rotation Policy                 : Type       : file-size-limit : rotation-interval : time-of-day
------------------------------------:------------:-----------------:-------------------:------------
24 Hours Time Limit Rotation Policy : time-limit : -               : 1 d               : -
7 Days Time Limit Rotation Policy   : time-limit : -               : 1 w               : -
Fixed Time Rotation Policy          : fixed-time : -               : -                 : 2359
Size Limit Rotation Policy          : size-limit : 100 mb          : -                 : -</pre><p>View the log retention policies with the following command.</p><pre class="cmdline prettyprint">$ dsconfig
 list-log-retention-policies
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password


Log Retention Policy             : Type            : disk-space-used : free-disk-space : number-of-files
---------------------------------:-----------------:-----------------:-----------------:----------------
File Count Retention Policy      : file-count      : -               : -               : 10
Free Disk Space Retention Policy : free-disk-space : -               : 500 mb          : -
Size Limit Retention Policy      : size-limit      : 500 mb          : -               : -</pre><p>Use the <span class="command"><strong>dsconfig get-log-publisher-prop</strong></span> command to
   examine the policies that apply to a particular logger.</p><pre class="cmdline prettyprint">$ dsconfig
 get-log-publisher-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based Access Logger"
 --property retention-policy
 --property rotation-policy
Property         : Value(s)
-----------------:-------------------------------------------------------------
retention-policy : File Count Retention Policy
rotation-policy  : 24 Hours Time Limit Rotation Policy, Size Limit Rotation
                 : Policy</pre><p>In other words, by default OpenDJ keeps 10 access log files, rotating
   the access log each day, or when the log size reaches 100 MB.</p><p>The <span class="command"><strong>dsconfig</strong></span> command offers a number of subcommands
   for creating and deleting log rotation and retention policies, and for
   setting policy properties. You can update which policies apply to a logger
   by using the <span class="command"><strong>dsconfig set-log-publisher-prop</strong></span>
   command.</p></div><div class="section" id="log-filtering"><div class="titlepage"><div><div><h3 class="title">21.5.2.&nbsp;Log Filtering</h3></div></div></div><a class="indexterm" name="d0e10810"></a><p>Each time a client application sends a request to OpenDJ, the server
   writes to its access log. As shown above, a simple search operation results
   in five messages written to the access log. This volume of logging gives you
   the information to analyze overall access patterns, or to audit access when
   you do not know in advance what you are looking for.</p><p>Yet when you do know what you are looking for, log filtering
   lets you limit what the server logs, and focus on what you want to see.
   You define the filter criteria, and also set the filtering policy.</p><p>You can filter both access and also audit logs.</p><div class="itemizedlist"><p>Log filtering lets you define rules based these criteria.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Client IP address, bind DN, group membership</p></li><li class="listitem"><p>Port number</p></li><li class="listitem"><p>Protocol used (such as LDAP, LDAPS, JMX)</p></li><li class="listitem"><p>Response times</p></li><li class="listitem"><p>Result codes (only log error results, for example)</p></li><li class="listitem"><p>Search response criteria (number of entries returned, whether the
     search was indexed)</p></li><li class="listitem"><p>Target DN</p></li><li class="listitem"><p>Type of operation (connect, bind, add, delete, modify, rename,
     search, etc.)</p></li></ul></div><p>The filtering policy in the log publisher configuration specifies
   whether to include or exclude log messages that match the criteria you
   define. OpenDJ does not filter logs until you update the log publisher
   configuration.</p><div class="example" id="log-filtering-exclude-control-panel"><div class="example-title">Example&nbsp;21.1.&nbsp;Example: Exclude Control Panel-Related Messages</div><div class="example-contents"><p>A common development troubleshooting technique consists of sending
    client requests while tailing the access log:</p><pre class="cmdline prettyprint">$ tail -f /path/to/opendj/logs/access</pre><p>Trouble is, when OpenDJ Control Panel is running, or when you are
    also adapting your configuration using the <span class="command"><strong>dsconfig</strong></span>
    command, OpenDJ writes access log messages related to administration.
    These might prevent you from noticing the messages that interest
    you.</p><p>This example demonstrates how to filter out access log messages
    due to administrative connections over LDAPS on ports 1636 and 4444.</p><p>Create access log filtering criteria rules.</p><pre class="cmdline prettyprint">$ dsconfig
 create-access-log-filtering-criteria
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based Access Logger"
 --criteria-name "Exclude LDAPS on 1636 and 4444"
 --type generic
 --set connection-port-equal-to:1636
 --set connection-port-equal-to:4444
 --set connection-protocol-equal-to:ldaps
 --trustAll
 --no-prompt</pre><p>Activate filtering to exclude messages from the default access log
    according to the criteria you specified.</p><pre class="cmdline prettyprint">$ dsconfig
 set-log-publisher-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based Access Logger"
 --set filtering-policy:exclusive
 --trustAll
 --no-prompt</pre><p>At this point, OpenDJ filters out connections over LDAPS to ports
    1636 and 4444. While performing operations in OpenDJ Control Panel, if
    you perform a simple <span class="command"><strong>ldapsearch --port 1389 --baseDN
    dc=example,dc=com uid=bjensen cn</strong></span>, then all you see in the access
    log is the effect of the <span class="command"><strong>ldapsearch</strong></span> command.</p><pre class="cmdline prettyprint">$ tail -f /path/to/opendj/logs/access
[19/Oct/2011:16:37:16 +0200] CONNECT conn=8 from=127.0.0.1:54165
 to=127.0.0.1:1389 protocol=LDAP
[19/Oct/2011:16:37:16 +0200] SEARCH REQ conn=8 op=0 msgID=1
 base="dc=example,dc=com" scope=wholeSubtree filter="(uid=bjensen)" attrs="cn"
[19/Oct/2011:16:37:16 +0200] SEARCH RES conn=8 op=0 msgID=1 result=0 nentries=1
 etime=14
[19/Oct/2011:16:37:16 +0200] UNBIND REQ conn=8 op=1 msgID=2
[19/Oct/2011:16:37:16 +0200] DISCONNECT conn=8 reason="Client Unbind"</pre></div></div><br class="example-break"><p>In addition to the filtering policy, you can also adjust how OpenDJ
   writes log messages. By default, OpenDJ writes one log message for a
   request, and another for a response. You can set the log publisher
   property <code class="literal">log-format</code> to <code class="literal">combined</code>
   to have OpenDJ write a single message per operation. This can be helpful,
   for example, when evaluating response times. In addition, you can change
   the log message time stamps with <code class="literal">log-record-time-format</code>,
   and specify whether to log LDAP control OIDs for operations by setting
   <code class="literal">log-control-oids</code> to <code class="literal">true</code>.</p></div></div><div class="section" id="alert-notifications"><div class="titlepage"><div><div><h2 class="title" style="clear: both">21.6.&nbsp;Alert Notifications</h2></div></div></div><a class="indexterm" name="d0e10906"></a><p>OpenDJ can send alerts to provide notifications of significant server
  events. Yet alert notifications are not enabled by default. You can use
  the <span class="command"><strong>dsconfig</strong></span> command to enable alert notifications.</p><pre class="cmdline prettyprint">$ dsconfig
 set-alert-handler-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "JMX Alert Handler"
 --set enabled:true
 --trustAll
 --no-prompt</pre><p>OpenDJ can also send mail over SMTP instead of JMX notifications.
  Before you set up the SMTP-based alert handler, you must identify an SMTP
  server to which OpenDJ sends messages.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set smtp-server:smtp.example.com
 --trustAll
 --no-prompt
$ dsconfig
 create-alert-handler
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --handler-name "SMTP Alert Handler"
 --type smtp
 --set enabled:true
 --set message-subject:"OpenDJ Alert, Type: %%alert-type%%, ID: %%alert-id%%"
 --set message-body:"%%alert-message%%"
 --set recipient-address:kvaughan@example.com
 --set sender-address:opendj@example.com
 --trustAll
 --no-prompt</pre><div class="variablelist" id="alert-types"><div class="variablelist-title">Alert Types</div><p>OpenDJ directory server uses the following types when sending
   alerts. For alert types that indicate server problems, check
   <code class="filename">OpenDJ/logs/errors</code> for details.</p><dl class="variablelist"><dt><span class="term"><code class="literal">org.opends.server.AccessControlDisabled</code></span></dt><dd><p>The access control handler has been disabled.</p></dd><dt><span class="term"><code class="literal">org.opends.server.AccessControlEnabled</code></span></dt><dd><p>The access control handler has been enabled.</p></dd><dt><span class="term"><code class="literal">org.opends.server.authentiation.dseecompat.ACIParseFailed</code></span></dt><dd><p>The dseecompat access control subsystem failed to correctly parse
     one or more ACI rules when the server first started.</p></dd><dt><span class="term"><code class="literal">org.opends.server.BackendRunRecovery</code></span></dt><dd><p>The JE backend has thrown a <code class="literal">RunRecoveryException</code>.
     The directory server needs to be restarted.</p></dd><dt><span class="term"><code class="literal">org.opends.server.CannotCopySchemaFiles</code></span></dt><dd><p>A problem has occurred while attempting to create copies of the
     existing schema configuration files before making a schema update, and the
     schema configuration has been left in a potentially inconsistent
     state.</p></dd><dt><span class="term"><code class="literal">org.opends.server.CannotRenameCurrentTaskFile</code></span></dt><dd><p>The directory server is unable to rename the current tasks backing
     file in the process of trying to write an updated version.</p></dd><dt><span class="term"><code class="literal">org.opends.server.CannotRenameNewTaskFile</code></span></dt><dd><p>The directory server is unable to rename the new tasks backing file
     into place.</p></dd><dt><span class="term"><code class="literal">org.opends.server.CannotScheduleRecurringIteration</code></span></dt><dd><p>The directory server is unable to schedule an iteration of a
     recurring task.</p></dd><dt><span class="term"><code class="literal">org.opends.server.CannotWriteConfig</code></span></dt><dd><p>The directory server is unable to write its updated configuration
     for some reason and therefore the server may not exhibit the new
     configuration if it is restarted.</p></dd><dt><span class="term"><code class="literal">org.opends.server.CannotWriteNewSchemaFiles</code></span></dt><dd><p>A problem has occurred while attempting to write new versions of the
     server schema configuration files, and the schema configuration has been
     left in a potentially inconsistent state.</p></dd><dt><span class="term"><code class="literal">org.opends.server.CannotWriteTaskFile</code></span></dt><dd><p>The directory server is unable to write an updated tasks backing
     file for some reason.</p></dd><dt><span class="term"><code class="literal">org.opends.server.DirectoryServerShutdown</code></span></dt><dd><p>The directory server has begun the process of shutting down.</p></dd><dt><span class="term"><code class="literal">org.opends.server.DirectoryServerStarted</code></span></dt><dd><p>The directory server has completed its startup process.</p></dd><dt><span class="term"><code class="literal">org.opends.server.DiskFull</code></span></dt><dd><p>Free disk space has reached the full threshold.</p><p>Default is 20 MB.</p></dd><dt><span class="term"><code class="literal">org.opends.server.DiskSpaceLow</code></span></dt><dd><p>Free disk space has reached the low threshold.</p><p>Default is 100 MB.</p></dd><dt><span class="term"><code class="literal">org.opends.server.EnteringLockdownMode</code></span></dt><dd><p>The directory server is entering lockdown mode, in which only root
     users are allowed to perform operations and only over the loopback
     address.</p></dd><dt><span class="term"><code class="literal">org.opends.server.LDAPHandlerDisabledByConsecutiveFailures</code></span></dt><dd><p>Consecutive failures have occurred in the LDAP connection handler
     and have caused it to become disabled.</p></dd><dt><span class="term"><code class="literal">org.opends.server.LDAPHandlerUncaughtError</code></span></dt><dd><p>Uncaught errors in the LDAP connection handler that have caused it
     to become disabled.</p></dd><dt><span class="term"><code class="literal">org.opends.server.LDIFBackendCannotWriteUpdate</code></span></dt><dd><p>An LDIF backend was unable to store an updated copy of the LDIF file
     after processing a write operation.</p></dd><dt><span class="term"><code class="literal">org.opends.server.LDIFConnectionHandlerIOError</code></span></dt><dd><p>The LDIF connection handler encountered an I/O error that prevented
     it from completing its processing.</p></dd><dt><span class="term"><code class="literal">org.opends.server.LDIFConnectionHandlerParseError</code></span></dt><dd><p>The LDIF connection handler encountered an unrecoverable error while
     attempting to parse an LDIF file.</p></dd><dt><span class="term"><code class="literal">org.opends.server.LeavingLockdownMode</code></span></dt><dd><p>The directory server is leaving lockdown mode.</p></dd><dt><span class="term"><code class="literal">org.opends.server.ManualConfigEditHandled</code></span></dt><dd><p>The directory server detects that its configuration has been
     manually edited with the server online and those changes were overwritten
     by another change made through the server. The manually-edited
     configuration will be copied to another location.</p></dd><dt><span class="term"><code class="literal">org.opends.server.ManualConfigEditLost</code></span></dt><dd><p>The directory server detects that its configuration has been
     manually edited with the server online and those changes were overwritten
     by another change made through the server. The manually-edited
     configuration could not be preserved due to an unexpected error.</p></dd><dt><span class="term"><code class="literal">org.opends.server.replication.UnresolvedConflict</code></span></dt><dd><p>Multimaster replication cannot resolve a conflict
     automatically.</p></dd><dt><span class="term"><code class="literal">org.opends.server.UncaughtException</code></span></dt><dd><p>A directory server thread has encountered an uncaught exception that
     caused that thread to terminate abnormally. The impact that this problem
     has on the server depends on which thread was impacted and the nature
     of the exception.</p></dd><dt><span class="term"><code class="literal">org.opends.server.UniqueAttributeSynchronizationConflict</code></span></dt><dd><p>A unique attribute conflict has been detected during synchronization
     processing.</p></dd><dt><span class="term"><code class="literal">org.opends.server.UniqueAttributeSynchronizationError</code></span></dt><dd><p>An error occurred while attempting to perform unique attribute
     conflict detection during synchronization processing.</p></dd></dl></div></div></div><div lang="en" class="chapter" id="chap-tuning"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;22.&nbsp;Tuning Servers For Performance</h1></div></div></div><a class="indexterm" name="d0e11137"></a><p>Server tuning refers to the art of adjusting server, JVM, and system
 configuration to meet the service level performance requirements of directory
 clients. In the optimal case you achieve service level performance
 requirements without much tuning at all, perhaps only setting JVM runtime
 options when installing OpenDJ.</p><p>If you are reading this chapter, however, you are probably not
 facing an optimal situation. Instead you are looking for trade offs that
 maximize performance for clients given the constraints of your deployment.
 This chapter therefore aims to provide suggestions on how to measure and
 to improve directory service performance for better trade offs.</p><div class="section" id="perf-define-starting-points"><div class="titlepage"><div><div><h2 class="title" style="clear: both">22.1.&nbsp;Defining Performance Requirements &amp; Constraints</h2></div></div></div><p>Your key performance requirement is most likely to satisfy your
  users or customers with the resources available to you. Before you can
  solve potential performance problems, define what those users or customers
  expect, and determine what resources you will have to satisfy their
  expectations.</p><div class="section" id="perf-sla"><div class="titlepage"><div><div><h3 class="title">22.1.1.&nbsp;Service-Level Agreements</h3></div></div></div><p>Service-level agreement (SLA) is a formal name for what directory
   client applications and the people who run them expect from your service in
   terms of performance.</p><p>SLAs might cover many aspects of the directory service. Whether or not
   your SLA is formally defined, you ought to know what is expected, or at least
   what you provide, in the following four areas.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Directory service <em class="firstterm">response times</em></p><p>Directory service response times range from less than a
     millisecond on average across a low latency connection on the same
     network to however long it takes your network to deliver the response.
     More important than average or best response times is the response time
     distribution, because applications set timeouts based on worst case
     scenarios. For example, a response time performance requirement might
     be defined as, "Directory response times must average less than 10
     milliseconds for all operations except searches returning more than 10
     entries, with 99.9% of response times under 40 milliseconds."</p></li><li class="listitem"><p>Directory service <em class="firstterm">throughput</em></p><a class="indexterm" name="d0e11169"></a><p>Directory service throughput can range up to many thousands of
     operations per second. In fact there is no upper limit for read operations
     such as searches, because only write operations must be replicated. To
     increase read throughput, simply add additional replicas. More important
     than average throughput is peak throughput. You might have peak write
     throughput in the middle of the night when batch jobs update entries in
     bulk, and peak binds for a special event or first thing Monday morning.
     For example, a throughput performance requirement might be expressed as,
     "The directory service must sustain a mix of 5,000 operations per second
     made up of 70% reads, 25% modifies, 3% adds, and 2% deletes."</p><p>Even better is to mimic the behavior of key operations for
     performance testing, so that you understand the patterns of operations
     in the throughput you need to provide.</p></li><li class="listitem"><p>Directory service <em class="firstterm">availability</em></p><p>OpenDJ is designed to let you build directory services that are
     basically available, including during maintenance and even upgrade of
     individual servers. Yet, in order to reach very high levels of
     availability, you must make sure not only that the software is
     designed for availability, but also that your operations execute in
     such a way as to preserve availability. Availability requirements
     can be as lax as best effort, or as stringent as 99.999% or more
     uptime.</p><p>Replication is the OpenDJ feature that allows you to build a
     highly available directory service.</p></li><li class="listitem"><p>Directory service administrative support</p><p>Do not forget to make sure you understand and set expectations
     about how you support your users when they run into trouble. Directory
     services can perhaps help you turn password management into a self-service
     visit to a web site, but some users no doubt still need to know what they
     can expect if they need your help.</p></li></ul></div><p>Writing down the SLA, even if your first version consists of
   guesses, helps you reduce performance tuning from an open-ended project
   to a clear set of measurable goals for a manageable project with a definite
   outcome.</p></div><div class="section" id="perf-constraints"><div class="titlepage"><div><div><h3 class="title">22.1.2.&nbsp;Available Resources</h3></div></div></div><p>With your SLA in hand, take inventory of the server, networks,
   storage, people, and other resources at your disposal. Now is the time to
   estimate whether it is possible to meet the requirements at all.</p><p>If for example you are expected to serve more throughput than the
   network can transfer, maintain high availability with only one physical
   machine, store 100 GB of backups on a 50 GB partition, or provide 24/7
   support all alone, no amount of tweaking available resources is likely to
   fix the problem.</p><p>When checking that the resources you have at least theoretically
   suffice to meet your requirements, do not forget that high availability in
   particular requires at least two of everything to avoid single points
   of failure. Be sure to list the resources you expect to have, when and how
   long you expect to have them, and why you need them. Also make note of
   what is missing and why.</p><div class="section" id="perf-hardware"><div class="titlepage"><div><div><h4 class="title">22.1.2.1.&nbsp;Server Hardware Recommendations</h4></div></div></div><p>Concerning server hardware, OpenDJ runs on systems with Java support,
    and is therefore quite portable. That said, OpenDJ tends to perform best on
    single-board, x86 systems due to low memory latency.</p></div><div class="section" id="perf-storage"><div class="titlepage"><div><div><h4 class="title">22.1.2.2.&nbsp;Storage Recommendations</h4></div></div></div><p>OpenDJ is designed to work with local storage for the database,
    not for network file systems such as NFS.</p><p>High performance storage is essential if you need to handle high
    write throughput.</p><p>The Berkeley Java Edition DB works well with traditional disks as
    long as the database cache size allows the DB to stay fully cached in
    memory. This is the case because the database transaction log is append
    only. When the DB is too big to stay cached in memory, however, then
    cache misses lead to random disk access, slowing OpenDJ performance.</p><p>You might mitigate this effect by using solid-state disks for
    persistent storage, or for file system cache.</p><p>Regarding database size on disk, if you have sustained write traffic
    then the database grows to about twice its initial size on disk. This is
    normal, and due to the way the database manages its logs. The size on disk
    does not impact the DB cache size requirements.</p></div></div></div><div class="section" id="perf-testing"><div class="titlepage"><div><div><h2 class="title" style="clear: both">22.2.&nbsp;Testing Performance</h2></div></div></div><p>Even if you do not need high availability, you still need two of
  everything, because your test environment needs to mimic your production
  environment as closely as possible if you want to avoid nasty
  surprises.</p><p>In your test environment, you set up OpenDJ as you will later in
  production, and then conduct experiments to determine how best to meet
  the requirements defined in the SLA.</p><p>Use <a href="../admin-guide/index.html#make-ldif-1" class="link">make-ldif</a> to generate
  sample data that match what you expect to find in production.</p><p>The OpenDJ LDAP Toolkit provides three command-line tools to help
  with basic performance testing.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The <a href="../dev-guide/index.html#authrate-1" class="link">authrate</a> command
    measures bind throughput and response time.</p></li><li class="listitem"><p>The <a href="../dev-guide/index.html#modrate-1" class="link">modrate</a> command
    measures modification throughput and response time.</p></li><li class="listitem"><p>The <a href="../dev-guide/index.html#searchrate-1" class="link">searchrate</a> command
    measures search throughput and response time.</p></li></ul></div><p>All three commands show you information about the response time
  distributions, and allow you to perform tests at specific levels of
  throughput.</p><p>If you need additional precision when evaluating response times, use
  the global configuration setting <code class="literal">etime-resolution</code> to
  change elapsed processing time resolution from milliseconds (default) to
  nanoseconds.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set etime-resolution:nanoseconds
 --no-prompt</pre><p>For more extensive testing, try the <a class="link" href="http://dl.thezonemanager.com/slamd/" target="_blank">SLAMD Distributed Load
  Generation Engine</a>. SLAMD is built to test more than just directory,
  but is particularly well suited to test directory service performance, is
  well documented, and is available under the Sun Public License. SLAMD is
  designed both to offer an easy to used web-based interface, and also to
  allow you to customize jobs to match the access patterns you expect from
  client applications.</p></div><div class="section" id="perf-tweaking"><div class="titlepage"><div><div><h2 class="title" style="clear: both">22.3.&nbsp;Tweaking OpenDJ Performance</h2></div></div></div><p>When your tests show that OpenDJ performance is lacking even though
  you have the right underlying network, hardware, storage, and system
  resources in place, you can tweak OpenDJ performance in a number of ways.
  This section mentions the most common tweaks.</p><div class="section" id="perf-java"><div class="titlepage"><div><div><h3 class="title">22.3.1.&nbsp;Java Settings</h3></div></div></div><p>Default Java settings let you evaluate OpenDJ using limited system
   resources. If you need high performance for production system, test with
   the following JVM options. These apply to the Sun/Oracle JVM.</p><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Tip</h3></div><div class="panel-body"><p>To apply JVM settings for your server, edit
    <code class="filename">config/java.properties</code>, and apply the changes with the
    <span class="command"><strong>dsjavaproperties</strong></span> command.</p></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-server</code></span></dt><dd><p>Use the C2 compiler and optimizer.</p></dd><dt><span class="term"><code class="option">-d64</code></span></dt><dd><p>To use a heap larger than about 3.5 GB on a 64-bit system, use
      this option.</p></dd><dt><span class="term"><code class="option">-Xms, -Xmx</code></span></dt><dd><p>Set both minimum and maximum heap size to the same value to avoid
      resizing. Leave space for the entire DB cache and more.</p></dd><dt><span class="term"><code class="option">-Xmn</code></span></dt><dd><p>Set the new generation size between 1-4 GB for high throughput
      deployments, but leave enough overall JVM heap to avoid overlaps with
      the space used for DB cache.</p></dd><dt><span class="term"><code class="option">-XX:MaxTenuringThreshold=1</code></span></dt><dd><p>Force OpenDJ to create only objects that have either a short
      lifetime, or a long lifetime.</p></dd><dt><span class="term"><code class="option">-XX:+UseConcMarkSweepGC</code></span></dt><dd><p>The CMS garbage collector tends to give the best performance
      characteristics. You might also consider the G1 garbage collector.</p></dd><dt><span class="term"><code class="option">-XX:+PrintGCDetails</code>, </span><span class="term"><code class="option">-XX:+PrintGCTimeStamps</code></span></dt><dd><p>Use these when diagnosing JVM tuning problems. You can turn them
      off when everything is running smoothly.</p></dd><dt><span class="term"><code class="option">-XX:+UseCompressedOops</code></span></dt><dd><p>Java object pointers normally have the same size as native machine
      pointers. If you run a small, but 64-bit JVM, then compressed object
      pointers can save space. Set this option when you have a 64-bit JVM,
      <code class="option">-Xmx</code> less than 32 GB, and Java SE 6u23 or later.</p></dd></dl></div></div><div class="section" id="perf-data-storage"><div class="titlepage"><div><div><h3 class="title">22.3.2.&nbsp;Data Storage Settings</h3></div></div></div><p>By default, OpenDJ compressing attribute descriptions and object class
   sets to reduce data size. This is called compact encoding.</p><p>By default, OpenDJ does not however compress entries stored in its
   backend database. If your entries hold values that compress well &#8212;
   such as text, and not JPEG photos or MP3 audio &#8212; you can gain space
   by setting the local DB backend property
   <code class="literal">entries-compressed</code> to <code class="literal">true</code> before you
   (re-)import data from LDIF. With <code class="literal">entries-compressed: true</code>
   OpenDJ compresses entries before writing them to the database.<a href="#ftn.d0e11367" class="footnote"><sup class="footnote" id="d0e11367">[10]</sup></a></p><pre class="cmdline prettyprint">$ dsconfig
 set-backend-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backend-name userRoot
 --set entries-compressed:true
 --trustAll
 --no-prompt
$ import-ldif
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --ldifFile /path/to/Example.ldif
 --backendID userRoot
 --includeBranch dc=example,dc=com
 --start 0
Import task 20120917100628767 scheduled to start Sep 17, 2012 10:06:28 AM CEST</pre></div><div class="section" id="perf-import"><div class="titlepage"><div><div><h3 class="title">22.3.3.&nbsp;LDIF Import Settings</h3></div></div></div><a class="indexterm" name="d0e11376"></a><p>You can tweak OpenDJ to speed up import of large LDIF files.</p><p>By default, the temporary directory used for scratch files is
   <code class="filename">import-tmp</code> under the directory where you installed
   OpenDJ. Use <span class="command"><strong>import-ldif</strong></span> with the
   <code class="option">--tmpdirectory</code> option to set this directory to a
   <code class="literal">tmpfs</code> file system, such as
   <code class="filename">/tmp</code>.</p><p>In some cases, you can improve performance by using the
   <code class="option">--threadCount</code> option with the
   <span class="command"><strong>import-ldif</strong></span> command to set the thread count larger than
   the default, which is twice the number of CPUs.</p><p>If you are certain your LDIF contains only valid entries with
   correct syntax, because the LDIF was exported from OpenDJ with all checks
   active for example, you can skip schema and DN validation. Use the
   <code class="option">--skipSchemaValidation</code> and
   <code class="option">--skipDNValidation</code> options with the
   <span class="command"><strong>import-ldif</strong></span> command to skip validation.</p></div><div class="section" id="perf-db-cache"><div class="titlepage"><div><div><h3 class="title">22.3.4.&nbsp;Database Cache Settings</h3></div></div></div><p>Database cache size is, by default, set as a percentage of the JVM
   heap, using the backend property <code class="literal">db-cache-percent</code>.
   Alternatively, you use the backend property
   <code class="literal">db-cache-size</code> to set the size. If you set up multiple
   database backends, the total percent of JVM heap used must remain less than
   100, and must leave space for other uses. Default settings work for servers
   with one user data backend JVM heaps up to 2 GB. For heaps larger than 2 GB,
   you can allocate a larger percentage of heap space to DB cache.</p><p>Depending on the size of your database, you have a choice to make
   about database cache settings.</p><p>By caching the entire database in the JVM heap, you can get more
   deterministic response times and limit disk I/O. Yet, caching the whole
   DB can require a very large JVM, which you must pre-load on startup, and
   which can result in long garbage collections and a difficult-to-manage
   JVM. Test database pre-load on startup by setting the
   <code class="literal">preload-time-limit</code> for the backend.</p><pre class="cmdline prettyprint">$ dsconfig
 set-backend-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --backend-name userRoot
 --set preload-time-limit:30m
 --trustAll
 --no-prompt</pre><p>Database pre-load is single-threaded, and loads each database one
   at a time.</p><p>By allowing file system cache to hold the portion of database that
   does not fit in DB cache, you trade less deterministic and slightly slower
   response times for not having to pre-load the DB and not having garbage
   collection pauses with large JVMs. How you configure the file system cache
   depends on your operating system.</p></div><div class="section" id="perf-entry-cache"><div class="titlepage"><div><div><h3 class="title">22.3.5.&nbsp;Entry Cache Settings</h3></div></div></div><p>OpenDJ implements an entry cache. The entry cache is not designed to
   cache every entry in your database, but is instead useful in cases where you
   have a few, typically large entries that are regularly used. For example, if
   you have a few large static groups and applications that regularly check
   group membership, you could cache your group entries.</p><pre class="cmdline prettyprint">$ dsconfig
 create-entry-cache
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --cache-name "Large Group Entry Cache"
 --type fifo
 --set cache-level:1
 --set include-filter:"(ou=Large Static Groups)"
 --set max-entries:10
 --set enabled:true
 --trustAll
 --no-prompt</pre><p>You can use the global setting, <code class="literal">entry-cache-preload</code>,
   to force OpenDJ to load the entry cache as part of server startup.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set entry-cache-preload:true
 --no-prompt</pre><p>By default, OpenDJ does not pre-load the entry cache.</p></div><div class="section" id="perf-logging"><div class="titlepage"><div><div><h3 class="title">22.3.6.&nbsp;Logging Settings</h3></div></div></div><p>Debug logs trace the internal workings of OpenDJ, and therefore
   generally should be used sparingly, especially in high performance
   deployments.</p><p>In general leave other logs active for production environments to
   help troubleshoot any issues that arise.</p><p>For OpenDJ servers handling very high throughput, however, such as
   100,000 operations per second or more, the access log constitute a
   performance bottleneck, as each client request results in multiple access log
   messages. Consider disabling the access log in such cases.</p><pre class="cmdline prettyprint">$ dsconfig
 set-log-publisher-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based Access Logger"
 --set enabled:false
 --trustAll
 --no-prompt</pre></div></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e11367" class="footnote"><p><a href="#d0e11367" class="para"><sup class="para">[10] </sup></a>OpenDJ does not proactively rewrite all entries in the database after
   you change the settings. Instead, to force OpenDJ to compress all entries,
   import the data from LDIF.</p></div></div></div><div lang="en" class="chapter" id="chap-change-certs"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;23.&nbsp;Changing Server Certificates</h1></div></div></div><a class="indexterm" name="d0e11478"></a><p>OpenDJ uses key stores (for private keys) and trust stores (for
 public, signed certificates). Up to three sets of key stores are used,
 as shown in the following illustration.</p><div class="mediaobject" align="center" id="figure-keystores"><a class="fancybox" href="images/keystores.png"><img class="img-responsive center-block" data-toggle="tooltip" src="images/thumb_keystores.png" align="middle"></a><div class="caption"><p>OpenDJ uses different sets of public and private keys for
  different secure connections.</p></div></div><div class="itemizedlist"><p>By default the key stores are located in the
  <code class="filename">/path/to/opendj/config</code> directory.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The <code class="filename">keystore</code> and <code class="filename">truststore</code>
   hold keys for securing connections with client applications.</p></li><li class="listitem"><p>The <code class="filename">admin-keystore</code> and
   <code class="filename">admin-truststore</code> hold keys for securing administrative
   connections, such as those used when connecting with the
   <span class="command"><strong>dsconfig</strong></span> command.</p></li><li class="listitem"><p>The <code class="filename">ads-truststore</code> holds keys for securing
   replication connections with other OpenDJ servers in the replication
   topology.</p></li></ul></div><div class="variablelist"><p>Each key store has a specific purpose.</p><dl class="variablelist"><dt><span class="term"><code class="filename">admin-keystore</code></span></dt><dd><p>This Java Key Store holds the private key and administrative
    certificate for the server, <code class="literal">admin-cert</code>. This key pair
    is used to protect communications on the administration port. The password,
    stored in <code class="filename">admin-keystore.pin</code>, is also the key password
    for <code class="literal">admin-cert</code>.</p></dd><dt><span class="term"><code class="filename">admin-truststore</code></span></dt><dd><p>This Java Key Store holds a copy of the administrative certificate,
    <code class="literal">admin-cert</code>. The password is the same as for the
    <code class="filename">admin-keystore</code>, in other words the string in
    <code class="filename">admin-keystore.pin</code>.</p></dd><dt><span class="term"><code class="filename">ads-truststore</code></span></dt><dd><p>This Java Key Store holds public key certificates of all servers
    replicating with the current server. It also includes the
    <code class="literal">ads-certificate</code> key pair of the current server.
    The password is stored in <code class="filename">ads-truststore.pin</code>.</p><p>Do not change this key store directly.</p></dd><dt><span class="term"><code class="filename">keystore</code></span></dt><dd><p>This Java Key Store holds the private key and server certificate,
    <code class="literal">server-cert</code>, used to protect TLS/SSL communications
    with client applications. The password, stored in
    <code class="filename">keystore.pin</code>, is also the key password for
    <code class="literal">server-cert</code>.</p></dd><dt><span class="term"><code class="filename">truststore</code></span></dt><dd><p>This Java Key Store holds a copy of the <code class="literal">server-cert</code>
    certificate from the <code class="filename">keystore</code>. This is also where you
    import certificates of client applications if you want OpenDJ to recognize
    them. The password is the same as for the <code class="filename">keystore</code>,
    in other words the string in <code class="filename">keystore.pin</code>.</p></dd></dl></div><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Tip</h3></div><div class="panel-body"><p>Examples in this chapter use self-signed certificates, but you can
  also use certificates signed by a Certificate Authority (CA).</p><p>When importing a certificate (<span class="command"><strong>keytool -import</strong></span>)
  signed by a well-known CA, use the <code class="option">-trustcacerts</code> option
  to trust the CA certificates delivered with the Java runtime
  environment.</p></div></div><div class="procedure" id="replace-key-pair"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;23.1.&nbsp;To Replace a Server Key Pair</div><p>This procedure shows how to replace a server key pair in the
  <code class="filename">admin-keystore</code> and copy of the administrative certificate
  in <code class="filename">admin-truststore</code>.</p><p>The examples also apply when replacing a key pair in the
  <code class="filename">keystore</code> and copy of the server certificate in
  <code class="filename">truststore</code>. Just adapt the commands to use the correct
  key store, trust store, and PIN file names.</p><p>This procedure does not apply for replication key pairs. Instead, see
  <a class="xref" href="#replace-ads-cert" title="Procedure&nbsp;23.2.&nbsp;To Replace the Key Pair Used for Replication">Procedure&nbsp;23.2, &#8220;To Replace the Key Pair Used for Replication&#8221;</a>.</p><ol class="procedure" type="1"><li class="step"><p>Check the alias of the key pair and certificate copy to replace.</p><pre class="cmdline prettyprint">$ cd /path/to/opendj/config
$ keytool -list -keystore admin-keystore -storepass `cat admin-keystore.pin`

Keystore type: JKS
Keystore provider: SUN

Your keystore contains 1 entry

admin-cert, Mar 15, 2013, PrivateKeyEntry,
Certificate fingerprint (SHA1): 54:9F:C3:F8:7B:B6:...:0A:98:D0:17:8E
$ keytool -list -keystore admin-truststore -storepass `cat admin-keystore.pin`

Keystore type: JKS
Keystore provider: SUN

Your keystore contains 1 entry

admin-cert, Mar 15, 2013, trustedCertEntry,
Certificate fingerprint (SHA1): 54:9F:C3:F8:7B:B6:...:0A:98:D0:17:8E</pre><p>This alias is also stored in the server configuration.</p></li><li class="step"><p>Remove the key pair and certificate copy to replace.</p><pre class="cmdline prettyprint">$ keytool
 -delete
 -alias admin-cert
 -keystore admin-keystore
 -storepass `cat admin-keystore.pin`
$ keytool
 -delete
 -alias admin-cert
 -keystore admin-truststore
 -storepass `cat admin-keystore.pin`</pre></li><li class="step"><p>Generate a new key pair in the key store.</p><pre class="cmdline prettyprint">$ keytool
 -genkey
 -alias admin-cert
 -keyalg RSA
 -validity 7300
 -keysize 2048
 -dname "CN=opendj.example.com, O=Administration Connector Self-Signed Certificate"
 -keystore admin-keystore
 -storepass `cat admin-keystore.pin`
 -keypass `cat admin-keystore.pin`</pre><p>Notice that the <code class="option">-alias</code> option takes the same alias
   as before. This is because the <code class="literal">ssl-cert-nickname</code> for
   the Administration Connector is configured as <code class="literal">admin-cert</code>.
   Also, the <code class="option">-dname</code> option has a CN value corresponding to the
   fully-qualified domain name of the host where OpenDJ directory server is
   running.</p></li><li class="step"><p>Get the new key pair's certificate signed, using one of the following
   alternatives.</p><ul class="stepalternatives">
    <li class="step"><p>Self-sign the certificate.</p><pre class="cmdline prettyprint">$ keytool
 -selfcert
 -alias admin-cert
 -keystore admin-keystore
 -storepass `cat admin-keystore.pin`</pre></li>

    <li class="step"><p>Create a certificate signing request, have it signed by a CA, and
     import the signed certificate from the CA reply.</p><p>For examples of the <span class="command"><strong>keytool</strong></span> commands to use, see
     the procedure <a href="../admin-guide/index.html#new-ca-signed-cert" class="link"><em class="citetitle">To Request and
     Install a CA-Signed Certificate</em></a>.</p></li>
   </ul></li><li class="step"><p>Export a copy of the certificate from the key store.</p><pre class="cmdline prettyprint">$ keytool
 -export
 -alias admin-cert
 -keystore admin-keystore
 -storepass `cat admin-keystore.pin`
 -file admin-cert.crt
Certificate stored in file &lt;admin-cert.crt&gt;</pre></li><li class="step"><p>Import the copy of the certificate into the trust store.</p><pre class="cmdline prettyprint">$ keytool
 -import
 -alias admin-cert
 -keystore admin-truststore
 -storepass `cat admin-keystore.pin`
 -file admin-cert.crt
Owner: CN=opendj.example.com, O=Administration Connector Self-Signed Certificate
Issuer: CN=opendj.example.com, O=Administration Connector Self-Signed Certificate
Serial number: 904fc2b
Valid from: Fri Mar 15 15:15:20 CET 2013 until: Thu Jun 13 16:15:20 CEST 2013
Certificate fingerprints:
	 MD5:  DD:2A:A1:3A:39:87:DF:02:15:A4:8A:9D:77:89:F1:E4
	 SHA1: E1:99:82:92:D7:9B:28:B7:93:D2:B5:5B:C9:DA:4E:D2:62:C2:E7:B0
	 SHA256: C5:34:9C:04:E2:87:A9:B1:72:B5:...:99:86:3A:02:28:D0:AB:02:5F:F4:BE
	 Signature algorithm name: SHA256withRSA
	 Version: 3

Extensions:

#1: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: FE 33 69 67 FF E8 64 F6   D3 FB CD 14 1C D3 01 44  .3ig..d........D
0010: EE 62 40 DD                                        .b@.
]
]

Trust this certificate? [no]:  yes
Certificate was added to keystore</pre></li><li class="step"><p>Restart OpenDJ to make sure it reloads the key stores.</p><pre class="cmdline prettyprint">$ cd /path/to/opendj/bin
$ stop-ds --restart</pre></li><li class="step"><p>If you have client applications trusting the self-signed certificate,
   have them import the new one (<code class="filename">admin-cert.crt</code> in this
   example).</p></li></ol></div></div><div class="procedure" id="replace-ads-cert"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;23.2.&nbsp;To Replace the Key Pair Used for Replication</div><p>Follow these steps to replace the key pair that is used to
  secure replication connections.</p><ol class="procedure" type="1"><li class="step"><p>Generate a new key pair for the server.</p><p>The changes you perform are replicated across the topology.</p><p>OpenDJ has an <code class="literal">ads-certificate</code> and private
   key, which is a local copy of the key pair used to secure replication
   connections.</p><p>To generate the new key pair, you remove the
   <code class="literal">ads-certificate</code> key pair, prompt OpenDJ to
   generate a new <code class="literal">ads-certificate</code> key pair, and
   then add a copy to the administrative data using the MD5 fingerprint
   of the certificate to define the RDN.</p><ol type="a" class="substeps"><li class="step"><p>Delete the <code class="literal">ads-certificate</code> entry.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: ds-cfg-key-id=ads-certificate,cn=ads-truststore
changetype: delete

Processing DELETE request for ds-cfg-key-id=ads-certificate,cn=ads-truststore
DELETE operation successful for DN ds-cfg-key-id=ads-certificate,
 cn=ads-truststore</pre></li><li class="step"><p>Prompt OpenDJ to generate a new, self-signed
    <code class="literal">ads-certificate</code> key pair.</p><p>You do this by adding an <code class="literal">ads-certificate</code> entry
    with object class <code class="literal">ds-cfg-self-signed-cert-request</code>.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: ds-cfg-key-id=ads-certificate,cn=ads-truststore
changetype: add
objectclass: ds-cfg-self-signed-cert-request

Processing ADD request for ds-cfg-key-id=ads-certificate,cn=ads-truststore
ADD operation successful for DN ds-cfg-key-id=ads-certificate,cn=ads-truststore</pre></li><li class="step"><p>Retrieve the <code class="literal">ads-certificate</code> entry.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --hostname opendj.example.com
 --baseDN cn=ads-truststore
 "(ds-cfg-key-id=ads-certificate)"
dn: ds-cfg-key-id=ads-certificate,cn=ads-truststore
ds-cfg-key-id: ads-certificate
ds-cfg-public-key-certificate;binary:: MIIB6zCCAVSgAwIBAgIEDKSUFjANBgkqhkiG9w0BA
 QUFADA6MRswGQYDVQQKExJPcGVuREogQ2VydGlmaWNhdGUxGzAZBgNVBAMTEm9wZW5hbS5leGFtcGxl
 LmNvbTAeFw0xMzAyMDcxMDMwMzNaFw0zMzAyMDIxMDMwMzNaMDoxGzAZBgNVBAoTEk9wZW5ESiBDZXJ
 0aWZpY2F0ZTEbMBkGA1UEAxMSb3BlbmFtLmV4YW1wbGUuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNAD
 CBiQKBgQCfGLAiUOz4sC8CM9T5DPTk9V9ErNC8N59XwBt1aN7UjhQl4/JZZsetubtUrZBLS9cRrnYdZ
 cpFgLQNEmXifS+PdZ0DJkaLNFmd8ZX0spX8++fb4SkkggkmNRmi1fccDQ/DHMlwl7kk884lXummrzcD
 GbZ7p4vnY7y7GmD1vZSP+wIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAJciUzUP8T8A9VV6dQB0SYCNG1o
 7IvpE7jGVZh6KvM0m5sBNX3wPbTVJQNij3TDm8nx6yhi6DUkpiAZfz/OBL5k+WSw80TjpIZ2+klhP1s
 srsST4Um4fHzDZXOXHR6NM83XxZBsR6MazYecL8CiGwnYW2AeBapzbAnGn1J831q1q
objectClass: top
objectClass: ds-cfg-instance-key</pre></li><li class="step"><p>Retrieve the MD5 fingerprint of the
    <code class="literal">ads-certificate</code>.</p><p>In this example, the MD5 fingerprint is
    <code class="literal">07:35:80:D8:F3:CE:E1:39:9C:D0:73:DB:6C:FA:CC:1C</code>.</p><pre class="cmdline prettyprint">$ keytool
 -list
 -v
 -alias ads-certificate
 -keystore /path/to/opendj/config/ads-truststore
 -storepass `cat /path/to/opendj/config/ads-truststore.pin`
Alias name: ads-certificate
Creation date: Feb 7, 2013
Entry type: PrivateKeyEntry
Certificate chain length: 1
Certificate[1]:
Owner: CN=opendj.example.com, O=OpenDJ Certificate
Issuer: CN=opendj.example.com, O=OpenDJ Certificate
Serial number: ca49416
Valid from: Thu Feb 07 11:30:33 CET 2013 until: Wed Feb 02 11:30:33 CET 2033
Certificate fingerprints:
	 MD5:  07:35:80:D8:F3:CE:E1:39:9C:D0:73:DB:6C:FA:CC:1C
	 SHA1: 56:30:F6:79:AA:C0:BD:61:88:3E:FB:38:38:9D:84:70:0B:E4:43:57
	 SHA256: A8:4B:81:EE:30:2A:0C:09:2E:...:C1:41:F5:AB:19:C6:EE:AB:50:64
	 Signature algorithm name: SHA1withRSA
	 Version: 3</pre></li><li class="step"><p>Using the MD5 fingerprint and the certificate entry, prepare LDIF
    to update <code class="literal">cn=admin data</code> with the new server
    certificate.</p><pre class="cmdline prettyprint">$ cat /path/to/update-server-cert.ldif
dn: ds-cfg-key-id=073580D8F3CEE1399CD073DB6CFACC1C,cn=instance keys,
 cn=admin data
changetype: add
ds-cfg-key-id: 073580D8F3CEE1399CD073DB6CFACC1C
ds-cfg-public-key-certificate;binary:: MIIB6zCCAVSgAwIBAgIEDKSUFjANBgkqhkiG9w0BA
 QUFADA6MRswGQYDVQQKExJPcGVuREogQ2VydGlmaWNhdGUxGzAZBgNVBAMTEm9wZW5hbS5leGFtcGxl
 LmNvbTAeFw0xMzAyMDcxMDMwMzNaFw0zMzAyMDIxMDMwMzNaMDoxGzAZBgNVBAoTEk9wZW5ESiBDZXJ
 0aWZpY2F0ZTEbMBkGA1UEAxMSb3BlbmFtLmV4YW1wbGUuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNAD
 CBiQKBgQCfGLAiUOz4sC8CM9T5DPTk9V9ErNC8N59XwBt1aN7UjhQl4/JZZsetubtUrZBLS9cRrnYdZ
 cpFgLQNEmXifS+PdZ0DJkaLNFmd8ZX0spX8++fb4SkkggkmNRmi1fccDQ/DHMlwl7kk884lXummrzcD
 GbZ7p4vnY7y7GmD1vZSP+wIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAJciUzUP8T8A9VV6dQB0SYCNG1o
 7IvpE7jGVZh6KvM0m5sBNX3wPbTVJQNij3TDm8nx6yhi6DUkpiAZfz/OBL5k+WSw80TjpIZ2+klhP1s
 srsST4Um4fHzDZXOXHR6NM83XxZBsR6MazYecL8CiGwnYW2AeBapzbAnGn1J831q1q
objectClass: top
objectClass: ds-cfg-instance-key

dn: cn=opendj.example.com:4444,cn=Servers,cn=admin data
changetype: modify
replace: ds-cfg-key-id
ds-cfg-key-id: 073580D8F3CEE1399CD073DB6CFACC1C

</pre></li><li class="step"><p>Update the administrative data, causing OpenDJ to create a
     copy of the new <code class="literal">ads-certificate</code> with its MD5 signature
     as the alias in the <code class="filename">ads-truststore</code>.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --filename /path/to/update-server-cert.ldif
Processing ADD request for ds-cfg-key-id=073580D8F3CEE1399CD073DB6CFACC1C,
 cn=instance keys,cn=admin data
ADD operation successful for DN ds-cfg-key-id=073580D8F3CEE1399CD073DB6CFACC1C,
 cn=instance keys,cn=admin data
Processing MODIFY request for cn=opendj.example.com:4444,cn=Servers,
 cn=admin data
MODIFY operation successful for DN cn=opendj.example.com:4444,cn=Servers,
 cn=admin data</pre></li></ol></li><li class="step"><p>Force OpenDJ to reopen replication connections using the new key
   pair.</p><p>Stop replication temporarily and then start it again as described
   in the <em class="citetitle">Administration Guide</em> section on <a href="../admin-guide/index.html#configure-repl" class="link"><em class="citetitle">Configuring Replication</em></a>.</p><pre class="cmdline prettyprint">$ dsconfig
 set-synchronization-provider-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --set enabled:false
 --no-prompt
$ dsconfig
 set-synchronization-provider-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --provider-name "Multimaster Synchronization"
 --set enabled:true
 --no-prompt</pre></li></ol></div></div></div><div lang="en" class="chapter" id="chap-mv-servers"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;24.&nbsp;Moving Servers</h1></div></div></div><a class="indexterm" name="d0e11837"></a><p>When you change where OpenDJ is deployed, you must take host names,
 port numbers, and certificates into account. The changes can also affect
 your replication configuration. This chapter shows what to do when moving
 a server.</p><a class="indexterm" name="d0e11842"></a><div class="section" id="moving-servers-overview"><div class="titlepage"><div><div><h2 class="title" style="clear: both">24.1.&nbsp;Overview</h2></div></div></div><p>From time to time you might change server hardware, file system layout,
  or host names. At those times you move the services running on the system.
  You can move OpenDJ data between servers and operating systems. Most of the
  configuration is also portable.</p><a class="indexterm" name="d0e11852"></a><div class="itemizedlist"><p>Two aspects of the configuration are not portable.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Server certificates contain the host name of the system. Even if you
    did not set up secure communications when you installed the server, the
    server still has a certificate used for secure communications on the
    administrative port.</p><p>To resolve the issue with server certificates, you can change the
    server certificates during the move as described in this chapter.</p></li><li class="listitem"><p>Replication configuration includes the host name and administrative
    port numbers.</p><p>You can work around the issue with replication configuration by
    disabling replication for the server before the move, and then enabling and
    initializing replication again after the move.</p></li></ul></div></div><div class="section" id="before-moving-servers"><div class="titlepage"><div><div><h2 class="title" style="clear: both">24.2.&nbsp;Before You Move</h2></div></div></div><p>Take a moment to determine whether you find it quicker and easier to
  move your server, or instead to recreate a copy. To recreate a copy, install
  a new server, set up the new server configuration to match the old, and then
  copy only the data from the old server to the new server, initializing
  replication from existing data, or even from LDIF if your database is not
  too large.</p><p>After you decide to move a server, start by taking it out of
  service. Taking it out of service means directing client applications
  elsewhere, and then preventing updates from client applications, and finally
  disabling replication, too. Directing client applications elsewhere depends
  on your network configuration and possibly on your client application
  configuration. The other two steps can be completed with the
  <span class="command"><strong>dsconfig</strong></span> and <span class="command"><strong>dsreplication</strong></span>
  commands.</p><div class="procedure" id="remove-server"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;24.1.&nbsp;To Take the Server Out of Service</div><ol class="procedure" type="1"><li class="step"><p>Direct client applications to other servers.</p><p>How you do this depends on your network and client application
    configurations.</p></li><li class="step"><p>Prevent the server from accepting updates from client
    applications.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj2.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set writability-mode:internal-only
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Disable replication for the server.</p><pre class="cmdline prettyprint">$ dsreplication
 disable
 --disableAll
 --port 4444
 --hostname opendj2.example.com
 --adminUID admin
 --adminPassword password
 --trustAll
 --no-prompt
Establishing connections ..... Done.
Disabling replication on base DN dc=example,dc=com of server
 opendj2.example.com:4444 ..... Done.
Disabling replication on base DN cn=admin data of server
 opendj2.example.com:4444 ..... Done.
Disabling replication on base DN cn=schema of server
 opendj2.example.com:4444 ..... Done.
Disabling replication port 8989 of server opendj2.example.com:4444 ..... Done.
Removing registration information ..... Done.
Removing truststore information ..... Done.

See
/var/.../opends-replication-3173475478874782719.log
for a detailed log of this operation.</pre></li><li class="step"><p>With the server no longer receiving traffic or accepting updates
    from clients, and no longer replicating to other servers, you can shut it
    down in preparation for the move.</p><pre class="cmdline prettyprint">$ stop-ds
Stopping Server...

... msg=The Directory Server is now stopped</pre></li><li class="step"><p>You might also choose to remove extra log files from the server
    <code class="filename">logs/</code> directory before moving the server.</p></li></ol></div></div></div><div class="section" id="moving-servers"><div class="titlepage"><div><div><h2 class="title" style="clear: both">24.3.&nbsp;Moving a Server</h2></div></div></div><p>Now that you have decided to move your server, and prepared for the
  move, you must not only move the files but also fix the configuration and
  the server certificates, and then enable replication.</p><div class="procedure" id="mv-one-server"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;24.2.&nbsp;To Move the Server</div><ol class="procedure" type="1"><li class="step"><p>Move the contents of the server installation directory to the new
    location.</p></li><li class="step"><p>If you must change port numbers, edit the port numbers in
    <code class="filename">config/config.ldif</code>, carefully avoiding changing
    any whitespace or other lines in the file.</p></li><li class="step"><p>Change server certificates as described in the chapter on
    <a href="../admin-guide/index.html#chap-change-certs" class="link"><em class="citetitle">Changing
    Server Certificates</em></a>.</p></li><li class="step"><p>Start the server.</p><pre class="cmdline prettyprint">$ start-ds
... The Directory Server has started successfully</pre></li><li class="step"><p>Enable and initialize replication.</p><pre class="cmdline prettyprint">$ dsreplication
 enable
 --adminUID admin
 --bindPassword password
 --baseDN dc=example,dc=com
 --host1 opendj.example.com
 --port1 4444
 --bindDN1 "cn=Directory Manager"
 --bindPassword1 password
 --replicationPort1 8989
 --host2 opendj2.example.com
 --port2 4444
 --bindDN2 "cn=Directory Manager"
 --bindPassword2 password
 --replicationPort2 8989
 --trustAll
 --no-prompt

Establishing connections ..... Done.
Checking registration information ..... Done.
Configuring Replication port on server opendj.example.com:4444 ..... Done.
Updating remote references on server opendj2.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj2.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj2.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj2.example.com:4444 ..... Done.
Initializing registration information on server opendj.example.com:4444 with
 the contents of server opendj2.example.com:4444 ..... Done.
Initializing schema on server opendj2.example.com:4444 with the contents of
 server opendj.example.com:4444 ..... Done.

Replication has been successfully enabled.  Note that for replication to work
 you must initialize the contents of the base DN's that are being replicated
 (use dsreplication initialize to do so).

See /tmp/opends-replication-1476402020764482023.log for a detailed log of this
operation.

$ dsreplication
 pre-external-initialization
 --adminUID admin
 --bindPassword password
 --port 4444
 --baseDN dc=example,dc=com
 --trustAll
 --no-prompt

Preparing base DN dc=example,dc=com to be initialized externally ..... Done.

Now you can proceed to the initialization of the contents of the base DN's on
 all the replicated servers.  You can use the command import-ldif or the binary
 copy to do so.  You must use the same LDIF file or binary copy on each server.

When the initialization is completed you must use the subcommand
 'post-external-initialization' for replication to work with the new base DN's
 contents.
$ dsreplication
 post-external-initialization
 --adminUID admin
 --bindPassword password
 --port 4444
 --baseDN dc=example,dc=com
 --trustAll
 --no-prompt

Updating replication information on base DN dc=example,dc=com ..... Done.

Post initialization procedure completed successfully.</pre></li><li class="step"><p>Accept updates from client applications.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set writability-mode:enabled
 --trustAll
 --no-prompt</pre></li><li class="step"><p>Direct client applications to the server.</p></li></ol></div></div></div></div><div lang="en" class="chapter" id="chap-troubleshooting"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;25.&nbsp;Troubleshooting Server Problems</h1></div></div></div><a class="indexterm" name="d0e11961"></a><p>This chapter describes how to troubleshoot common server problems,
 and how to collect information necessary when seeking support help.</p><div class="section" id="troubleshoot-identify-problem"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.1.&nbsp;Identifying the Problem</h2></div></div></div><p>In order to solve your problem methodically, save time by defining the
  problem clearly up front. In a replicated environment with multiple directory
  servers and many client applications, it can be particularly important to
  pin down not only the problem (difference in observed behavior compared to
  expected behavior), but also the circumstances and steps that lead to the
  problem occurring.</p><div class="itemizedlist"><p>Answer the following questions.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>How do you reproduce the problem?</p></li><li class="listitem"><p>What exactly is the problem? In other words, what is the behavior
    you expected? What is the behavior you observed?</p></li><li class="listitem"><p>When did the problem start occurring? Under similar circumstances,
    when does the problem not occur?</p></li><li class="listitem"><p>Is the problem permanent? Intermittent? Is it getting worse?
    Getting better? Staying the same?</p></li></ul></div><p>Pinpointing the problem can sometimes indicate where you should
  start looking for solutions.</p></div><div class="section" id="troubleshoot-installation"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.2.&nbsp;Troubleshooting Installation &amp; Upgrade</h2></div></div></div><p>Installation and upgrade procedures result in a log file tracing
  the operation. The log location differs by operating system, but look for
  lines in the command output of the following form.</p><pre class="literallayout">See /var/....log for a detailed log of this operation.</pre></div><div class="section" id="troubleshoot-reset-admin-passwords"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.3.&nbsp;Resetting Administrator Passwords</h2></div></div></div><p>This section describes what to do if you forgot the password for
  Directory Manager or for the global (replication) administrator.</p><div class="procedure" id="reset-directory-manager-password"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;25.1.&nbsp;Resetting the Directory Manager's Password</div><a class="indexterm" name="d0e12003"></a><p>OpenDJ directory server stores the entry for Directory Manager in
   the LDIF representation of its configuration. You must be able to edit
   directory server files in order to reset Directory Manager's password.</p><ol class="procedure" type="1"><li class="step"><p>Generate the encoded version of the new password using the OpenDJ
    <span class="command"><strong>encode-password</strong></span> command.</p><pre class="cmdline prettyprint">$ cd /path/to/opendj/bin/
$ ./encode-password --storageScheme SSHA512 --clearPassword password
Encoded Password:  "{SSHA512}yWqHnYV4a5llPvE7WHLe5jzK27oZQWLIlVcs9gySu4TyZJMg
 NQNRtnR/Xx2xces1wu1dVLI9jVVtl1W4BVsmOKjyjr0rWrHt"</pre></li><li class="step"><p>Stop OpenDJ directory server while you edit the configuration.</p><pre class="cmdline prettyprint">$ ./stop-ds</pre></li><li class="step"><p>Find Directory Manager's entry, which has DN <code class="literal">cn=Directory
    Manager,cn=Root DNs,cn=config</code>, in
    <code class="filename">/path/to/opendj/config/config.ldif</code>, and carefully
    replace the <code class="literal">userpassword</code> attribute value with the
    encoded version of the new password, taking care not to leave any
    whitespace at the end of the line.</p><pre class="codelisting prettyprint">dn: cn=Directory Manager,cn=Root DNs,cn=config
objectClass: person
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: ds-cfg-root-dn-user
objectClass: top
userpassword: {SSHA512}yWqHnYV4a5llPvE7WHLe5jzK27oZQWLIlVcs9gySu4TyZJMg
 NQNRtnR/Xx2xces1wu1dVLI9jVVtl1W4BVsmOKjyjr0rWrHt
givenName: Directory
cn: Directory Manager
ds-cfg-alternate-bind-dn: cn=Directory Manager
sn: Manager
ds-pwp-password-policy-dn: cn=Root Password Policy,cn=Password Policies
 ,cn=config
ds-rlim-time-limit: 0
ds-rlim-lookthrough-limit: 0
ds-rlim-idle-time-limit: 0
ds-rlim-size-limit: 0</pre></li><li class="step"><p>Start OpenDJ directory server again.</p><pre class="cmdline prettyprint">$ ./start-ds</pre></li><li class="step"><p>Verify that you can administer the server as Directory Manager using
    the new password.</p><pre class="cmdline prettyprint">$ ./dsconfig -p 4444 -h `hostname` -D "cn=Directory Manager" -w password


&gt;&gt;&gt;&gt; OpenDJ configuration console main menu

What do you want to configure?

...

Enter choice: q</pre></li></ol></div></div><div class="procedure" id="reset-repl-admin-password"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;25.2.&nbsp;To Reset the Global Administrator's Password</div><a class="indexterm" name="d0e12055"></a><p>When you enable replication, part of the process involves creating a
   global administrator and setting that user's password. This user is present
   on all replicas. If you chose default values, this user has DN
   <code class="literal">cn=admin,cn=Administrators,cn=admin data</code>. You reset the
   password as you would for any other user, though you do so as Directory
   Manager.</p><ol class="procedure" type="1"><li class="step"><p>Use the <span class="command"><strong>ldappasswordmodify</strong></span> command to reset the
    global administrator's password</p><pre class="cmdline prettyprint">$ cd /path/to/opendj/bin/
$ ./ldappasswordmodify
 --useStartTLS
 --port 1389
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --authzID "cn=admin,cn=Administrators,cn=admin data"
 --newPassword password
The LDAP password modify operation was successful</pre></li><li class="step"><p>Let replication copy the password change to other replicas.</p></li></ol></div></div></div><div class="section" id="troubleshoot-enable-debug-logging"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.4.&nbsp;Enabling Debug Logging</h2></div></div></div><a class="indexterm" name="d0e12080"></a><a class="indexterm" name="d0e12083"></a><p>OpenDJ can write debug information and stack traces to the server
  debug log. What is logged depends both on debug targets that you create,
  and also on the debug level that you choose.</p><div class="procedure" id="configure-debug-logging"><div class="procedure-inner"><div class="procedure-title">Procedure&nbsp;25.3.&nbsp;To Configure Debug Logging</div><ol class="procedure" type="1"><li class="step"><p>Enable the debug log, <code class="filename">opendj/logs/debug</code>, which
    is not enabled by default.</p><pre class="cmdline prettyprint">$ dsconfig
 set-log-publisher-prop
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based Debug Logger"
 --set enabled:true
 --set default-debug-level:all
 --no-prompt
 --trustAll</pre><p>You can set <code class="literal">default-debug-level</code> to a less verbose
    level if necessary.</p></li><li class="step"><p>Create a debug target or targets.</p><p>No debug targets are enabled by default.</p><pre class="cmdline prettyprint">$ dsconfig
 list-debug-targets
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based Debug Logger"
 --no-prompt
 --trustAll

Debug Target : debug-level : debug-category
-------------:-------------:---------------

$ </pre><p>A debug target specifies a fully-qualified OpenDJ Java package,
    class, or method for which to log debug messages at the level you
    specify.</p><pre class="cmdline prettyprint">$ dsconfig
 create-debug-target
 --hostname opendj.example.com
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --publisher-name "File-Based Debug Logger"
 --type generic
 --target-name org.opends.server.api
 --set debug-level:all
 --no-prompt
 --trustAll</pre></li><li class="step"><p>Restart OpenDJ to see debug messages in the log.</p><pre class="cmdline prettyprint">$ /path/to/opendj/bin/stop-ds --restart
...
$ tail -f /path/to/opendj/logs/debug
...</pre><p>If you have set <code class="literal">debug-level:all</code>, OpenDJ generates
    a great deal of output in the debug log file. Use debug logging very
    sparingly on production systems.</p></li></ol></div></div></div><div class="section" id="troubleshoot-use-lockdown-mode"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.5.&nbsp;Preventing Access While You Fix Issues</h2></div></div></div><a class="indexterm" name="d0e12134"></a><p>Misconfiguration can potentially put OpenDJ in a state where you must
  intervene, and where you need to prevent users and applications
  from accessing the directory until you are done fixing the problem.</p><p>OpenDJ provides a <em class="firstterm">lockdown mode</em> that allows
  connections only on the loopback address, and allows only operations
  requested by root users, such as <code class="literal">cn=Directory
  Manager</code>. You can use lockdown mode to prevent all but
  administrative access to OpenDJ in order to repair the server.</p><p>To put OpenDJ into lockdown mode, the server must be running. You
  cause the server to enter lockdown mode by using a task. Notice that
  the modify operation is performed over the loopback address (accessing
  OpenDJ on the local host).</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
dn: ds-task-id=Enter Lockdown Mode,cn=Scheduled Tasks,cn=tasks
objectClass: top
objectClass: ds-task
ds-task-id: Enter Lockdown Mode
ds-task-class-name: org.opends.server.tasks.EnterLockdownModeTask

Processing ADD request for
 ds-task-id=Enter Lockdown Mode,cn=Scheduled Tasks,cn=tasks
ADD operation successful for DN
 ds-task-id=Enter Lockdown Mode,cn=Scheduled Tasks,cn=tasks</pre><p>OpenDJ logs a notice message in <code class="filename">logs/errors</code>
  when lockdown mode takes effect.</p><pre class="literallayout">
[30/Jan/2012:17:04:32 +0100] category=BACKEND severity=NOTICE msgID=9896350
 msg=Lockdown task Enter Lockdown Mode finished execution</pre><p>Client applications that request operations get a message concerning
  lockdown mode.</p><pre class="cmdline prettyprint">$ ldapsearch --port 1389 --baseDN "" --searchScope base "(objectclass=*)" +
SEARCH operation failed
Result Code:  53 (Unwilling to Perform)
Additional Information:  Rejecting the requested operation because the server
 is in lockdown mode and will only accept requests from root users over
 loopback connections</pre><p>You also leave lockdown mode by using a task.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --defaultAdd
dn: ds-task-id=Leave Lockdown Mode,cn=Scheduled Tasks,cn=tasks
objectClass: top
objectClass: ds-task
ds-task-id: Leave Lockdown Mode
ds-task-class-name: org.opends.server.tasks.LeaveLockdownModeTask

Processing ADD request for
 ds-task-id=Leave Lockdown Mode,cn=Scheduled Tasks,cn=tasks
ADD operation successful for DN
 ds-task-id=Leave Lockdown Mode,cn=Scheduled Tasks,cn=tasks</pre><p>OpenDJ also logs a notice message when leaving lockdown.</p><pre class="literallayout">
[30/Jan/2012:17:13:05 +0100] category=BACKEND severity=NOTICE msgID=9896350
 msg=Leave Lockdown task Leave Lockdown Mode finished execution</pre></div><div class="section" id="troubleshoot-import"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.6.&nbsp;Troubleshooting LDIF Import</h2></div></div></div><p>By default OpenDJ requires that LDIF data you import respect standards.
  In particular, OpenDJ is set to check that entries to import match the
  schema defined for the server. You can temporarily bypass this check by using
  the <code class="option">--skipSchemaValidation</code> with the
  <span class="command"><strong>import-ldif</strong></span> command.</p><p>OpenDJ also ensures by default that entries have only one structural
  object class. You can relax this behavior by using the advanced global
  configuration property,
  <code class="literal">single-structural-objectclass-behavior</code>. This can be useful
  when importing data exported from Sun Directory Server. For example, to
  warn when entries have more than one structural object class instead of
  reject such entries being added, set
  <code class="literal">single-structural-objectclass-behavior:warn</code> as
  follows.</p><pre class="cmdline prettyprint">$ dsconfig
 set-global-configuration-prop
 --port 4444
 --hostname `hostname`
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --set single-structural-objectclass-behavior:warn
 --trustAll
 --no-prompt</pre><p>By default, OpenDJ also checks syntax for a number of attribute types.
  You can relax this behavior as well by using the <span class="command"><strong>dsconfig
  set-attribute-syntax-prop</strong></span> command. See the list of attribute
  syntaxes and use the <code class="option">--help</code> option for further
  information.</p><p>When running <span class="command"><strong>import-ldif</strong></span>, you can use the <code class="option">-R
  <em class="replaceable"><code>rejectFile</code></em></code> option to capture entries that
  could not be imported, and the <code class="option">--countRejects</code> option to
  return the number of rejected entries as the <span class="command"><strong>import-ldif</strong></span>
  exit code.</p><p>Once you work through the issues with your LDIF data, reinstate the
  default behavior to ensure automated checking.</p></div><div class="section" id="troubleshoot-secure-connections"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.7.&nbsp;Troubleshooting TLS/SSL Connections</h2></div></div></div><p>In order to trust the server certificate, client applications usually
  compare the signature on certificates with those of the Certificate
  Authorities (CAs) whose certificates are distributed with the client
  software. For example, the Java environment is distributed with a key store
  holding many CA certificates.</p><pre class="cmdline prettyprint">$ keytool -list -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit
 | wc -l
     334</pre><p>The self-signed server certificates that can be configured during
  OpenDJ setup are not recognized as being signed by any CAs. Your software
  therefore is configured not to trust the self-signed certificates by
  default. You must either configure the client applications to accept the
  self-signed certificates, or else use certificates signed by recognized
  CAs.</p><p>You can further debug the network traffic by collecting debug traces.
  To see the traffic going over TLS/SSL in debug mode, configure OpenDJ to dump
  debug traces from <code class="literal">javax.net.debug</code> into the
  <code class="filename">logs/server.out</code> file.</p><pre class="cmdline prettyprint">OPENDJ_JAVA_ARGS="-Djavax.net.debug=all" start-ds</pre><div class="section" id="troubleshoot-certificate-authentication"><div class="titlepage"><div><div><h3 class="title">25.7.1.&nbsp;Troubleshooting Certificates &amp; SSL Authentication</h3></div></div></div><p>Replication uses SSL to protect directory data on the network.
   In some configurations, replica can fail to connect to each other due
   to SSL handshake errors. This leads to error log messages such as the
   following.</p><pre class="cmdline prettyprint">[21/Nov/2011:13:03:20 -0600] category=SYNC severity=NOTICE
 msgID=15138921 msg=SSL connection attempt from myserver (123.456.789.012)
 failed: Remote host closed connection during handshake</pre><div class="itemizedlist"><p>Notice these problem characteristics in the message above.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The host name, <code class="literal">myserver</code>, is not fully
    qualified.</p><p>You should not see non fully qualified host names in the error logs.
    Non fully qualified host names are a sign that an OpenDJ server has not
    been configured properly.</p><p>Always install and configure OpenDJ using fully-qualified host names.
    The OpenDJ administration connector, which is used by the
    <span class="command"><strong>dsconfig</strong></span> command, and also replication depend upon SSL
    and, more specifically, self-signed certificates for establishing SSL
    connections. If the host name used for connection establishment does not
    correspond to the host name stored in the SSL certificate then the SSL
    handshake can fail. For the purposes of establishing the SSL connection,
    a host name like <code class="literal">myserver</code> does not match
    <code class="literal">myserver.example.com</code>, and vice versa.</p></li><li class="listitem"><p>The connection succeeded, but the SSL handshake failed, suggesting
    a problem with authentication or with the cipher or protocol negotiation.
    As most deployments use the same Java Virtual Machine, and the same JVM
    configuration for each replica, the problem is likely not related to SSL
    cipher or protocol negotiation, but instead lies with authentication.</p></li></ul></div><div class="orderedlist"><p>Follow these steps on each OpenDJ server to check whether the problem
   lies with the host name configuration.</p><ol class="orderedlist" type="1"><li class="listitem"><p>Make sure each OpenDJ server uses only fully qualified host names in
    the replication configuration. You can obtain a quick summary by running
    the following command against each server's configuration.</p><pre class="cmdline prettyprint">$ grep ds-cfg-replication-server: config/config.ldif | sort | uniq</pre></li><li class="listitem"><p>Make sure that the host names in OpenDJ certificates also contain
    fully qualified host names, and correspond to the host names found in the
    previous step.</p><pre class="cmdline prettyprint"># Examine the certificates used for the administration connector.
$ keytool -list -v -keystore config/admin-truststore
 -storepass `cat config/admin-keystore.pin` |grep "^Owner:"

# Examine the certificates used for replication.
$ keytool -list -v -keystore config/ads-truststore
 -storepass `cat config/ads-truststore.pin`| grep "^Owner:"
    </pre></li></ol></div><p>Sample output for a server on host <code class="literal">opendj.example.com</code>
  follows.</p><pre class="cmdline prettyprint">$ grep ds-cfg-replication-server: config/config.ldif |sort | uniq
ds-cfg-replication-server: opendj.example.com:8989
ds-cfg-replication-server: opendj.example.com:9989

$ keytool -list -v -keystore config/admin-truststore
-storepass `cat config/admin-keystore.pin` | grep "^Owner:"
Owner: CN=opendj.example.com, O=Administration Connector Self-Signed Certificate

$ keytool -list -v -keystore config/ads-truststore
 -storepass `cat config/ads-truststore.pin`| grep "^Owner:"
Owner: CN=opendj.example.com, O=OpenDJ Certificate
Owner: CN=opendj.example.com, O=OpenDJ Certificate
Owner: CN=opendj.example.com, O=OpenDJ Certificate</pre><div class="itemizedlist"><p>Unfortunately there is no easy solution to badly configured host
    names. It is often easier and quicker simply to reinstall your OpenDJ
    servers remembering to use fully qualified host names everywhere.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>When using the <span class="command"><strong>setup</strong></span> tool to install and
     configure a server ensure that the <code class="option">-h</code> option is
     included, and that it specifies the fully qualified host name. Make sure
     you include this option even if you are not enabling SSL/StartTLS LDAP
     connections (see <a class="link" href="https://bugster.forgerock.org/jira/browse/OPENDJ-363" target="_top">OPENDJ-363</a>).</p><p>If you are using the GUI installer, then make sure you specify the
     fully qualified host name on the first page of the wizard.</p></li><li class="listitem"><p>When using the <span class="command"><strong>dsreplication</strong></span> tool to enable
     replication make sure that any <code class="option">--host</code> options include the
     fully qualified host name.</p></li></ul></div><div class="orderedlist"><p>If you cannot reinstall the server, follow these steps.</p><ol class="orderedlist" type="1"><li class="listitem"><p>Disable replication in each replica.</p><pre class="cmdline prettyprint">$ dsreplication
 disable
 --disableAll
 --port <em><strong>adminPort</strong></em>
 --hostname <em><strong>hostName</strong></em>
 --bindDN "cn=Directory Manager"
 --adminPassword <em><strong>password</strong></em>
 --trustAll
 --no-prompt</pre></li><li class="listitem"><p>Stop and restart each server in order to clear the in-memory ADS
     trust store backend.</p></li><li class="listitem"><p>Enable replication making certain that fully qualified host names
     are used throughout</p><pre class="cmdline prettyprint">$ dsreplication
 enable
 --adminUID admin
 --adminPassword <em><strong>password</strong></em>
 --baseDN dc=example,dc=com
 --host1 <em><strong>hostName1</strong></em>
 --port1 <em><strong>adminPort1</strong></em>
 --bindDN1 "cn=Directory Manager"
 --bindPassword1 <em><strong>password</strong></em>
 --replicationPort1 <em><strong>replPort1</strong></em>
 --host2 <em><strong>hostName2</strong></em>
 --port2 <em><strong>adminPort2</strong></em>
 --bindDN2 "cn=Directory Manager"
 --bindPassword2 <em><strong>password</strong></em>
 --replicationPort2 <em><strong>replPort2</strong></em>
 --trustAll
 --no-prompt</pre></li><li class="listitem"><p>Repeat the previous step for each remaining replica. In other words,
     host1 with host2, host1 with host3, host1 with host4, ..., host1 with
     hostN.</p></li><li class="listitem"><p>Initialize all remaining replica with the data from host1.</p><pre class="cmdline prettyprint">$ dsreplication
 initialize-all
 --adminUID admin
 --adminPassword password
 --baseDN dc=example,dc=com
 --hostname <em><strong>hostName1</strong></em>
 --port 4444
 --trustAll
 --no-prompt</pre></li><li class="listitem"><p>Check that the host names are correct in the configuration and in
     the key stores by following the steps you used to check for host name
     problems. The only broken host name remaining should be in the key and
     trust stores for the administration connector.</p><pre class="cmdline prettyprint">$ keytool -list -v -keystore config/admin-truststore
 -storepass `cat config/admin-keystore.pin` |grep "^Owner:"</pre></li><li class="listitem"><p>Stop each server, and then fix the remaining admin connector
     certificate as described here in the procedure <a href="../admin-guide/index.html#replace-key-pair" class="link"><em class="citetitle">To Replace a
     Server Key Pair</em></a>.</p></li></ol></div></div><div class="section" id="troubleshoot-compromised-key"><div class="titlepage"><div><div><h3 class="title">25.7.2.&nbsp;Handling Compromised Keys</h3></div></div></div><a class="indexterm" name="d0e12406"></a><a class="indexterm" name="d0e12409"></a><p>As explained in <a href="../admin-guide/index.html#chap-change-certs" class="link"><em class="citetitle">Changing Server Certificates</em></a>, OpenDJ directory server
   has different keys and key stores for different purposes. The public keys
   used for replication are also used to encrypt shared secret symmetric keys
   for example to encrypt and to sign back ups. This section looks at what to
   do if either a key pair or secret key is compromised.</p><div class="itemizedlist"><p>How you deal with the problem depends on which key was
    compromised.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For a key pair used for a client connection handler and with a
     certificate signed by a certificate authority (CA), contact the CA for
     help. The CA might choose to publish a certificate revocation list (CRL)
     that identifies the certificate of the compromised key pair.</p><p>Also make sure you replace the key pair. See <a href="../admin-guide/index.html#replace-key-pair" class="link"><em class="citetitle">To Replace a
     Server Key Pair</em></a> for specific steps.</p></li><li class="listitem"><p>For a key pair used for a client connection handler and that has
     a self-signed certificate, follow the steps in <a href="../admin-guide/index.html#replace-key-pair" class="link"><em class="citetitle">To Replace a
     Server Key Pair</em></a>, and make sure the clients remove the
     compromised certificate from their trust stores, updating those trust
     stores with the new certificate.</p></li><li class="listitem"><p>For a key pair that is used for replication, mark the key as
     compromised as described below, and replace the key pair. See <a href="../admin-guide/index.html#replace-ads-cert" class="link"><em class="citetitle">To Replace a
     Server Key Pair</em></a> for specific steps.</p><div class="orderedlist"><p>To mark the key pair as compromised, follow these steps.</p><ol class="orderedlist" type="1"><li class="listitem"><p>Identity the key entry by searching administrative data on the
       server whose key was compromised.</p><p>The server in this example is installed on
       <code class="literal">opendj.example.com</code> with administration port
       <code class="literal">4444</code>.</p><pre class="cmdline prettyprint">$ ldapsearch
&nbsp;--port 1389
&nbsp;--hostname opendj.example.com
&nbsp;--baseDN "cn=admin data"
&nbsp;"(cn=opendj.example.com:4444)" ds-cfg-key-id
dn: cn=opendj.example.com:4444,cn=Servers,cn=admin data
ds-cfg-key-id: 4F2F97979A7C05162CF64C9F73AF66ED</pre><p>The key ID, <code class="literal">4F2F97979A7C05162CF64C9F73AF66ED</code>, is
       the RDN of the key entry.</p></li><li class="listitem"><p>Mark the key as compromised by adding the attribute,
       <code class="literal">ds-cfg-key-compromised-time</code>, to the key entry.</p><p>The attribute has generalized time syntax, and so takes as its
       value the time at which the key was compromised expressed in generalized
       time. In the following example, the key pair was compromised at 8:34 AM
       UTC on March 21, 2013.</p><pre class="cmdline prettyprint">$ ldapmodify
 --port 1389
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword password
dn: ds-cfg-key-id=4F2F97979A7C05162CF64C9F73AF66ED,cn=instance keys,cn=admin data
changetype: modify
add: ds-cfg-key-compromised-time
ds-cfg-key-compromised-time: 201303210834Z

Processing MODIFY request for ds-cfg-key-id=4F2F97979A7C05162CF64C9F73AF66ED,
 cn=instance keys,cn=admin data
MODIFY operation successful for DN ds-cfg-key-id=4F2F97979A7C05162CF64C9F73AF66ED
 ,cn=instance keys,cn=admin data</pre></li><li class="listitem"><p>If the server uses encrypted or signed data, then the shared secret
       keys used for encryption or signing and associated with the compromised
       key pair should also be considered compromised. Therefore, mark all
       shared secret keys encrypted with the instance key as compromised.</p><p>To identify the shared secret keys, find the list of secret keys
       in the administrative data whose <code class="literal">ds-cfg-symmetric-key</code>
       starts with the key ID of the compromised key.</p><pre class="cmdline prettyprint">$ ldapsearch
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN "cn=secret keys,cn=admin data"
 "(ds-cfg-symmetric-key=4F2F97979A7C05162CF64C9F73AF66ED*)" dn
dn: ds-cfg-key-id=fba16e59-2ce1-4619-96e7-8caf33f916c8,cn=secret keys,cn=admin d
 ata

dn: ds-cfg-key-id=57bd8b8b-9cc6-4a29-b42f-fb7a9e48d713,cn=secret keys,cn=admin d
 ata

dn: ds-cfg-key-id=f05e2e6a-5c4b-44d0-b2e8-67a36d304f3a,cn=secret keys,cn=admin d
 ata</pre><p>For each such key, mark the entry with
       <code class="literal">ds-cfg-key-compromised-time</code> as shown above for the
       instance key.</p></li></ol></div><p>Changes to administration data are replicated to other OpenDJ
     servers in the replication topology.</p></li><li class="listitem"><p>For a shared secret key used for data encryption that has been
     compromised, mark the key entry with
     <code class="literal">ds-cfg-key-compromised-time</code> as shown in the example
     above that demonstrates marking the instance key as compromised.</p><p>Again, changes to administration data are replicated to other OpenDJ
     servers in the replication topology.</p></li></ul></div></div></div><div class="section" id="troubleshoot-connections"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.8.&nbsp;Troubleshooting Client Operations</h2></div></div></div><p>By default OpenDJ logs information about all LDAP client operations in
  <code class="filename">logs/access</code>, and all HTTP client operations in
  <code class="filename">logs/http-access</code>. The following lines are wrapped for
  readability, showing a search for the entry with
  <code class="literal">uid=bjensen</code> as traced in the LDAP access log. In the access
  log itself, each line starts with a time stamp.</p><pre class="cmdline prettyprint">[27/Jun/2011:17:23:00 +0200] CONNECT conn=19 from=127.0.0.1:56641
 to=127.0.0.1:1389 protocol=LDAP
[27/Jun/2011:17:23:00 +0200] SEARCH REQ conn=19 op=0 msgID=1
 base="dc=example,dc=com" scope=wholeSubtree filter="(uid=bjensen)" attrs="ALL"
[27/Jun/2011:17:23:00 +0200] SEARCH RES conn=19 op=0 msgID=1
 result=0 nentries=1 etime=3
[27/Jun/2011:17:23:00 +0200] UNBIND REQ conn=19 op=1 msgID=2
[27/Jun/2011:17:23:00 +0200] DISCONNECT conn=19 reason="Client Unbind"</pre><p>As you see, each client connection and set of LDAP operations are
  traced, starting with a time stamp and information about the operation
  performed, then including information about the connection, the operation
  number for the sequence of operations performed by the client, a message
  identification number, and additional information about the operation.</p><p>To match HTTP client operations with related internal server operations,
  first prevent OpenDJ from suppressing internal operations from the LDAP access
  log by using the <span class="command"><strong>dsconfig</strong></span> command to set the LDAP access
  log publisher <code class="literal">suppress-internal-operations</code> advanced
  property to <code class="literal">false</code>. Then match the values of the
  <code class="literal">x-connection-id</code> field in the HTTP access log with
  <code class="literal">conn=<em class="replaceable"><code>id</code></em></code> values in the LDAP
  access log.</p><p>For example, consider an HTTP GET request for the <code class="literal">_id</code>
  field of the user <code class="literal">newuser</code>, which is handled by connection 4
  as shown in <code class="filename">logs/http-access</code>.</p><pre class="cmdline prettyprint">-  192.168.0.12  bjensen  22/May/2013:16:27:52 +0200
  GET  /users/newuser?_fields=_id  HTTP/1.1  200
  curl/7.21.4  4  12</pre><p>With internal operations logged in <code class="filename">logs/access</code>,
  log lines for the related operations have <code class="literal">conn=4</code>.</p><pre class="cmdline prettyprint">[22/May/2013:16:27:52 +0200] CONNECT conn=4
  from=192.168.0.12:63593 to=192.168.0.12:8080 protocol=HTTP/1.1
[22/May/2013:16:27:52 +0200] SEARCH REQ conn=4
  op=0 msgID=0 base="ou=people,dc=example,dc=com" scope=wholeSubtree
   filter="(&amp;(objectClass=inetOrgPerson)(uid=bjensen))" attrs="1.1"
[22/May/2013:16:27:52 +0200] SEARCH RES conn=4
  op=0 msgID=0 result=0 nentries=1 etime=5
[22/May/2013:16:27:52 +0200] BIND REQ conn=4
  op=1 msgID=1 version=3 type=SIMPLE
   dn="uid=bjensen,ou=People,dc=example,dc=com"
[22/May/2013:16:27:52 +0200] BIND RES conn=4
  op=1 msgID=1 result=0 authDN="uid=bjensen,ou=People,dc=example,dc=com"
   etime=3
[22/May/2013:16:27:52 +0200] SEARCH REQ conn=4
  op=2 msgID=2 base="uid=newuser,ou=people,dc=example,dc=com" scope=baseObject
   filter="(objectClass=*)" attrs="uid,etag"
[22/May/2013:16:27:52 +0200] SEARCH RES conn=4
   op=2 msgID=2 result=0 nentries=1 etime=4
[22/May/2013:16:27:52 +0200] UNBIND REQ conn=4
   op=3 msgID=3
[22/May/2013:16:27:52 +0200] DISCONNECT conn=4
   reason="Client Unbind"</pre><p>To help diagnose errors due to access permissions, OpenDJ supports the
  get effective rights control. The control OID,
  <code class="literal">1.3.6.1.4.1.42.2.27.9.5.2</code>, is not allowed by the default
  global ACIs. You must therefore add access to use the get effective rights
  control when not using it as Directory Manager.</p><div class="section" id="troubleshoot-simple-paged-results"><div class="titlepage"><div><div><h3 class="title">25.8.1.&nbsp;Clients Need Simple Paged Results Control</h3></div></div></div><p>For Solaris and some versions of Linux you might see a message in
   the OpenDJ access logs such as the following.</p><pre class="literallayout">
The request control with Object Identifier (OID) "1.2.840.113556.1.4.319"
cannot be used due to insufficient access rights</pre><p>This message means clients are trying to use the <a class="link" href="http://tools.ietf.org/html/rfc2696" target="_blank">simple paged results
   control</a> without authenticating. By default, OpenDJ includes a global
   ACI to allow only authenticated users to use the control.</p><pre class="cmdline prettyprint">$ dsconfig
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword "password"
 get-access-control-handler-prop

Property   : Value(s)
-----------:-------------------------------------------------------------------
enabled    : true
global-aci : (extop="1.3.6.1.4.1.26027.1.6.1 || 1.3.6.1.4.1.26027.1.6.3 ||
...
           : (targetcontrol="1.3.6.1.1.12 || 1.3.6.1.1.13.1 || 1.3.6.1.1.13.2
           : || 1.2.840.113556.1.4.319 || 1.2.826.0.1.3344810.2.3 ||
           : 2.16.840.1.113730.3.4.18 || 2.16.840.1.113730.3.4.9 ||
           : 1.2.840.113556.1.4.473 || 1.3.6.1.4.1.42.2.27.9.5.9") (version
           : 3.0; acl "Authenticated users control access"; allow(read)
           : userdn="ldap:///all";), (targetcontrol="2.16.840.1.113730.3.4.2 ||
           : 2.16.840.1.113730.3.4.17 || 2.16.840.1.113730.3.4.19 ||
           : 1.3.6.1.4.1.4203.1.10.2 || 1.3.6.1.4.1.42.2.27.8.5.1 ||
           : 2.16.840.1.113730.3.4.16") (version 3.0; acl "Anonymous control
           : access"; allow(read) userdn="ldap:///anyone";)</pre><p>To grant anonymous (unauthenticated) user access to the control,
   add the OID for the simple paged results control to the list of those in
   the <code class="literal">Anonymous control access</code> global ACI.</p><pre class="cmdline prettyprint">$ dsconfig
 --port 4444
 --hostname opendj.example.com
 --bindDN "cn=Directory Manager"
 --bindPassword "password"
 set-access-control-handler-prop
 --remove global-aci:"(targetcontrol=\"2.16.840.1.113730.3.4.2 ||
 2.16.840.1.113730.3.4.17 || 2.16.840.1.113730.3.4.19 ||
 1.3.6.1.4.1.4203.1.10.2 || 1.3.6.1.4.1.42.2.27.8.5.1 ||
 2.16.840.1.113730.3.4.16\") (version 3.0; acl \"Anonymous control access\";
 allow(read) userdn=\"ldap:///anyone\";)"
 --add global-aci:"(targetcontrol=\"2.16.840.1.113730.3.4.2 ||
 2.16.840.1.113730.3.4.17 || 2.16.840.1.113730.3.4.19 ||
 1.3.6.1.4.1.4203.1.10.2 || 1.3.6.1.4.1.42.2.27.8.5.1 ||
 2.16.840.1.113730.3.4.16 || 1.2.840.113556.1.4.319\")
 (version 3.0; acl \"Anonymous control access\"; allow(read)
 userdn=\"ldap:///anyone\";)"
 --no-prompt</pre><p>Alternatively, stop OpenDJ, edit the corresponding ACI carefully in
   <code class="filename">/path/to/opendj/config/config.ldif</code>, and restart OpenDJ.
   <a href="#ftn.d0e12605" class="footnote"><sup class="footnote" id="d0e12605">[11]</sup></a></p></div></div><div class="section" id="troubleshoot-repl"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.9.&nbsp;Troubleshooting Replication</h2></div></div></div><a class="indexterm" name="d0e12617"></a><p>Replication can generally recover from conflicts and transient issues.
  Replication does, however, require that update operations be copied
  from server to server. It is therefore possible to experience temporary
  delays while replicas converge, especially when the write operation load is
  heavy. OpenDJ's tolerance for temporary divergence between replicas is what
  allows OpenDJ to remain available to serve client applications even when
  networks linking the replicas go down.</p><p>In other words, the fact that directory services are loosely convergent
  rather than transactional is a feature, not a bug.</p><p>That said, you may encounter errors. Replication uses its own error log
  file, <code class="filename">logs/replication</code>. Error messages in the log file
  have <code class="literal">category=SYNC</code>. The messages have the following form.
  Here the line is folded for readability.</p><pre class="cmdline prettyprint">[27/Jun/2011:14:37:48 +0200] category=SYNC severity=INFORMATION msgID=14680169
 msg=Replication server accepted a connection from 10.10.0.10/10.10.0.10:52859
 to local address 0.0.0.0/0.0.0.0:8989 but the SSL handshake failed. This is
 probably benign, but may indicate a transient network outage or a
 misconfigured client application connecting to this replication server.
 The error was: Remote host closed connection during handshake</pre><p>OpenDJ maintains historical information about changes in order to
  bring replicas up to date, and to resolve replication conflicts. To prevent
  historical information from growing without limit, OpenDJ purges historical
  information after a configurable delay
  (<code class="literal">replication-purge-delay</code>, default: 3 days). A replica
  can become irrevocably out of sync if you restore it from a backup archive
  older than the purge delay, or if you stop it for longer than the purge
  delay. If this happens to you, disable the replica, and then reinitialize it
  from a recent backup or from a server that is up to date.</p></div><div class="section" id="troubleshoot-get-help"><div class="titlepage"><div><div><h2 class="title" style="clear: both">25.10.&nbsp;Asking For Help</h2></div></div></div><p>When you cannot resolve a problem yourself, and want to ask for help,
  clearly identify the problem and how you reproduce it, and also the version
  of OpenDJ you use to reproduce the problem. The version includes both a
  version number and also a build time stamp.</p><pre class="cmdline prettyprint">$ dsconfig --version
OpenDJ 4.8.1-SNAPSHOT
Build <em><strong>yyyymmddhhmmss</strong></em>Z</pre><div class="itemizedlist"><p>Be ready to provide additional information, too.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The output from the <span class="command"><strong>java -version</strong></span> command.</p></li><li class="listitem"><p><code class="filename">access</code> and <code class="filename">errors</code> logs
    showing what the server was doing when the problem started occurring</p></li><li class="listitem"><p>A copy of the server configuration file,
    <code class="filename">config/config.ldif</code>, in use when the problem started
    occurring</p></li><li class="listitem"><p>Other relevant logs or output, such as those from client applications
    experiencing the problem</p></li><li class="listitem"><p>A description of the environment where OpenDJ is running, including
    system characteristics, host names, IP addresses, Java versions, storage
    characteristics, and network characteristics. This helps to understand
    the logs, and other information.</p></li></ul></div></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e12605" class="footnote"><p><a href="#d0e12605" class="para"><sup class="para">[11] </sup></a>Unlike the <span class="command"><strong>dsconfig</strong></span> command, the
   <code class="filename">config.ldif</code> file is not a public interface, so this
   alternative should not be used in production.</p></div></div></div><div class="reference" id="admin-tools-ref"><div class="titlepage"><div><div><h1 class="title">Tools Reference</h1></div></div><hr></div><div class="partintro" id="d0e12685"><div></div><p>You can find the tools under the <code class="filename">bin/</code> or
   <code class="filename">bat\</code> folder where you installed OpenDJ directory
   server. For example, <code class="filename">/path/to/opendj/bin</code>.</p></div><div lang="en" class="refentry" id="backup-1"><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>backup &#8212; back up OpenDJ directory data</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e12720"><code class="command">backup</code>  {options}</p></div></div><div class="refsect1" id="d0e12725"><h2>Description</h2><p>This utility can be used to back up one or more directory server
  backends.</p></div><div class="refsect1" id="d0e12730"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --backUpAll</code></span></dt><dd><p>Back up all backends in the server</p></dd><dt><span class="term"><code class="option">-A, --hash</code></span></dt><dd><p>Generate a hash of the backup contents</p></dd><dt><span class="term"><code class="option">-B, --incrementalBaseID {backupID}</code></span></dt><dd><p>Backup ID of the source archive for an incremental backup.</p></dd><dt><span class="term"><code class="option">-c, --compress</code></span></dt><dd><p>Compress the backup content</p></dd><dt><span class="term"><code class="option">-d, --backupDirectory {backupDir}</code></span></dt><dd><p>Path to the target directory for the backup file(s)</p></dd><dt><span class="term"><code class="option">-i, --incremental</code></span></dt><dd><p>Perform an incremental backup rather than a full backup</p></dd><dt><span class="term"><code class="option">-I, --backupID {backupID}</code></span></dt><dd><p>Use the provided identifier for the backup</p></dd><dt><span class="term"><code class="option">-n, --backendID {backendName}</code></span></dt><dd><p>Backend ID for the backend to archive</p></dd><dt><span class="term"><code class="option">-s, --signHash</code></span></dt><dd><p>Sign the hash of the backup contents</p></dd><dt><span class="term"><code class="option">-y, --encrypt</code></span></dt><dd><p>Encrypt the backup contents</p></dd></dl></div><div class="refsect2" id="d0e12806"><h3>Task Backend Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p>Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p><p>Use <code class="option">-w -</code> to have the command prompt for the
      password, rather than enter the password on the command line.</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e12928"><h3>Task Scheduling Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--completionNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified when the task
      completes. This option may be specified more than once.</p></dd><dt><span class="term"><code class="option">--dependency {taskID}</code></span></dt><dd><p>ID of a task upon which this task depends. A task will not start
      execution until all its dependencies have completed execution.</p></dd><dt><span class="term"><code class="option">--errorNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified if an error occurs
      when this task executes. This option may be specified more than
      once.</p></dd><dt><span class="term"><code class="option">--failedDependencyAction {action}</code></span></dt><dd><p>Action this task will take should one if its dependent tasks fail.
      The value must be one of PROCESS, CANCEL, DISABLE. If not specified
      defaults to CANCEL.</p></dd><dt><span class="term"><code class="option">--recurringTask {schedulePattern}</code></span></dt><dd><p>Indicates the task is recurring and will be scheduled according
      to the value argument expressed in crontab(5) compatible time/date
      pattern.</p></dd><dt><span class="term"><code class="option">-t, --start {startTime}</code></span></dt><dd><p>Indicates the date/time at which this operation will start when
      scheduled as a server task expressed in YYYYMMDDhhmmssZ format for UTC
      time or YYYYMMDDhhmmss for local time. A value of '0' will cause the
      task to be scheduled for immediate execution. When this option is
      specified the operation will be scheduled to start at the specified
      time after which this utility will exit immediately.</p></dd></dl></div></div><div class="refsect2" id="d0e12974"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd></dl></div></div><div class="refsect2" id="d0e12992"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e13010"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">1</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" id="d0e13026"><h2>Examples</h2><p>The following example backs up all user data while the server is
  online.</p><pre class="cmdline prettyprint">$ backup -p 4444 -D "cn=Directory Manager" -w password
 -a -d /path/to/opendj/bak -t 0
Backup task 20110613143801866 scheduled to start Jun 13, 2011 2:38:01 PM CEST</pre><p>The following example schedules back up of all user data every night at
  2 AM when the server is online, and notifies diradmin@example.com when
  finished, or on error.</p><pre class="cmdline prettyprint">$ backup -p 4444 -D "cn=Directory Manager" -w password -a
 -d /path/to/opendj/bak --recurringTask "00 02 * * *"
 --completionNotify diradmin@example.com --errorNotify diradmin@example.com
Recurring Backup task BackupTask-988d6adf-4d65-44bf-8546-6ea74a2480b0
scheduled successfully</pre><p>The following example backs up all user data while the server is
  offline.</p><pre class="cmdline prettyprint">$ /path/to/opendj/bin/stop-ds
Stopping Server...
...
$ /path/to/opendj/bin/backup --backupAll --backupDirectory /path/to/opendj/bak
...
[28/Sep/2012:12:14:22 +0200] ... msg=The backup process completed successfully
$ /path/to/opendj/bin/start-ds
[28/Sep/2012:12:15:48 +0200] ... The Directory Server has started successfully
</pre></div></div><div lang="en" class="refentry" id="base64-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>base64 &#8212; encode and decode base64 strings</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e13067"><code class="command">base64 <em class="replaceable"><code>subcommand</code></em></code>  {options}</p></div></div><div class="refsect1" id="d0e13074"><h2>Description</h2><p>This utility can be used to encode and decode information using base64.</p></div><div class="refsect1" id="d0e13079"><h2>Subcommands</h2><p>The following subcommands are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="command"><strong>base64 decode</strong></span></span></dt><dd><p>Decode base64-encoded information into raw data</p><p>When no options are specified, this subcommand reads from standard
     input and writes to standard output.</p><div class="variablelist"><div class="variablelist-title">Decode Options</div><dl class="variablelist"><dt><span class="term"><code class="option">-d, --encodedData {data}</code></span></dt><dd><p>The base64-encoded data to be decoded</p></dd><dt><span class="term"><code class="option">-f, --encodedDataFile {path}</code></span></dt><dd><p>The path to a file containing the base64-encoded data to be
        decoded</p></dd><dt><span class="term"><code class="option">-o, --toRawFile {path}</code></span></dt><dd><p>The path to a file to which the raw base64-decoded data should be
        written</p></dd></dl></div></dd><dt><span class="term"><span class="command"><strong>base64 encode</strong></span></span></dt><dd><p>Encode raw data using base64</p><p>When no options are specified, this subcommand reads from standard
     input and writes to standard output.</p><div class="variablelist"><div class="variablelist-title">Decode Options</div><dl class="variablelist"><dt><span class="term"><code class="option">-d, --rawData {data}</code></span></dt><dd><p>The raw data to be base64 encoded</p></dd><dt><span class="term"><code class="option">-f, --rawDataFile {path}</code></span></dt><dd><p>The path to a file containing the raw data to be base64
        encoded</p></dd><dt><span class="term"><code class="option">-o, --toEncodedFile {path}</code></span></dt><dd><p>The path to a file to which the base64-encoded data should be
        written</p></dd></dl></div></dd></dl></div></div><div class="refsect1" id="d0e13151"><h2>General Options</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div><div class="refsect1" id="d0e13169"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e13185"><h2>Examples</h2><p>The following command shows the changes from the external change log
  in human-readable format.</p><pre class="cmdline prettyprint">$ base64 decode -d YWRkOiBkZXNjcmlwdGlvbgpkZXNjcmlwdGlvbjogQSB0aGlyZCBjaGFuZ2UK
LQpyZXBsYWNlOiBtb2RpZmllcnNOYW1lCm1vZGlmaWVyc05hbWU6IGNuPURpcmVjdG9yeSBNYW5hZ2V
yLGNuPVJvb3QgRE5zLGNuPWNvbmZpZwotCnJlcGxhY2U6IG1vZGlmeVRpbWVzdGFtcAptb2RpZnlUaW
1lc3RhbXA6IDIwMTEwNjEzMDcxMjEwWgotCg==
add: description
description: A third change
-
replace: modifiersName
modifiersName: cn=Directory Manager,cn=Root DNs,cn=config
-
replace: modifyTimestamp
modifyTimestamp: 20110613071210Z
-
</pre></div></div><div lang="en" class="refentry" id="control-panel-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>control-panel &#8212; start the OpenDJ graphical admin interface</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e13216"><code class="command">control-panel</code>  {options}</p></div></div><div class="refsect1" id="d0e13221"><h2>Description</h2><p>This utility can be used to display the Control Panel window which
  displays basic server information and allows to do some basic administration
  tasks on the server.</p></div><div class="refsect1" id="d0e13226"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-r, --remote</code></span></dt><dd><p>Connect to a remote server</p></dd></dl></div><div class="refsect2" id="d0e13239"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --adminPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Global administrator password file</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-w, --adminPassword {bindPassword}</code></span></dt><dd><p>Password for the global administrator</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e13300"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e13318"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e13334"><h2>Examples</h2><p>The following example starts the Control Panel on a remote host.</p><pre class="cmdline prettyprint">$ control-panel -r -h opendj.example.com -p 4444 &amp;</pre></div></div><div lang="en" class="refentry" id="create-rc-script-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>create-rc-script &#8212; script to manage OpenDJ as a service on UNIX</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e13365"><code class="command">create-rc-script</code>  {options}</p></div></div><div class="refsect1" id="d0e13370"><h2>Description</h2><p>Create an RC script that may be used to start, stop, and restart
  the directory server on UNIX-based systems.</p></div><div class="refsect1" id="d0e13375"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-f, --outputFile {path}</code></span></dt><dd><p>The path to the output file to create.</p></dd><dt><span class="term"><code class="option">-j, --javaHome {path}</code></span></dt><dd><p>The path to the Java installation that should be used to run
     the server.</p></dd><dt><span class="term"><code class="option">-J, --javaArgs {args}</code></span></dt><dd><p>A set of arguments that should be passed to the JVM when running
     the server.</p></dd><dt><span class="term"><code class="option">-u, --userName {userName}</code></span></dt><dd><p>The name of the user account under which the server should
     run.</p></dd></dl></div><div class="refsect2" id="d0e13409"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e13427"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e13443"><h2>Examples</h2><p>The following example adds a script to start OpenDJ at boot time
  on a Debian-based system, and then updates the runlevel system to use the
  script.</p><pre class="cmdline prettyprint">$ sudo create-rc-script -f /etc/init.d/opendj -u mark
$ sudo update-rc.d opendj</pre></div></div><div lang="en" class="refentry" id="dbtest-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>dbtest &#8212; gather OpenDJ JE database debugging information</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e13474"><code class="command">dbtest</code> <br><code class="command">subcommand</code>  [options]</p></div></div><div class="refsect1" id="d0e13481"><h2>Description</h2><p>This utility can be used to debug the JE database.</p></div><div class="refsect1" id="d0e13486"><h2>Subcommands</h2><p>The following subcommands are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="command"><strong>dbtest dump-database-container</strong></span></span></dt><dd><p>Dump records from a database container</p></dd><dt><span class="term"><span class="command"><strong>dbtest list-database-containers</strong></span></span></dt><dd><p>List the database containers for an entry container</p></dd><dt><span class="term"><span class="command"><strong>dbtest list-entry-containers</strong></span></span></dt><dd><p>List the entry containers for a root container</p></dd><dt><span class="term"><span class="command"><strong>dbtest list-index-status</strong></span></span></dt><dd><p>List the status of indexes in an entry container</p></dd><dt><span class="term"><span class="command"><strong>dbtest list-root-containers</strong></span></span></dt><dd><p>List the root containers used by all JE backends</p></dd></dl></div></div><div class="refsect1" id="d0e13527"><h2>Options</h2><p>The following global options are supported.</p><p>For other options, see <span class="command"><strong>dbtest
  <em class="replaceable"><code>subcommand</code></em> --help</strong></span>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div><div class="refsect1" id="d0e13555"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e13571"><h2>Examples</h2><p>The following example displays debugging information about the
  equality index for <code class="literal">sudoUser</code>.</p><pre class="cmdline prettyprint">$ dbtest dump-database-container -n userRoot -b dc=example,dc=com
 -d sudoUser.equality
Indexed Value (6 bytes): %admin
Entry ID List (8 bytes): 165 

Indexed Value (5 bytes): %sudo
Entry ID List (8 bytes): 164 

Indexed Value (4 bytes): root
Entry ID List (8 bytes): 163 


Total Records: 3
Total / Average Key Size: 13 bytes / 4 bytes
Total / Average Data Size: 24 bytes / 8 bytes</pre></div></div><div lang="en" class="refentry" id="dsconfig-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>dsconfig &#8212; manage OpenDJ directory server configuration</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e13605"><code class="command">dsconfig [<em class="replaceable"><code>subcommand</code></em>]</code>  [options]</p></div></div><div class="refsect1" id="d0e13613"><h2>Description</h2><p>This utility serves to configure a running directory server.</p><p>The <span class="command"><strong>dsconfig</strong></span> command is the primary command-line tool
  for viewing and editing OpenDJ configuration. When started without arguments,
  <span class="command"><strong>dsconfig</strong></span> prompts you for administration connection
  information, including the host name, administration port number,
  administrator bind DN and administrator password. The
  <span class="command"><strong>dsconfig</strong></span> command then connects securely to the directory
  server over the administration port. Once connected it presents you with a
  menu-driven interface to the server configuration.</p><p>When you pass connection information, subcommands, and additional
  options to <span class="command"><strong>dsconfig</strong></span>, the command runs in script mode and
  so is not interactive, though it can prompt you to ask whether to apply
  changes and whether to trust certificates (unless you use the
  <code class="option">--no-prompt</code> and <code class="option">--trustAll</code> options,
  respectively).</p><p>You can prepare <span class="command"><strong>dsconfig</strong></span> batch scripts by running
  the tool with the <code class="option">--commandFilePath</code> option in interactive
  mode, then reading from the batch file with the <code class="option">--batchFile</code>
  option in script mode. Batch files can be useful when you have many
  <span class="command"><strong>dsconfig</strong></span> commands to run and want to avoid starting
  the JVM and setting up a new connection for each command.</p><p>The <span class="command"><strong>dsconfig</strong></span> command categorizes directory server
  configuration into <em class="firstterm">components</em>, also called
  <em class="firstterm">managed objects</em>. Actual components often inherit from
  a parent component type. For example, one component is a Connection Handler.
  An LDAP Connection Handler is a type of Connection Handler. You configure the
  LDAP Connection Handler component to specify how OpenDJ directory server
  handles LDAP connections coming from client applications.</p><p>Configuration components have <em class="firstterm">properties</em>.
  For example, the LDAP Connection Handler component has properties such as
  <code class="literal">listen-port</code> and <code class="literal">allow-start-tls</code>. You
  can set the component's <code class="literal">listen-port</code> property to
  <code class="literal">389</code> to use the default LDAP port number. You can set the
  component's <code class="literal">allow-start-tls</code> property to
  <code class="literal">true</code> to permit LDAP client applications to use StartTLS.
  Much of the configuration you do with <span class="command"><strong>dsconfig</strong></span> involves
  setting component properties. The <a class="link" href="${configRefBase}" target="_blank"><em class="citetitle">OpenDJ Configuration Reference</em></a> covers all
  <span class="command"><strong>dsconfig</strong></span> component properties in detail, drawing on the
  documentation you also view when getting help through the
  <span class="command"><strong>dsconfig</strong></span> command.</p></div><div class="refsect1" id="dsconfig-getting-help"><h2>Getting Help</h2><p>The <span class="command"><strong>dsconfig</strong></span> command provides many subcommands.
  Use the following options to view help for subcommands.</p><p>See <a class="link" href="#dsconfig-subcommands-ref" title="dsconfig Subcommands"><em class="citetitle">dsconfig
  Subcommands</em></a> for details of individual subcommands.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="command"><strong>dsconfig --help-all</strong></span></span></dt><dd><p>Display all subcommands</p></dd><dt><span class="term"><span class="command"><strong>dsconfig --help-core-server</strong></span></span></dt><dd><p>Display subcommands relating to core server</p></dd><dt><span class="term"><span class="command"><strong>dsconfig --help-database</strong></span></span></dt><dd><p>Display subcommands relating to caching and back-ends</p></dd><dt><span class="term"><span class="command"><strong>dsconfig --help-logging</strong></span></span></dt><dd><p>Display subcommands relating to logging</p></dd><dt><span class="term"><span class="command"><strong>dsconfig --help-replication</strong></span></span></dt><dd><p>Display subcommands relating to replication</p></dd><dt><span class="term"><span class="command"><strong>dsconfig --help-security</strong></span></span></dt><dd><p>Display subcommands relating to authentication and authorization</p></dd><dt><span class="term"><span class="command"><strong>dsconfig --help-user-management</strong></span></span></dt><dd><p>Display subcommands relating to user management</p></dd></dl></div><p>For help with individual subcommands, either use <span class="command"><strong>dsconfig
  <em class="replaceable"><code>subcommand</code></em> --help</strong></span>, or start
  <span class="command"><strong>dsconfig</strong></span> in interactive mode, without specifying a
  subcommand.</p><p>To view component properties, use the <span class="command"><strong>dsconfig
  list-properties</strong></span> command.</p></div><div class="refsect1" id="dsconfig-general-options"><h2>Generally Applicable Options</h2><p>The following options are supported for all <span class="command"><strong>dsconfig</strong></span>
  subcommands.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--advanced</code></span></dt><dd><p>Allows the configuration of advanced components and properties</p></dd></dl></div><div class="refsect2" id="d0e13797"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-I, --adminUID {adminUID}</code></span></dt><dd><p>User ID of the global administrator to use to bind to the server.
      For the <span class="command"><strong>enable</strong></span> subcommand, if no global administrator
      was defined previously for any servers, the global administrator will be
      created using the UID provided.</p><p>Default value: admin</p></dd><dt><span class="term"><code class="option">-j, --adminPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Global administrator password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p><p>Default value: /path/to/opendj/config/admin-truststore</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --adminPassword {bindPassword}</code></span></dt><dd><p>Password for the global administrator</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e13919"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--commandFilePath {path}</code></span></dt><dd><p>The full path to the file where the equivalent non-interactive
      commands will be written when this command is run in interactive
      mode.</p></dd><dt><span class="term"><code class="option">--displayCommand</code></span></dt><dd><p>Display the equivalent non-interactive option on standard output
      when this command is run in interactive mode.</p></dd><dt><span class="term"><code class="option">-F, --batchFilePath {batchFilePath}</code></span></dt><dd><p>Path to a batch file containing a set of dsconfig commands to be
      executed</p></dd><dt><span class="term"><code class="option">-n, --no-prompt</code></span></dt><dd><p>Use non-interactive mode. If data in the command is missing, the
      user is not prompted and the command exits with an error.</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-Q, --quiet</code></span></dt><dd><p>Do not write progress information to standard output</p></dd><dt><span class="term"><code class="option">-s, --script-friendly</code></span></dt><dd><p>Use script-friendly mode</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" id="d0e13986"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="dsconfig-subcommands-ref"><h2>dsconfig Subcommands</h2><p>This section covers individual <span class="command"><strong>dsconfig</strong></span>
  subcommands.</p><p>Subcommands let you create, list, and delete entire configuration
  components, and also let you get and set component properties. Subcommands
  therefore have names that reflect these five actions.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>create-<em class="replaceable"><code>component</code></em></p></li><li class="listitem"><p>list-<em class="replaceable"><code>component</code></em>s</p></li><li class="listitem"><p>delete-<em class="replaceable"><code>component</code></em></p></li><li class="listitem"><p>get-<em class="replaceable"><code>component</code></em>-prop</p></li><li class="listitem"><p>set-<em class="replaceable"><code>component</code></em>-prop</p></li></ul></div><p>Component properties for the <span class="command"><strong>dsconfig</strong></span> command are
  covered in the <a class="link" href="${configRefBase}" target="_blank"><em class="citetitle">OpenDJ Configuration Reference</em></a>.</p><p>Many subcommands let you set property values. Notice in the reference
  for the subcommands below that specific options are available for handling
  multi-valued properties. Whereas you can assign a single property value using
  the <code class="option">--set</code> option, you assign multiple values to a
  multi-valued property using the <code class="option">--add</code> option. You can reset
  the values of the multi-valued property using the <code class="option">--reset</code>
  option.</p><div class="itemizedlist"><p>Some property values take a time duration. Durations are expressed
   as numbers followed by units. For example <code class="literal">1 s</code> means
   one second, and <code class="literal">2 w</code> means two weeks. Some durations
   have minimum granularity or maximum units, so you cannot necessary specify
   every duration in milliseconds or weeks for example. Some durations allow
   you to use a special value to mean unlimited. Units are specified as
   follows.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">ms</code>: milliseconds</p></li><li class="listitem"><p><code class="literal">s</code>: seconds</p></li><li class="listitem"><p><code class="literal">m</code>: minutes</p></li><li class="listitem"><p><code class="literal">h</code>: hours</p></li><li class="listitem"><p><code class="literal">d</code>: days</p></li><li class="listitem"><p><code class="literal">w</code>: weeks</p></li></ul></div><div class="refsect2" id="dsconfig-create-access-log-filtering-criteria"><h3>dsconfig create-access-log-filtering-criteria</h3><p>Creates Access Log Filtering Criteria</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Access Log Publisher</p></dd><dt><span class="term"><code class="option">--criteria-name {name}</code></span></dt><dd><p>The name of the new Access Log Filtering Criteria</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Access Log Filtering Criteria which should be created (Default: generic). The value for TYPE can be one of: generic</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-account-status-notification-handler"><h3>dsconfig create-account-status-notification-handler</h3><p>Creates Account Status Notification Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the new Account Status Notification Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Account Status Notification Handler which should be created. The value for TYPE can be one of: custom | error-log | smtp</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-alert-handler"><h3>dsconfig create-alert-handler</h3><p>Creates Alert Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the new Alert Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Alert Handler which should be created. The value for TYPE can be one of: custom | jmx | smtp</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-attribute-syntax"><h3>dsconfig create-attribute-syntax</h3><p>Creates Attribute Syntaxes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--syntax-name {name}</code></span></dt><dd><p>The name of the new Attribute Syntax</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Attribute Syntax which should be created (Default: generic). The value for TYPE can be one of: attribute-type-description | certificate | country-string | directory-string | generic | jpeg | telephone-number</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-backend"><h3>dsconfig create-backend</h3><p>Creates Backends</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {STRING}</code></span></dt><dd><p>The name of the new Backend which will also be used as the value of the "backend-id" property: Specifies a name to identify the associated backend.</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Backend which should be created. The value for TYPE can be one of: backup | config-file-handler | custom | ldif | local-db | memory | monitor | null | schema | task | trust-store</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-certificate-mapper"><h3>dsconfig create-certificate-mapper</h3><p>Creates Certificate Mappers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--mapper-name {name}</code></span></dt><dd><p>The name of the new Certificate Mapper</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Certificate Mapper which should be created. The value for TYPE can be one of: custom | fingerprint | subject-attribute-to-user-attribute | subject-dn-to-user-attribute | subject-equals-dn</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-connection-handler"><h3>dsconfig create-connection-handler</h3><p>Creates Connection Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the new Connection Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Connection Handler which should be created. The value for TYPE can be one of: custom | http | jmx | ldap | ldif | snmp</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-debug-target"><h3>dsconfig create-debug-target</h3><p>Creates Debug Targets</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Debug Log Publisher</p></dd><dt><span class="term"><code class="option">--target-name {STRING}</code></span></dt><dd><p>The name of the new Debug Target which will also be used as the value of the "debug-scope" property: Specifies the fully-qualified OpenDJ Java package, class, or method affected by the settings in this target definition. Use the number character (#) to separate the class name and the method name (that is, org.opends.server.core.DirectoryServer#startUp).</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Debug Target which should be created (Default: generic). The value for TYPE can be one of: generic</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-entry-cache"><h3>dsconfig create-entry-cache</h3><p>Creates Entry Caches</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--cache-name {name}</code></span></dt><dd><p>The name of the new Entry Cache</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Entry Cache which should be created. The value for TYPE can be one of: custom | fifo | file-system | soft-reference</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-extended-operation-handler"><h3>dsconfig create-extended-operation-handler</h3><p>Creates Extended Operation Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the new Extended Operation Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Extended Operation Handler which should be created. The value for TYPE can be one of: cancel | custom | get-connection-id | get-symmetric-key | password-modify | password-policy-state | start-tls | who-am-i</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-group-implementation"><h3>dsconfig create-group-implementation</h3><p>Creates Group Implementations</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--implementation-name {name}</code></span></dt><dd><p>The name of the new Group Implementation</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Group Implementation which should be created. The value for TYPE can be one of: custom | dynamic | static | virtual-static</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-identity-mapper"><h3>dsconfig create-identity-mapper</h3><p>Creates Identity Mappers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--mapper-name {name}</code></span></dt><dd><p>The name of the new Identity Mapper</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Identity Mapper which should be created. The value for TYPE can be one of: custom | exact-match | regular-expression</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-key-manager-provider"><h3>dsconfig create-key-manager-provider</h3><p>Creates Key Manager Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the new Key Manager Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Key Manager Provider which should be created. The value for TYPE can be one of: custom | file-based | pkcs11</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-local-db-index"><h3>dsconfig create-local-db-index</h3><p>Creates Local DB Indexes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--index-name {OID}</code></span></dt><dd><p>The name of the new Local DB Index which will also be used as the value of the "attribute" property: Specifies the name of the attribute for which the index is to be maintained.</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Local DB Index which should be created (Default: generic). The value for TYPE can be one of: generic</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-local-db-vlv-index"><h3>dsconfig create-local-db-vlv-index</h3><p>Creates Local DB VLV Indexes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--index-name {STRING}</code></span></dt><dd><p>The name of the new Local DB VLV Index which will also be used as the value of the "name" property: Specifies a unique name for this VLV index.</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Local DB VLV Index which should be created (Default: generic). The value for TYPE can be one of: generic</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-log-publisher"><h3>dsconfig create-log-publisher</h3><p>Creates Log Publishers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the new Log Publisher</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Log Publisher which should be created. The value for TYPE can be one of: custom-access | custom-debug | custom-error | custom-http-access | file-based-access | file-based-audit | file-based-debug | file-based-error | file-based-http-access</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-log-retention-policy"><h3>dsconfig create-log-retention-policy</h3><p>Creates Log Retention Policies</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the new Log Retention Policy</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Log Retention Policy which should be created. The value for TYPE can be one of: custom | file-count | free-disk-space | size-limit</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-log-rotation-policy"><h3>dsconfig create-log-rotation-policy</h3><p>Creates Log Rotation Policies</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the new Log Rotation Policy</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Log Rotation Policy which should be created. The value for TYPE can be one of: custom | fixed-time | size-limit | time-limit</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-matching-rule"><h3>dsconfig create-matching-rule</h3><p>Creates Matching Rules</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--rule-name {name}</code></span></dt><dd><p>The name of the new Matching Rule</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Matching Rule which should be created (Default: generic). The value for TYPE can be one of: collation | generic</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-monitor-provider"><h3>dsconfig create-monitor-provider</h3><p>Creates Monitor Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the new Monitor Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Monitor Provider which should be created. The value for TYPE can be one of: client-connection | custom | entry-cache | memory-usage | stack-trace | system-info | version</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-password-generator"><h3>dsconfig create-password-generator</h3><p>Creates Password Generators</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--generator-name {name}</code></span></dt><dd><p>The name of the new Password Generator</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Password Generator which should be created. The value for TYPE can be one of: custom | random</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-password-policy"><h3>dsconfig create-password-policy</h3><p>Creates Authentication Policies</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the new Authentication Policy</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Authentication Policy which should be created. The value for TYPE can be one of: ldap-pass-through | password-policy</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-password-storage-scheme"><h3>dsconfig create-password-storage-scheme</h3><p>Creates Password Storage Schemes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--scheme-name {name}</code></span></dt><dd><p>The name of the new Password Storage Scheme</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Password Storage Scheme which should be created. The value for TYPE can be one of: aes | base64 | blowfish | clear | crypt | custom | md5 | pbkdf2 | rc4 | salted-md5 | salted-sha1 | salted-sha256 | salted-sha384 | salted-sha512 | sha1 | triple-des</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-password-validator"><h3>dsconfig create-password-validator</h3><p>Creates Password Validators</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--validator-name {name}</code></span></dt><dd><p>The name of the new Password Validator</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Password Validator which should be created. The value for TYPE can be one of: attribute-value | character-set | custom | dictionary | length-based | repeated-characters | similarity-based | unique-characters</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-plugin"><h3>dsconfig create-plugin</h3><p>Creates Plugins</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--plugin-name {name}</code></span></dt><dd><p>The name of the new Plugin</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Plugin which should be created. The value for TYPE can be one of: attribute-cleanup | change-number-control | custom | entry-uuid | fractional-ldif-import | last-mod | ldap-attribute-description-list | password-policy-import | profiler | referential-integrity | samba-password | seven-bit-clean | unique-attribute</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-replication-domain"><h3>dsconfig create-replication-domain</h3><p>Creates Replication Domains</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--domain-name {name}</code></span></dt><dd><p>The name of the new Replication Domain</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Replication Domain which should be created (Default: generic). The value for TYPE can be one of: generic</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-replication-server"><h3>dsconfig create-replication-server</h3><p>Creates Replication Servers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Replication Server which should be created (Default: generic). The value for TYPE can be one of: generic</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-sasl-mechanism-handler"><h3>dsconfig create-sasl-mechanism-handler</h3><p>Creates SASL Mechanism Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the new SASL Mechanism Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of SASL Mechanism Handler which should be created. The value for TYPE can be one of: anonymous | cram-md5 | custom | digest-md5 | external | gssapi | plain</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-synchronization-provider"><h3>dsconfig create-synchronization-provider</h3><p>Creates Synchronization Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the new Synchronization Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Synchronization Provider which should be created. The value for TYPE can be one of: custom | replication</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-trust-manager-provider"><h3>dsconfig create-trust-manager-provider</h3><p>Creates Trust Manager Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the new Trust Manager Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Trust Manager Provider which should be created. The value for TYPE can be one of: blind | custom | file-based</p></dd></dl></div></div><div class="refsect2" id="dsconfig-create-virtual-attribute"><h3>dsconfig create-virtual-attribute</h3><p>Creates Virtual Attributes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--name {name}</code></span></dt><dd><p>The name of the new Virtual Attribute</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of Virtual Attribute which should be created. The value for TYPE can be one of: collective-attribute-subentries | custom | entity-tag | entry-dn | entry-uuid | governing-structure-rule | has-subordinates | is-member-of | member | num-subordinates | password-expiration-time | password-policy-subentry | structural-object-class | subschema-subentry | user-defined</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-access-log-filtering-criteria"><h3>dsconfig delete-access-log-filtering-criteria</h3><p>Deletes Access Log Filtering Criteria</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Access Log Publisher</p></dd><dt><span class="term"><code class="option">--criteria-name {name}</code></span></dt><dd><p>The name of the Access Log Filtering Criteria</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Access Log Filtering Criteria</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-account-status-notification-handler"><h3>dsconfig delete-account-status-notification-handler</h3><p>Deletes Account Status Notification Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Account Status Notification Handler</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Account Status Notification Handlers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-alert-handler"><h3>dsconfig delete-alert-handler</h3><p>Deletes Alert Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Alert Handler</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Alert Handlers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-attribute-syntax"><h3>dsconfig delete-attribute-syntax</h3><p>Deletes Attribute Syntaxes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--syntax-name {name}</code></span></dt><dd><p>The name of the Attribute Syntax</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Attribute Syntaxes</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-backend"><h3>dsconfig delete-backend</h3><p>Deletes Backends</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Backend</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Backends</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-certificate-mapper"><h3>dsconfig delete-certificate-mapper</h3><p>Deletes Certificate Mappers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--mapper-name {name}</code></span></dt><dd><p>The name of the Certificate Mapper</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Certificate Mappers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-connection-handler"><h3>dsconfig delete-connection-handler</h3><p>Deletes Connection Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Connection Handler</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Connection Handlers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-debug-target"><h3>dsconfig delete-debug-target</h3><p>Deletes Debug Targets</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Debug Log Publisher</p></dd><dt><span class="term"><code class="option">--target-name {name}</code></span></dt><dd><p>The name of the Debug Target</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Debug Targets</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-entry-cache"><h3>dsconfig delete-entry-cache</h3><p>Deletes Entry Caches</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--cache-name {name}</code></span></dt><dd><p>The name of the Entry Cache</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Entry Caches</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-extended-operation-handler"><h3>dsconfig delete-extended-operation-handler</h3><p>Deletes Extended Operation Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Extended Operation Handler</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Extended Operation Handlers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-group-implementation"><h3>dsconfig delete-group-implementation</h3><p>Deletes Group Implementations</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--implementation-name {name}</code></span></dt><dd><p>The name of the Group Implementation</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Group Implementations</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-identity-mapper"><h3>dsconfig delete-identity-mapper</h3><p>Deletes Identity Mappers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--mapper-name {name}</code></span></dt><dd><p>The name of the Identity Mapper</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Identity Mappers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-key-manager-provider"><h3>dsconfig delete-key-manager-provider</h3><p>Deletes Key Manager Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Key Manager Provider</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Key Manager Providers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-local-db-index"><h3>dsconfig delete-local-db-index</h3><p>Deletes Local DB Indexes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--index-name {name}</code></span></dt><dd><p>The name of the Local DB Index</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Local DB Indexes</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-local-db-vlv-index"><h3>dsconfig delete-local-db-vlv-index</h3><p>Deletes Local DB VLV Indexes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--index-name {name}</code></span></dt><dd><p>The name of the Local DB VLV Index</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Local DB VLV Indexes</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-log-publisher"><h3>dsconfig delete-log-publisher</h3><p>Deletes Log Publishers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Log Publisher</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Log Publishers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-log-retention-policy"><h3>dsconfig delete-log-retention-policy</h3><p>Deletes Log Retention Policies</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the Log Retention Policy</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Log Retention Policies</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-log-rotation-policy"><h3>dsconfig delete-log-rotation-policy</h3><p>Deletes Log Rotation Policies</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the Log Rotation Policy</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Log Rotation Policies</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-matching-rule"><h3>dsconfig delete-matching-rule</h3><p>Deletes Matching Rules</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--rule-name {name}</code></span></dt><dd><p>The name of the Matching Rule</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Matching Rules</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-monitor-provider"><h3>dsconfig delete-monitor-provider</h3><p>Deletes Monitor Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Monitor Provider</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Monitor Providers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-password-generator"><h3>dsconfig delete-password-generator</h3><p>Deletes Password Generators</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--generator-name {name}</code></span></dt><dd><p>The name of the Password Generator</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Password Generators</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-password-policy"><h3>dsconfig delete-password-policy</h3><p>Deletes Authentication Policies</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the Authentication Policy</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Authentication Policies</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-password-storage-scheme"><h3>dsconfig delete-password-storage-scheme</h3><p>Deletes Password Storage Schemes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--scheme-name {name}</code></span></dt><dd><p>The name of the Password Storage Scheme</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Password Storage Schemes</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-password-validator"><h3>dsconfig delete-password-validator</h3><p>Deletes Password Validators</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--validator-name {name}</code></span></dt><dd><p>The name of the Password Validator</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Password Validators</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-plugin"><h3>dsconfig delete-plugin</h3><p>Deletes Plugins</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--plugin-name {name}</code></span></dt><dd><p>The name of the Plugin</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Plugins</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-replication-domain"><h3>dsconfig delete-replication-domain</h3><p>Deletes Replication Domains</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--domain-name {name}</code></span></dt><dd><p>The name of the Replication Domain</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Replication Domains</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-replication-server"><h3>dsconfig delete-replication-server</h3><p>Deletes Replication Servers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Replication Servers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-sasl-mechanism-handler"><h3>dsconfig delete-sasl-mechanism-handler</h3><p>Deletes SASL Mechanism Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the SASL Mechanism Handler</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent SASL Mechanism Handlers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-synchronization-provider"><h3>dsconfig delete-synchronization-provider</h3><p>Deletes Synchronization Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Synchronization Provider</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Synchronization Providers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-trust-manager-provider"><h3>dsconfig delete-trust-manager-provider</h3><p>Deletes Trust Manager Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Trust Manager Provider</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Trust Manager Providers</p></dd></dl></div></div><div class="refsect2" id="dsconfig-delete-virtual-attribute"><h3>dsconfig delete-virtual-attribute</h3><p>Deletes Virtual Attributes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--name {name}</code></span></dt><dd><p>The name of the Virtual Attribute</p></dd><dt><span class="term"><code class="option">-f | --force</code></span></dt><dd><p>Ignore non-existent Virtual Attributes</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-access-control-handler-prop"><h3>dsconfig get-access-control-handler-prop</h3><p>Shows Access Control Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-access-log-filtering-criteria-prop"><h3>dsconfig get-access-log-filtering-criteria-prop</h3><p>Shows Access Log Filtering Criteria properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Access Log Publisher</p></dd><dt><span class="term"><code class="option">--criteria-name {name}</code></span></dt><dd><p>The name of the Access Log Filtering Criteria</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-account-status-notification-handler-prop"><h3>dsconfig get-account-status-notification-handler-prop</h3><p>Shows Account Status Notification Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Account Status Notification Handler</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-administration-connector-prop"><h3>dsconfig get-administration-connector-prop</h3><p>Shows Administration Connector properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-alert-handler-prop"><h3>dsconfig get-alert-handler-prop</h3><p>Shows Alert Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Alert Handler</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-attribute-syntax-prop"><h3>dsconfig get-attribute-syntax-prop</h3><p>Shows Attribute Syntax properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--syntax-name {name}</code></span></dt><dd><p>The name of the Attribute Syntax</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-backend-prop"><h3>dsconfig get-backend-prop</h3><p>Shows Backend properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Backend</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-certificate-mapper-prop"><h3>dsconfig get-certificate-mapper-prop</h3><p>Shows Certificate Mapper properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--mapper-name {name}</code></span></dt><dd><p>The name of the Certificate Mapper</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-connection-handler-prop"><h3>dsconfig get-connection-handler-prop</h3><p>Shows Connection Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Connection Handler</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-crypto-manager-prop"><h3>dsconfig get-crypto-manager-prop</h3><p>Shows Crypto Manager properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-debug-target-prop"><h3>dsconfig get-debug-target-prop</h3><p>Shows Debug Target properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Debug Log Publisher</p></dd><dt><span class="term"><code class="option">--target-name {name}</code></span></dt><dd><p>The name of the Debug Target</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-entry-cache-prop"><h3>dsconfig get-entry-cache-prop</h3><p>Shows Entry Cache properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--cache-name {name}</code></span></dt><dd><p>The name of the Entry Cache</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-extended-operation-handler-prop"><h3>dsconfig get-extended-operation-handler-prop</h3><p>Shows Extended Operation Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Extended Operation Handler</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-external-changelog-domain-prop"><h3>dsconfig get-external-changelog-domain-prop</h3><p>Shows External Changelog Domain properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--domain-name {name}</code></span></dt><dd><p>The name of the Replication Domain</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-global-configuration-prop"><h3>dsconfig get-global-configuration-prop</h3><p>Shows Global Configuration properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-group-implementation-prop"><h3>dsconfig get-group-implementation-prop</h3><p>Shows Group Implementation properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--implementation-name {name}</code></span></dt><dd><p>The name of the Group Implementation</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-identity-mapper-prop"><h3>dsconfig get-identity-mapper-prop</h3><p>Shows Identity Mapper properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--mapper-name {name}</code></span></dt><dd><p>The name of the Identity Mapper</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-key-manager-provider-prop"><h3>dsconfig get-key-manager-provider-prop</h3><p>Shows Key Manager Provider properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Key Manager Provider</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-local-db-index-prop"><h3>dsconfig get-local-db-index-prop</h3><p>Shows Local DB Index properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--index-name {name}</code></span></dt><dd><p>The name of the Local DB Index</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-local-db-vlv-index-prop"><h3>dsconfig get-local-db-vlv-index-prop</h3><p>Shows Local DB VLV Index properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--index-name {name}</code></span></dt><dd><p>The name of the Local DB VLV Index</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-log-publisher-prop"><h3>dsconfig get-log-publisher-prop</h3><p>Shows Log Publisher properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Log Publisher</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-log-retention-policy-prop"><h3>dsconfig get-log-retention-policy-prop</h3><p>Shows Log Retention Policy properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the Log Retention Policy</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-log-rotation-policy-prop"><h3>dsconfig get-log-rotation-policy-prop</h3><p>Shows Log Rotation Policy properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the Log Rotation Policy</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-matching-rule-prop"><h3>dsconfig get-matching-rule-prop</h3><p>Shows Matching Rule properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--rule-name {name}</code></span></dt><dd><p>The name of the Matching Rule</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-monitor-provider-prop"><h3>dsconfig get-monitor-provider-prop</h3><p>Shows Monitor Provider properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Monitor Provider</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-password-generator-prop"><h3>dsconfig get-password-generator-prop</h3><p>Shows Password Generator properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--generator-name {name}</code></span></dt><dd><p>The name of the Password Generator</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-password-policy-prop"><h3>dsconfig get-password-policy-prop</h3><p>Shows Authentication Policy properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the Authentication Policy</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-password-storage-scheme-prop"><h3>dsconfig get-password-storage-scheme-prop</h3><p>Shows Password Storage Scheme properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--scheme-name {name}</code></span></dt><dd><p>The name of the Password Storage Scheme</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-password-validator-prop"><h3>dsconfig get-password-validator-prop</h3><p>Shows Password Validator properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--validator-name {name}</code></span></dt><dd><p>The name of the Password Validator</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-plugin-prop"><h3>dsconfig get-plugin-prop</h3><p>Shows Plugin properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--plugin-name {name}</code></span></dt><dd><p>The name of the Plugin</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-plugin-root-prop"><h3>dsconfig get-plugin-root-prop</h3><p>Shows Plugin Root properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-replication-domain-prop"><h3>dsconfig get-replication-domain-prop</h3><p>Shows Replication Domain properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--domain-name {name}</code></span></dt><dd><p>The name of the Replication Domain</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-replication-server-prop"><h3>dsconfig get-replication-server-prop</h3><p>Shows Replication Server properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-root-dn-prop"><h3>dsconfig get-root-dn-prop</h3><p>Shows Root DN properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-root-dse-backend-prop"><h3>dsconfig get-root-dse-backend-prop</h3><p>Shows Root DSE Backend properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-sasl-mechanism-handler-prop"><h3>dsconfig get-sasl-mechanism-handler-prop</h3><p>Shows SASL Mechanism Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the SASL Mechanism Handler</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-synchronization-provider-prop"><h3>dsconfig get-synchronization-provider-prop</h3><p>Shows Synchronization Provider properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Synchronization Provider</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-trust-manager-provider-prop"><h3>dsconfig get-trust-manager-provider-prop</h3><p>Shows Trust Manager Provider properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Trust Manager Provider</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-virtual-attribute-prop"><h3>dsconfig get-virtual-attribute-prop</h3><p>Shows Virtual Attribute properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--name {name}</code></span></dt><dd><p>The name of the Virtual Attribute</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-get-work-queue-prop"><h3>dsconfig get-work-queue-prop</h3><p>Shows Work Queue properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-E | --record</code></span></dt><dd><p>Modifies the display output to show one property value per line</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-access-log-filtering-criteria"><h3>dsconfig list-access-log-filtering-criteria</h3><p>Lists existing Access Log Filtering Criteria</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Access Log Publisher</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-account-status-notification-handlers"><h3>dsconfig list-account-status-notification-handlers</h3><p>Lists existing Account Status Notification Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-alert-handlers"><h3>dsconfig list-alert-handlers</h3><p>Lists existing Alert Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-attribute-syntaxes"><h3>dsconfig list-attribute-syntaxes</h3><p>Lists existing Attribute Syntaxes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-backends"><h3>dsconfig list-backends</h3><p>Lists existing Backends</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-certificate-mappers"><h3>dsconfig list-certificate-mappers</h3><p>Lists existing Certificate Mappers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-connection-handlers"><h3>dsconfig list-connection-handlers</h3><p>Lists existing Connection Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-debug-targets"><h3>dsconfig list-debug-targets</h3><p>Lists existing Debug Targets</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Debug Log Publisher</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-entry-caches"><h3>dsconfig list-entry-caches</h3><p>Lists existing Entry Caches</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-extended-operation-handlers"><h3>dsconfig list-extended-operation-handlers</h3><p>Lists existing Extended Operation Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-group-implementations"><h3>dsconfig list-group-implementations</h3><p>Lists existing Group Implementations</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-identity-mappers"><h3>dsconfig list-identity-mappers</h3><p>Lists existing Identity Mappers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-key-manager-providers"><h3>dsconfig list-key-manager-providers</h3><p>Lists existing Key Manager Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-local-db-indexes"><h3>dsconfig list-local-db-indexes</h3><p>Lists existing Local DB Indexes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-local-db-vlv-indexes"><h3>dsconfig list-local-db-vlv-indexes</h3><p>Lists existing Local DB VLV Indexes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-log-publishers"><h3>dsconfig list-log-publishers</h3><p>Lists existing Log Publishers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-log-retention-policies"><h3>dsconfig list-log-retention-policies</h3><p>Lists existing Log Retention Policies</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-log-rotation-policies"><h3>dsconfig list-log-rotation-policies</h3><p>Lists existing Log Rotation Policies</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-matching-rules"><h3>dsconfig list-matching-rules</h3><p>Lists existing Matching Rules</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-monitor-providers"><h3>dsconfig list-monitor-providers</h3><p>Lists existing Monitor Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-password-generators"><h3>dsconfig list-password-generators</h3><p>Lists existing Password Generators</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-password-policies"><h3>dsconfig list-password-policies</h3><p>Lists existing Password Policies</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-password-storage-schemes"><h3>dsconfig list-password-storage-schemes</h3><p>Lists existing Password Storage Schemes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-password-validators"><h3>dsconfig list-password-validators</h3><p>Lists existing Password Validators</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-plugins"><h3>dsconfig list-plugins</h3><p>Lists existing Plugins</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-properties"><h3>dsconfig list-properties</h3><p>Describes managed objects and their properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c | --category {category}</code></span></dt><dd><p>The category of components whose properties should be described</p></dd><dt><span class="term"><code class="option">-t | --type {type}</code></span></dt><dd><p>The type of components whose properties should be described. The value for TYPE must be one of the component types associated with the CATEGORY specified using the "--category" option</p></dd><dt><span class="term"><code class="option">--inherited</code></span></dt><dd><p>Modifies the display output to show the inherited properties of components</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-replication-domains"><h3>dsconfig list-replication-domains</h3><p>Lists existing Replication Domains</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-replication-server"><h3>dsconfig list-replication-server</h3><p>Lists existing Replication Server</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-sasl-mechanism-handlers"><h3>dsconfig list-sasl-mechanism-handlers</h3><p>Lists existing SASL Mechanism Handlers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-synchronization-providers"><h3>dsconfig list-synchronization-providers</h3><p>Lists existing Synchronization Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-trust-manager-providers"><h3>dsconfig list-trust-manager-providers</h3><p>Lists existing Trust Manager Providers</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-list-virtual-attributes"><h3>dsconfig list-virtual-attributes</h3><p>Lists existing Virtual Attributes</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--property {property}</code></span></dt><dd><p>The name of a property to be displayed</p></dd><dt><span class="term"><code class="option">-z | --unit-size {unit}</code></span></dt><dd><p>Display size data using the specified unit. The value for UNIT can be one of b, kb, mb, gb, or tb (bytes, kilobytes, megabytes, gigabytes, or terabytes)</p></dd><dt><span class="term"><code class="option">-m | --unit-time {unit}</code></span></dt><dd><p>Display time data using the specified unit. The value for UNIT can be one of ms, s, m, h, d, or w (milliseconds, seconds, minutes, hours, days, or weeks)</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-access-control-handler-prop"><h3>dsconfig set-access-control-handler-prop</h3><p>Modifies Access Control Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-access-log-filtering-criteria-prop"><h3>dsconfig set-access-log-filtering-criteria-prop</h3><p>Modifies Access Log Filtering Criteria properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Access Log Publisher</p></dd><dt><span class="term"><code class="option">--criteria-name {name}</code></span></dt><dd><p>The name of the Access Log Filtering Criteria</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-account-status-notification-handler-prop"><h3>dsconfig set-account-status-notification-handler-prop</h3><p>Modifies Account Status Notification Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Account Status Notification Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-administration-connector-prop"><h3>dsconfig set-administration-connector-prop</h3><p>Modifies Administration Connector properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-alert-handler-prop"><h3>dsconfig set-alert-handler-prop</h3><p>Modifies Alert Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Alert Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-attribute-syntax-prop"><h3>dsconfig set-attribute-syntax-prop</h3><p>Modifies Attribute Syntax properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--syntax-name {name}</code></span></dt><dd><p>The name of the Attribute Syntax</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-backend-prop"><h3>dsconfig set-backend-prop</h3><p>Modifies Backend properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Backend</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-certificate-mapper-prop"><h3>dsconfig set-certificate-mapper-prop</h3><p>Modifies Certificate Mapper properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--mapper-name {name}</code></span></dt><dd><p>The name of the Certificate Mapper</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-connection-handler-prop"><h3>dsconfig set-connection-handler-prop</h3><p>Modifies Connection Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Connection Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-crypto-manager-prop"><h3>dsconfig set-crypto-manager-prop</h3><p>Modifies Crypto Manager properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-debug-target-prop"><h3>dsconfig set-debug-target-prop</h3><p>Modifies Debug Target properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Debug Log Publisher</p></dd><dt><span class="term"><code class="option">--target-name {name}</code></span></dt><dd><p>The name of the Debug Target</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-entry-cache-prop"><h3>dsconfig set-entry-cache-prop</h3><p>Modifies Entry Cache properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--cache-name {name}</code></span></dt><dd><p>The name of the Entry Cache</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-extended-operation-handler-prop"><h3>dsconfig set-extended-operation-handler-prop</h3><p>Modifies Extended Operation Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the Extended Operation Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-external-changelog-domain-prop"><h3>dsconfig set-external-changelog-domain-prop</h3><p>Modifies External Changelog Domain properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--domain-name {name}</code></span></dt><dd><p>The name of the Replication Domain</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-global-configuration-prop"><h3>dsconfig set-global-configuration-prop</h3><p>Modifies Global Configuration properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-group-implementation-prop"><h3>dsconfig set-group-implementation-prop</h3><p>Modifies Group Implementation properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--implementation-name {name}</code></span></dt><dd><p>The name of the Group Implementation</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-identity-mapper-prop"><h3>dsconfig set-identity-mapper-prop</h3><p>Modifies Identity Mapper properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--mapper-name {name}</code></span></dt><dd><p>The name of the Identity Mapper</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-key-manager-provider-prop"><h3>dsconfig set-key-manager-provider-prop</h3><p>Modifies Key Manager Provider properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Key Manager Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-local-db-index-prop"><h3>dsconfig set-local-db-index-prop</h3><p>Modifies Local DB Index properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--index-name {name}</code></span></dt><dd><p>The name of the Local DB Index</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-local-db-vlv-index-prop"><h3>dsconfig set-local-db-vlv-index-prop</h3><p>Modifies Local DB VLV Index properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--backend-name {name}</code></span></dt><dd><p>The name of the Local DB Backend</p></dd><dt><span class="term"><code class="option">--index-name {name}</code></span></dt><dd><p>The name of the Local DB VLV Index</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-log-publisher-prop"><h3>dsconfig set-log-publisher-prop</h3><p>Modifies Log Publisher properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--publisher-name {name}</code></span></dt><dd><p>The name of the Log Publisher</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-log-retention-policy-prop"><h3>dsconfig set-log-retention-policy-prop</h3><p>Modifies Log Retention Policy properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the Log Retention Policy</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-log-rotation-policy-prop"><h3>dsconfig set-log-rotation-policy-prop</h3><p>Modifies Log Rotation Policy properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the Log Rotation Policy</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-matching-rule-prop"><h3>dsconfig set-matching-rule-prop</h3><p>Modifies Matching Rule properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--rule-name {name}</code></span></dt><dd><p>The name of the Matching Rule</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-monitor-provider-prop"><h3>dsconfig set-monitor-provider-prop</h3><p>Modifies Monitor Provider properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Monitor Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-password-generator-prop"><h3>dsconfig set-password-generator-prop</h3><p>Modifies Password Generator properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--generator-name {name}</code></span></dt><dd><p>The name of the Password Generator</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-password-policy-prop"><h3>dsconfig set-password-policy-prop</h3><p>Modifies Authentication Policy properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--policy-name {name}</code></span></dt><dd><p>The name of the Authentication Policy</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-password-storage-scheme-prop"><h3>dsconfig set-password-storage-scheme-prop</h3><p>Modifies Password Storage Scheme properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--scheme-name {name}</code></span></dt><dd><p>The name of the Password Storage Scheme</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-password-validator-prop"><h3>dsconfig set-password-validator-prop</h3><p>Modifies Password Validator properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--validator-name {name}</code></span></dt><dd><p>The name of the Password Validator</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-plugin-prop"><h3>dsconfig set-plugin-prop</h3><p>Modifies Plugin properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--plugin-name {name}</code></span></dt><dd><p>The name of the Plugin</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-plugin-root-prop"><h3>dsconfig set-plugin-root-prop</h3><p>Modifies Plugin Root properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-replication-domain-prop"><h3>dsconfig set-replication-domain-prop</h3><p>Modifies Replication Domain properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--domain-name {name}</code></span></dt><dd><p>The name of the Replication Domain</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-replication-server-prop"><h3>dsconfig set-replication-server-prop</h3><p>Modifies Replication Server properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Replication Synchronization Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-root-dn-prop"><h3>dsconfig set-root-dn-prop</h3><p>Modifies Root DN properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-root-dse-backend-prop"><h3>dsconfig set-root-dse-backend-prop</h3><p>Modifies Root DSE Backend properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-sasl-mechanism-handler-prop"><h3>dsconfig set-sasl-mechanism-handler-prop</h3><p>Modifies SASL Mechanism Handler properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--handler-name {name}</code></span></dt><dd><p>The name of the SASL Mechanism Handler</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-synchronization-provider-prop"><h3>dsconfig set-synchronization-provider-prop</h3><p>Modifies Synchronization Provider properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Synchronization Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-trust-manager-provider-prop"><h3>dsconfig set-trust-manager-provider-prop</h3><p>Modifies Trust Manager Provider properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--provider-name {name}</code></span></dt><dd><p>The name of the Trust Manager Provider</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-virtual-attribute-prop"><h3>dsconfig set-virtual-attribute-prop</h3><p>Modifies Virtual Attribute properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--name {name}</code></span></dt><dd><p>The name of the Virtual Attribute</p></dd><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div><div class="refsect2" id="dsconfig-set-work-queue-prop"><h3>dsconfig set-work-queue-prop</h3><p>Modifies Work Queue properties</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--set {PROP:VALUE}</code></span></dt><dd><p>Assigns a value to a property where PROP is the name of the property and VALUE is the single value to be assigned. Specify the same property multiple times in order to assign more than one value to it</p></dd><dt><span class="term"><code class="option">--reset {property}</code></span></dt><dd><p>Resets a property back to its default values where PROP is the name of the property to be reset</p></dd><dt><span class="term"><code class="option">--add {PROP:VALUE}</code></span></dt><dd><p>Adds a single value to a property where PROP is the name of the property and VALUE is the single value to be added</p></dd><dt><span class="term"><code class="option">--remove {PROP:VALUE}</code></span></dt><dd><p>Removes a single value from a property where PROP is the name of the property and VALUE is the single value to be removed</p></dd></dl></div></div></div><div class="refsect1" id="d0e19795"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e19811"><h2>Examples</h2><p>Much of the <em class="citetitle">OpenDJ Administration Guide</em> consists
  of <span class="command"><strong>dsconfig</strong></span> examples with text in between. This section
  therefore remains short.</p><p>The following example starts <span class="command"><strong>dsconfig</strong></span> in interactive,
  menu-driven mode on the default port of the current host.</p><pre class="cmdline prettyprint">$ dsconfig -h `hostname` -p 4444 -D "cn=Directory Manager" -w password

&gt;&gt;&gt;&gt; OpenDJ configuration console main menu

What do you want to configure?

    1)   Access Control Handler               21)  Log Publisher
    2)   Access Log Filtering Criteria        22)  Log Retention Policy
    3)   Account Status Notification Handler  23)  Log Rotation Policy
    4)   Administration Connector             24)  Matching Rule
    5)   Alert Handler                        25)  Monitor Provider
    6)   Attribute Syntax                     26)  Password Generator
    7)   Backend                              27)  Password Policy
    8)   Certificate Mapper                   28)  Password Storage Scheme
    9)   Connection Handler                   29)  Password Validator
    10)  Crypto Manager                       30)  Plugin
    11)  Debug Target                         31)  Plugin Root
    12)  Entry Cache                          32)  Replication Domain
    13)  Extended Operation Handler           33)  Replication Server
    14)  External Changelog Domain            34)  Root DN
    15)  Global Configuration                 35)  Root DSE Backend
    16)  Group Implementation                 36)  SASL Mechanism Handler
    17)  Identity Mapper                      37)  Synchronization Provider
    18)  Key Manager Provider                 38)  Trust Manager Provider
    19)  Local DB Index                       39)  Virtual Attribute
    20)  Local DB VLV Index                   40)  Work Queue

    q)   quit

Enter choice: </pre><p>The following examples demonstrates generating a batch file that
  corresponds to an interactive session enabling the debug log. The example
  then demonstates using a modified batch file to disable the debug log.</p><pre class="cmdline prettyprint">$ dsconfig
 --hostname `hostname`
 --port 4444
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --commandFilePath ~/enable-debug-log.batch
 ...
$ cat ~/enable-debug-log.batch
# dsconfig session start date: 19/Oct/2011:08:52:22 +0000

# Session operation number: 1
# Operation date: 19/Oct/2011:08:55:06 +0000
dsconfig set-log-publisher-prop \
          --publisher-name File-Based\ Debug\ Logger \
          --set enabled:true \
          --hostname opendj.example.com \
          --port 4444 \
          --trustStorePath /path/to/opendj/config/admin-truststore \
          --bindDN cn=Directory\ Manager \
          --bindPassword ****** \
          --no-prompt

$ cp ~/enable-debug-log.batch ~/disable-debug-log.batch
$ vi ~/disable-debug-log.batch
$ cat ~/disable-debug-log.batch
set-log-publisher-prop \
          --publisher-name File-Based\ Debug\ Logger \
          --set enabled:false \
          --hostname opendj.example.com \
          --port 4444 \
          --trustStorePath /path/to/opendj/config/admin-truststore \
          --bindDN cn=Directory\ Manager \
          --bindPassword password \
          --no-prompt

$ dsconfig --batchFilePath ~/disable-debug-log.batch --no-prompt
set-log-publisher-prop
--publisher-name
File-Based Debug Logger
--set
enabled:false
--hostname
opendj.example.com
--port
4444
--trustStorePath
/path/to/opendj/config/admin-truststore
--bindDN
cn=Directory Manager
--bindPassword
password
--no-prompt

$</pre><p>Notice that the original command file looks like a shell script with
  the bind password value replaced by asterisks. To pass the content as a batch
  file to <span class="command"><strong>dsconfig</strong></span>, strip <code class="literal">dsconfig</code>
  itself, and include the bind password for the administrative user (or
  replace that option with an alternative, such as reading the password from
  a file).</p></div></div><div lang="en" class="refentry" id="dsframework-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>dsframework &#8212; manage OpenDJ administration framework</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e19865"><code class="command">dsframework</code> <br><code class="command"><em class="replaceable"><code>subcommand</code></em></code>  {options}</p></div></div><div class="refsect1" id="d0e19873"><h2>Description</h2><p>This utility can be used to perform operations in the directory server
  administration framework.</p><p>This utility has no interactive mode. Consider using <code class="option">-X</code>
  if you authenticate over a secure connection protected with a self-signed
  certificate.</p></div><div class="refsect1" id="d0e19883"><h2>Subcommands</h2><p>The <span class="command"><strong>dsconfig</strong></span> command provides many subcommands.
  Use the following options to view help for subcommands.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--help-all</code></span></dt><dd><p>Display all subcommands</p></dd><dt><span class="term"><code class="option">--help-admin-user</code></span></dt><dd><p>Display subcommands relating to admin-user</p></dd><dt><span class="term"><code class="option">--help-server</code></span></dt><dd><p>Display subcommands relating to server</p></dd><dt><span class="term"><code class="option">--help-server-group</code></span></dt><dd><p>Display subcommands relating to server-group</p></dd></dl></div><p>For help with individual subcommands, use <span class="command"><strong>dsframework
  <em class="replaceable"><code>subcommand</code></em> --help</strong></span>.</p></div><div class="refsect1" id="d0e19928"><h2>Options</h2><p>The following options are supported.</p><div class="refsect2" id="d0e19933"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-I, --adminUID {adminUID}</code></span></dt><dd><p>User ID of the global administrator to use to bind to the server.
      For the <span class="command"><strong>enable</strong></span> subcommand, if no global administrator
      was defined previously for any servers, the global administrator will be
      created using the UID provided.</p><p>Default value: admin</p></dd><dt><span class="term"><code class="option">-j, --adminPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Global administrator password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p><p>Default value: /path/to/opendj/config/admin-truststore</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --adminPassword {bindPassword}</code></span></dt><dd><p>Password for the global administrator</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e20055"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" id="d0e20080"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e20098"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e20114"><h2>Examples</h2><p>This example lists server properties.</p><pre class="cmdline prettyprint">
$ dsframework -p 4444 -h opendj.example.com -D "cn=Directory Manager"
 -w password -X list-server-properties
Option Types:

 r -- Property value(s) are readable
 w -- Property value(s) are writable
 m -- The property is mandatory
 s -- The property is single-valued

Property                       Options  Syntax              Default value
-------------------------------------------------------------------------
ldapsport                      rw--     INTEGER             -
certificate                    rw-s     STRING              -
hostname                       r-ms     STRING              localhost
ldapport                       rwm-     INTEGER             389
jmxsEnabled                    rw-s     BOOLEAN             false
instancepath                   rw-s     STRING              -
ldapsEnabled                   rw-s     BOOLEAN             false
jmxsport                       rw--     INTEGER             -
os                             rw-s     STRING              -
ds-cfg-key-id                  rw-s     STRING              -
jmxport                        rw--     INTEGER             -
description                    rw-s     STRING              -
id                             rw-s     STRING              -
startTLSEnabled                rw-s     BOOLEAN             false
jmxEnabled                     rw-s     BOOLEAN             false
ds-cfg-public-key-certificate  rw-s     CERTIFICATE_BINARY  -
location                       rw-s     STRING              -
ldapEnabled                    rw-s     BOOLEAN             false</pre></div></div><div lang="en" class="refentry" id="dsjavaproperties-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>dsjavaproperties &#8212; apply OpenDJ Java home and JVM settings</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e20145"><code class="command">dsjavaproperties</code>  [options]</p></div></div><div class="refsect1" id="d0e20150"><h2>Description</h2><p>This utility can be used to change the Java arguments and Java home
  that are used by other server commands.</p><p>Before launching the command, edit the properties file located in
  <code class="filename">/path/to/opendj/config/java.properties</code> to specify the
  Java arguments and Java home. When you have edited the properties file, run
  this command for the changes to be taken into account.</p><p>Changes apply to the current server installation. No modifications
  are made to your environment variables.</p></div><div class="refsect1" id="d0e20162"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-Q, --quiet</code></span></dt><dd><p>Run the tool in quiet mode. Quiet mode will not output progress
     information to standard output.</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" id="d0e20189"><h2>Files</h2><p>This command depends on the content of the
  <code class="filename">config/java.properties</code> file.</p></div><div class="refsect1" id="d0e20197"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e20213"><h2>Examples</h2><pre class="cmdline prettyprint">$ dsjavaproperties 
The operation was successful.  The server commands will use the java arguments
 and java home specified in the properties file located in
 /path/to/opendj/config/java.properties</pre></div></div><div lang="en" class="refentry" id="dsreplication-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>dsreplication &#8212; manage OpenDJ directory data replication</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e20242"><code class="command">dsreplication</code> <br><code class="command"><em class="replaceable"><code>subcommand</code></em></code>  [options]</p></div></div><div class="refsect1" id="d0e20250"><h2>Description</h2><p>This utility can be used to configure replication between servers so
  that the data of the servers is synchronized. For replication to work you
  must first enable replication using the <span class="command"><strong>enable</strong></span> subcommand
  and then initialize the contents of one of the servers with the contents of
  the other using the <span class="command"><strong>initialize</strong></span> subcommand.</p></div><div class="refsect1" id="d0e20261"><h2>Subcommands</h2><p>The following subcommands are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="command"><strong>disable</strong></span></span></dt><dd><p>Disable replication on the specified server for the provided base
     DN and removes references in the other servers with which it is
     replicating data.</p></dd><dt><span class="term"><span class="command"><strong>enable</strong></span></span></dt><dd><p>Update the configuration of the servers to replicate the data
     under the specified base DN.  If one of the specified servers is already
     replicating the data under the base DN with other servers, executing this
     subcommand will update the configuration of all the servers. Thus it is
     sufficient to execute the command line once for each server added to the
     replication topology.</p></dd><dt><span class="term"><span class="command"><strong>initialize</strong></span></span></dt><dd><p>Initialize the contents of the data under the specified base DN
     on the destination server with the contents on the source server.  This
     operation is required after enabling replication in order replication to
     work. <span class="command"><strong>initialize-all</strong></span> can also be used for this
     purpose.</p></dd><dt><span class="term"><span class="command"><strong>initialize-all</strong></span></span></dt><dd><p>Initialize the contents of the data under the specified base DN
     on all the servers whose contents are being replicated with the contents
     on the specified server.  This operation is required after enabling
     replication for replication to work. Run <span class="command"><strong>initialize</strong></span>
     for each server to achieve the same effect.</p></dd><dt><span class="term"><span class="command"><strong>post-external-initialization</strong></span></span></dt><dd><p>This subcommand must be called after initializing the contents of
     all the replicated servers using the <span class="command"><strong>import-ldif</strong></span>
     command, or by copying the database. You must specify the list of base DNs
     that have been initialized, and you must provide the credentials of any
     of the servers that are being replicated.  See
     <span class="command"><strong>pre-external-initialization --help</strong></span> for more
     information.</p></dd><dt><span class="term"><span class="command"><strong>pre-external-initialization</strong></span></span></dt><dd><p>This subcommand must be called before initializing the contents
     of all the replicated servers using the <span class="command"><strong>import-ldif</strong></span>
     command, or by copying the database. You must specify the list of base DNs
     that have been initialized, and you must provide the credentials of any
     of the servers that are being replicated. After calling this subcommand,
     initialize the contents of all the servers in the topology, either by
     using the same LDIF file or by copying the database to each of the
     servers, then call the <span class="command"><strong>post-external-initialization</strong></span>
     subcommand.</p></dd><dt><span class="term"><span class="command"><strong>purge-historical</strong></span></span></dt><dd><p>Launch a purge processing of the historical information stored
     in the user entries by replication. Since this processing may take a
     while, you must specify a maximum duration.</p></dd><dt><span class="term"><span class="command"><strong>status</strong></span></span></dt><dd><p>Display a list with the basic replication configuration of the
     base DNs of the servers defined in the registration information.  If
     no base DNs are specified as parameter, information for all base DNs
     is displayed.</p></dd></dl></div></div><div class="refsect1" id="d0e20341"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--advanced</code></span></dt><dd><p>Access advanced settings when running this command in interactive
     mode.</p></dd><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN of the data to be replicated, initialized or for which you
     want to disable replication.  Multiple base DNs can be provided by using
     this option multiple times.</p></dd></dl></div><div class="refsect2" id="d0e20361"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-I, --adminUID {adminUID}</code></span></dt><dd><p>User ID of the global administrator to use to bind to the server.
      For the <span class="command"><strong>enable</strong></span> subcommand, if no global administrator
      was defined previously for any servers, the global administrator will be
      created using the UID provided.</p><p>Default value: admin</p></dd><dt><span class="term"><code class="option">-j, --adminPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Global administrator password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p><p>Default value: /path/to/opendj/config/admin-truststore</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --adminPassword {bindPassword}</code></span></dt><dd><p>Password for the global administrator</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e20483"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--commandFilePath {path}</code></span></dt><dd><p>The full path to the file where the equivalent non-interactive
      commands will be written when this command is run in interactive
      mode.</p></dd><dt><span class="term"><code class="option">--displayCommand</code></span></dt><dd><p>Display the equivalent non-interactive option on standard output
      when this command is run in interactive mode.</p></dd><dt><span class="term"><code class="option">-n, --no-prompt</code></span></dt><dd><p>Use non-interactive mode. If data in the command is missing, the
      user is not prompted and the command exits with an error.</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-Q, --quiet</code></span></dt><dd><p>Do not write progress information to standard output</p></dd></dl></div></div><div class="refsect2" id="d0e20529"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e20547"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e20563"><h2>Examples</h2><p>The following example enables and then initializes replication
  for a new replica on <code class="literal">opendj2.example.com</code> from an existing
  replica on <code class="literal">opendj.example.com</code>.</p><pre class="cmdline prettyprint">$ dsreplication enable -I admin -w password -X -n -b dc=example,dc=com
 --host1 opendj.example.com --port1 4444 --bindDN1 "cn=Directory Manager"
 --bindPassword1 password --replicationPort1 8989
 --host2 opendj2.example.com --port2 4444 --bindDN2 "cn=Directory Manager"
 --bindPassword2 password --replicationPort2 8989

Establishing connections ..... Done.
Checking registration information ..... Done.
Updating remote references on server opendj.example.com:4444 ..... Done.
Configuring Replication port on server opendj2.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj.example.com:4444 ..... Done.
Updating replication configuration for baseDN dc=example,dc=com on server
 opendj2.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj.example.com:4444 ..... Done.
Updating registration configuration on server
 opendj2.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj.example.com:4444 ..... Done.
Updating replication configuration for baseDN cn=schema on server
 opendj2.example.com:4444 ..... Done.
Initializing registration information on server opendj2.example.com:4444 with
 the contents of server opendj.example.com:4444 ..... Done.
Initializing schema on server opendj2.example.com:4444 with the contents of
 server opendj.example.com:4444 ..... Done.

Replication has been successfully enabled.  Note that for replication to
 work you must initialize the contents of the base DN's that are being
  replicated (use dsreplication initialize to do so).

See
/var/.../opends-replication-7958637258600693490.log
for a detailed log of this operation.
$ dsreplication initialize-all -I admin -w password -X -n -b dc=example,dc=com
 -h opendj.example.com -p 4444

Initializing base DN dc=example,dc=com with the contents from
 opendj.example.com:4444: 160 entries processed (100 % complete).
Base DN initialized successfully.

See
/var/.../opends-replication-5020375834904394170.log
for a detailed log of this operation.</pre></div></div><div lang="en" class="refentry" id="encode-password-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>encode-password &#8212; encode a password with an OpenDJ storage scheme</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e20599"><code class="command">encode-password</code>  {options}</p></div></div><div class="refsect1" id="d0e20604"><h2>Description</h2><p>This utility can be used to encode user passwords with a specified
  storage scheme, or to determine whether a given clear-text value matches a
  provided encoded password.</p></div><div class="refsect1" id="d0e20609"><h2>Options</h2><p>The following global options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --authPasswordSyntax</code></span></dt><dd><p>Use the authentication password syntax rather than the user
     password syntax.</p></dd><dt><span class="term"><code class="option">-c, --clearPassword {clearPW}</code></span></dt><dd><p>Clear-text password to encode or to compare against an encoded
     password.</p></dd><dt><span class="term"><code class="option">-e, --encodedPassword {encodedPW}</code></span></dt><dd><p>Encoded password to compare against the clear-text password.</p></dd><dt><span class="term"><code class="option">-E, --encodedPasswordFile {file}</code></span></dt><dd><p>Encoded password file.</p></dd><dt><span class="term"><code class="option">-f, --clearPasswordFile {file}</code></span></dt><dd><p>Clear-text password file.</p></dd><dt><span class="term"><code class="option">-i, --interactivePassword</code></span></dt><dd><p>The password to encode or to compare against an encoded password is
     interactively asked to the user.</p></dd><dt><span class="term"><code class="option">-l, --listSchemes</code></span></dt><dd><p>List available password storage schemes.</p></dd><dt><span class="term"><code class="option">-r, --useCompareResultCode</code></span></dt><dd><p>Use the LDAP compare result as an exit code for the password
     comparison.</p></dd><dt><span class="term"><code class="option">-s, --storageScheme {scheme}</code></span></dt><dd><p>Scheme to use for the encoded password.</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" id="d0e20692"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">5</span></dt><dd><p>The <code class="option">-r</code> option was used, and the compare did not
      match.</p></dd><dt><span class="term">6</span></dt><dd><p>The <code class="option">-r</code> option was used, and the compare did
      match.</p></dd><dt><span class="term">other</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e20726"><h2>Examples</h2><p>The following example encodes a password, and also shows comparison
  of a password with the encoded value.</p><pre class="cmdline prettyprint">$ encode-password -l
3DES
AES
BASE64
BLOWFISH
CLEAR
CRYPT
MD5
RC4
SHA
SMD5
SSHA
SSHA256
SSHA384
SSHA512
$ encode-password -c secret12 -s CRYPT
Encoded Password:  "{CRYPT}ZulJ6Dy3TFnrE"
$ encode-password -c secret12 -s CRYPT -e "{CRYPT}ZulJ6Dy3TFnrE" -r
The provided clear-text and encoded passwords match
$ echo $?
6</pre></div></div><div lang="en" class="refentry" id="export-ldif-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>export-ldif &#8212; export OpenDJ directory data in LDIF</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e20757"><code class="command">export-ldif</code>  {options}</p></div></div><div class="refsect1" id="d0e20762"><h2>Description</h2><p>This utility can be used to export data from a directory server backend
  in LDIF form.</p></div><div class="refsect1" id="d0e20767"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --appendToLDIF</code></span></dt><dd><p>Append an existing LDIF file rather than overwriting it.</p></dd><dt><span class="term"><code class="option">-b, --includeBranch {branchDN}</code></span></dt><dd><p>Base DN of a branch to include in the LDIF export.</p></dd><dt><span class="term"><code class="option">-B, --excludeBranch {branchDN}</code></span></dt><dd><p>Base DN of a branch to exclude from the LDIF export.</p></dd><dt><span class="term"><code class="option">-c, --compress</code></span></dt><dd><p>Compress the LDIF data as it is exported.</p></dd><dt><span class="term"><code class="option">-e, --excludeAttribute {attribute}</code></span></dt><dd><p>Attribute to exclude from the LDIF export.</p></dd><dt><span class="term"><code class="option">-E, --excludeFilter {filter}</code></span></dt><dd><p>Filter to identify entries to exclude from the LDIF export.</p></dd><dt><span class="term"><code class="option">-i, --includeAttribute {attribute}</code></span></dt><dd><p>Attribute to include in the LDIF export.</p></dd><dt><span class="term"><code class="option">-I, --includeFilter {filter}</code></span></dt><dd><p>Filter to identify entries to include in the LDIF export.</p></dd><dt><span class="term"><code class="option">-l, --ldifFile {ldifFile}</code></span></dt><dd><p>Path to the LDIF file to be written.</p></dd><dt><span class="term"><code class="option">-n, --backendID {backendName}</code></span></dt><dd><p>Backend ID for the backend to export.</p></dd><dt><span class="term"><code class="option">-O, --excludeOperational</code></span></dt><dd><p>Exclude operational attributes from the LDIF export.</p></dd><dt><span class="term"><code class="option">--wrapColumn {wrapColumn}</code></span></dt><dd><p>Column at which to wrap long lines (0 for no wrapping).</p><p>Default value: 0</p></dd></dl></div><div class="refsect2" id="d0e20859"><h3>Task Backend Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p>Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p><p>Use <code class="option">-w -</code> to have the command prompt for the
      password, rather than enter the password on the command line.</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e20981"><h3>Task Scheduling Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--completionNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified when the task
      completes. This option may be specified more than once.</p></dd><dt><span class="term"><code class="option">--dependency {taskID}</code></span></dt><dd><p>ID of a task upon which this task depends. A task will not start
      execution until all its dependencies have completed execution.</p></dd><dt><span class="term"><code class="option">--errorNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified if an error occurs
      when this task executes. This option may be specified more than
      once.</p></dd><dt><span class="term"><code class="option">--failedDependencyAction {action}</code></span></dt><dd><p>Action this task will take should one if its dependent tasks fail.
      The value must be one of PROCESS, CANCEL, DISABLE. If not specified
      defaults to CANCEL.</p></dd><dt><span class="term"><code class="option">--recurringTask {schedulePattern}</code></span></dt><dd><p>Indicates the task is recurring and will be scheduled according
      to the value argument expressed in crontab(5) compatible time/date
      pattern.</p></dd><dt><span class="term"><code class="option">-t, --start {startTime}</code></span></dt><dd><p>Indicates the date/time at which this operation will start when
      scheduled as a server task expressed in YYYYMMDDhhmmssZ format for UTC
      time or YYYYMMDDhhmmss for local time. A value of '0' will cause the
      task to be scheduled for immediate execution. When this option is
      specified the operation will be scheduled to start at the specified
      time after which this utility will exit immediately.</p></dd></dl></div></div><div class="refsect2" id="d0e21027"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd></dl></div></div><div class="refsect2" id="d0e21045"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e21063"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e21079"><h2>Examples</h2><p>The following example exports data to a file,
  <code class="filename">Example.ldif</code>, with the server offline.</p><pre class="cmdline prettyprint">$ export-ldif -b dc=example,dc=com -n userRoot -l ../ldif/Example.ldif
[21/Jun/2011:13:40:49 +0200] category=BACKEND severity=INFORMATION ...
...Exported 160 entries and skipped 0 in 0 seconds (average rate 1428.6/sec)</pre></div></div><div lang="en" class="refentry" id="import-ldif-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>import-ldif &#8212; import OpenDJ directory data from LDIF</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e21113"><code class="command">import-ldif</code>  {options}</p></div></div><div class="refsect1" id="d0e21118"><h2>Description</h2><p>This utility can be used to import LDIF data into a directory server
  backend.</p></div><div class="refsect1" id="d0e21123"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --append</code></span></dt><dd><p>Append to an existing database rather than overwriting it.</p></dd><dt><span class="term"><code class="option">-A, --templateFile {templateFile}</code></span></dt><dd><p>Path to a MakeLDIF template to use to generate the import
     data.</p></dd><dt><span class="term"><code class="option">-b, --includeBranch {branchDN}</code></span></dt><dd><p>Base DN of a branch to include in the LDIF import.</p></dd><dt><span class="term"><code class="option">-B, --excludeBranch {branchDN}</code></span></dt><dd><p>Base DN of a branch to exclude from the LDIF import.</p></dd><dt><span class="term"><code class="option">-c, --isCompressed</code></span></dt><dd><p>LDIF file is compressed.</p></dd><dt><span class="term"><code class="option">--countRejects</code></span></dt><dd><p>Count the number of entries rejected by the server and return that
     value as the exit code (values &gt; 255 will be reduced to 255 due to exit
     code restrictions).</p></dd><dt><span class="term"><code class="option">-e, --excludeAttribute {attribute}</code></span></dt><dd><p>Attribute to exclude from the LDIF import.</p></dd><dt><span class="term"><code class="option">-E, --excludeFilter {filter}</code></span></dt><dd><p>Filter to identify entries to exclude from the LDIF import.</p></dd><dt><span class="term"><code class="option">-F, --clearBackend</code></span></dt><dd><p>Remove all entries for all base DNs in the backend before
     importing.</p></dd><dt><span class="term"><code class="option">-i, --includeAttribute {attribute}</code></span></dt><dd><p>Attribute to include in the LDIF import.</p></dd><dt><span class="term"><code class="option">-I, --includeFilter {filter}</code></span></dt><dd><p>Filter to identify entries to include in the LDIF import.</p></dd><dt><span class="term"><code class="option">-l, --ldifFile {ldifFile}</code></span></dt><dd><p>Path to the LDIF file to be imported.</p></dd><dt><span class="term"><code class="option">-n, --backendID {backendName}</code></span></dt><dd><p>Backend ID for the backend to import.</p></dd><dt><span class="term"><code class="option">-O, --overwrite</code></span></dt><dd><p>Overwrite an existing rejects and/or skip file rather than appending
     to it.</p></dd><dt><span class="term"><code class="option">-r, --replaceExisting</code></span></dt><dd><p>Replace existing entries when appending to the database.</p></dd><dt><span class="term"><code class="option">-R, --rejectFile {rejectFile}</code></span></dt><dd><p>Write rejected entries to the specified file.</p></dd><dt><span class="term"><code class="option">-s, --randomSeed {seed}</code></span></dt><dd><p>Seed for the MakeLDIF random number generator.</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-S, --skipSchemaValidation</code></span></dt><dd><p>Skip schema validation during the LDIF import.</p></dd><dt><span class="term"><code class="option">--skipDNValidation</code></span></dt><dd><p>Perform DN validation during later part of LDIF import.</p></dd><dt><span class="term"><code class="option">--skipFile {skipFile}</code></span></dt><dd><p>Write skipped entries to the specified file.</p></dd><dt><span class="term"><code class="option">--threadCount {count}</code></span></dt><dd><p>Number of threads used to read LDIF file during import. Default
     value (0) equals: 2 x (number of CPUs).</p></dd><dt><span class="term"><code class="option">--tmpdirectory {directory}</code></span></dt><dd><p>Path to temporary directory for index scratch files during LDIF
     import.</p><p>Default value: <code class="filename">import-tmp</code></p></dd></dl></div><div class="refsect2" id="d0e21289"><h3>Task Backend Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p>Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p><p>Use <code class="option">-w -</code> to have the command prompt for the
      password, rather than enter the password on the command line.</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e21411"><h3>Task Scheduling Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--completionNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified when the task
      completes. This option may be specified more than once.</p></dd><dt><span class="term"><code class="option">--dependency {taskID}</code></span></dt><dd><p>ID of a task upon which this task depends. A task will not start
      execution until all its dependencies have completed execution.</p></dd><dt><span class="term"><code class="option">--errorNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified if an error occurs
      when this task executes. This option may be specified more than
      once.</p></dd><dt><span class="term"><code class="option">--failedDependencyAction {action}</code></span></dt><dd><p>Action this task will take should one if its dependent tasks fail.
      The value must be one of PROCESS, CANCEL, DISABLE. If not specified
      defaults to CANCEL.</p></dd><dt><span class="term"><code class="option">--recurringTask {schedulePattern}</code></span></dt><dd><p>Indicates the task is recurring and will be scheduled according
      to the value argument expressed in crontab(5) compatible time/date
      pattern.</p></dd><dt><span class="term"><code class="option">-t, --start {startTime}</code></span></dt><dd><p>Indicates the date/time at which this operation will start when
      scheduled as a server task expressed in YYYYMMDDhhmmssZ format for UTC
      time or YYYYMMDDhhmmss for local time. A value of '0' will cause the
      task to be scheduled for immediate execution. When this option is
      specified the operation will be scheduled to start at the specified
      time after which this utility will exit immediately.</p></dd></dl></div></div><div class="refsect2" id="d0e21457"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd></dl></div></div><div class="refsect2" id="d0e21475"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e21493"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e21509"><h2>Examples</h2><p>The following example imports the content of the LDIF file,
  <code class="filename">Example.ldif</code>, with the server offline.</p><pre class="cmdline prettyprint">
  $ import-ldif -b dc=example,dc=com -n userRoot -l /path/to/Example.ldif
  [21/Jun/2011:13:38:03 +0200] category=RUNTIME_INFORMATION severity=NOTICE...
  ... msg=Import LDIF environment close took 0 seconds</pre></div></div><div lang="en" class="refentry" id="ldapcompare-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldapcompare &#8212; perform LDAP compare operations</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e21543"><code class="command">ldapcompare</code>  {options} [[attribute] |  [:] |  [value]] [DN...]</p></div></div><div class="refsect1" id="d0e21557"><h2>Description</h2><p>This utility can be used to perform LDAP compare operations in the
  directory.</p></div><div class="refsect1" id="d0e21562"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--assertionFilter {filter}</code></span></dt><dd><p>Use the LDAP assertion control with the provided filter</p></dd><dt><span class="term"><code class="option">-c, --continueOnError</code></span></dt><dd><p>Continue processing even if there are errors</p></dd><dt><span class="term"><code class="option">-f, --filename {file}</code></span></dt><dd><p>LDIF file containing one DN per line of entries to compare</p></dd><dt><span class="term"><code class="option">-J, --control {controloid[:criticality[:value|::b64value|:&lt;filePath]]}</code></span></dt><dd><p>Use a request control with the provided information</p></dd><dt><span class="term"><code class="option">-m, --useCompareResultCode</code></span></dt><dd><p>Use the LDAP compare result as an exit code for the LDAP compare operations.</p></dd><dt><span class="term"><code class="option">-n, --dry-run</code></span></dt><dd><p>Show what would be done but do not perform any operation</p></dd></dl></div><div class="refsect2" id="d0e21610"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection.  Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-r, --useSASLExternal</code></span></dt><dd><p>Use the SASL EXTERNAL authentication mechanism</p></dd><dt><span class="term"><code class="option">--trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-V, --ldapVersion {version}</code></span></dt><dd><p>LDAP protocol version number</p><p>Default value: 3</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" id="d0e21757"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-i, --encoding {encoding}</code></span></dt><dd><p>Use the specified character set for command-line input</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-s, --script-friendly</code></span></dt><dd><p>Use script-friendly mode</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" id="d0e21796"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e21814"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">5</span></dt><dd><p>The -m option was used, and at least one of the LDAP compare operations did not match.</p></dd><dt><span class="term">6</span></dt><dd><p>The -m option was used, and all the LDAP compare operations did match.</p></dd><dt><span class="term"><em class="replaceable"><code>ldap-error</code></em></span></dt><dd><p>An LDAP error occurred while processing the operation.</p><p>LDAP result codes are described in <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_top">RFC
      4511</a>. Also see the additional information for details.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" id="d0e21854"><h2>Files</h2><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="codelisting prettyprint">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre></div><div class="refsect1" id="d0e21865"><h2>Examples</h2><p>The following examples demonstrate comparing Babs Jensen's UID.</p><p>The following example uses a matching UID value.</p><pre class="cmdline prettyprint">$ ldapcompare -p 1389 uid:bjensen uid=bjensen,ou=people,dc=example,dc=com
Comparing type uid with value bjensen in entry
uid=bjensen,ou=people,dc=example,dc=com
Compare operation returned true for entry
uid=bjensen,ou=people,dc=example,dc=com</pre><p>The following example uses a UID value that does not match.</p><pre class="cmdline prettyprint">$ ldapcompare -p 1389 uid:beavis uid=bjensen,ou=people,dc=example,dc=com
Comparing type uid with value beavis in entry
uid=bjensen,ou=people,dc=example,dc=com
Compare operation returned false for entry
uid=bjensen,ou=people,dc=example,dc=com</pre></div></div><div lang="en" class="refentry" id="ldapdelete-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldapdelete &#8212; perform LDAP delete operations</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e21903"><code class="command">ldapdelete</code>  {options} [<em class="replaceable"><code>DN</code></em>]</p></div></div><div class="refsect1" id="d0e21911"><h2>Description</h2><p>This utility can be used to perform LDAP delete operations in the
  directory.</p></div><div class="refsect1" id="d0e21916"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--assertionFilter {filter}</code></span></dt><dd><p>Use the LDAP assertion control with the provided filter</p></dd><dt><span class="term"><code class="option">-c, --continueOnError</code></span></dt><dd><p>Continue processing even if there are errors</p></dd><dt><span class="term"><code class="option">-f, --filename {file}</code></span></dt><dd><p>LDIF file containing the changes to apply</p></dd><dt><span class="term"><code class="option">-J, --control {controloid[:criticality[:value|::b64value|:&lt;filePath]]}</code></span></dt><dd><p>Use a request control with the provided information</p></dd><dt><span class="term"><code class="option">-n, --dry-run</code></span></dt><dd><p>Show what would be done but do not perform any operation</p></dd><dt><span class="term"><code class="option">-x, --deleteSubtree</code></span></dt><dd><p>Delete the specified entry and all entries below it</p></dd><dt><span class="term"><code class="option">-Y, --proxyAs {authzID}</code></span></dt><dd><p>Use the proxied authorization control with the given authorization
     ID</p></dd></dl></div><div class="refsect2" id="d0e21971"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">--usePasswordPolicyControl</code></span></dt><dd><p>Use the password policy request control</p></dd><dt><span class="term"><code class="option">-V, --ldapVersion {version}</code></span></dt><dd><p>LDAP protocol version number</p><p>Default value: 3</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" id="d0e22116"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-i, --encoding {encoding}</code></span></dt><dd><p>Use the specified character set for command-line input</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" id="d0e22148"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e22166"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term"><em class="replaceable"><code>ldap-error</code></em></span></dt><dd><p>An LDAP error occurred while processing the operation.</p><p>LDAP result codes are described in <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_top">RFC
      4511</a>. Also see the additional information for details.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" id="d0e22194"><h2>Files</h2><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="codelisting prettyprint">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre></div><div class="refsect1" id="d0e22205"><h2>Examples</h2><p>The following command deletes a user entry from the directory.</p><pre class="cmdline prettyprint">$ ldapdelete -p 1389 -D "cn=Directory Manager" -w password
 uid=bjensen,ou=people,dc=example,dc=com
Processing DELETE request for uid=bjensen,ou=people,dc=example,dc=com
DELETE operation successful for DN uid=bjensen,ou=people,dc=example,dc=com</pre><p>The following command deletes the ou=Groups entry and all entries
  underneath ou=Groups.</p><pre class="cmdline prettyprint">$ ldapdelete -p 1389 -D "cn=Directory Manager" -w password -x
 ou=groups,dc=example,dc=com
Processing DELETE request for ou=groups,dc=example,dc=com
DELETE operation successful for DN ou=groups,dc=example,dc=com</pre></div></div><div lang="en" class="refentry" id="ldapmodify-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldapmodify &#8212; perform LDAP modify, add, delete, mod DN operations</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e22241"><code class="command">ldapmodify</code>  {options}</p></div></div><div class="refsect1" id="d0e22246"><h2>Description</h2><p>This utility can be used to perform LDAP modify, add, delete, and
  modify DN operations in the directory.</p><p>When not using a file to specify modifications, end your input with
  EOF (Ctrl+D on UNIX, Ctrl+Z on Windows).</p></div><div class="refsect1" id="d0e22253"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --defaultAdd</code></span></dt><dd><p>Treat records with no changetype as add operations</p></dd><dt><span class="term"><code class="option">--assertionFilter {filter}</code></span></dt><dd><p>Use the LDAP assertion control with the provided filter</p></dd><dt><span class="term"><code class="option">-c, --continueOnError</code></span></dt><dd><p>Continue processing even if there are errors</p></dd><dt><span class="term"><code class="option">-f, --filename {file}</code></span></dt><dd><p>LDIF file containing the changes to apply</p></dd><dt><span class="term"><code class="option">-J, --control {controloid[:criticality[:value|::b64value|:&lt;filePath]]}</code></span></dt><dd><p>Use a request control with the provided information</p></dd><dt><span class="term"><code class="option">-n, --dry-run</code></span></dt><dd><p>Show what would be done but do not perform any operation</p></dd><dt><span class="term"><code class="option">--postReadAttributes {attrList}</code></span></dt><dd><p>Use the LDAP ReadEntry post-read control</p></dd><dt><span class="term"><code class="option">--preReadAttributes {attrList}</code></span></dt><dd><p>Use the LDAP ReadEntry pre-read control</p></dd><dt><span class="term"><code class="option">-Y, --proxyAs {authzID}</code></span></dt><dd><p>Use the proxied authorization control with the given authorization
     ID</p></dd></dl></div><div class="refsect2" id="d0e22322"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection.  Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-r, --useSASLExternal</code></span></dt><dd><p>Use the SASL EXTERNAL authentication mechanism</p></dd><dt><span class="term"><code class="option">--trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-V, --ldapVersion {version}</code></span></dt><dd><p>LDAP protocol version number</p><p>Default value: 3</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" id="d0e22476"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-i, --encoding {encoding}</code></span></dt><dd><p>Use the specified character set for command-line input</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" id="d0e22508"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e22526"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term"><em class="replaceable"><code>ldap-error</code></em></span></dt><dd><p>An LDAP error occurred while processing the operation.</p><p>LDAP result codes are described in <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_top">RFC
      4511</a>. Also see the additional information for details.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" id="d0e22554"><h2>Files</h2><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="codelisting prettyprint">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre></div><div class="refsect1" id="d0e22565"><h2>Examples</h2><p>The following example demonstrates use of the command to add an entry
  to the directory.</p><pre class="cmdline prettyprint">$ cat newuser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
facsimileTelephoneNumber: +1 408 555 1213
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
givenName: New
cn: New User
cn: Real Name
telephoneNumber: +1 408 555 1212
sn: Jensen
roomNumber: 1234
homeDirectory: /home/newuser
uidNumber: 10389
mail: newuser@example.com
l: South Pole
ou: Product Development
ou: People
gidNumber: 10636

$ ldapmodify -p 1389 -a -f newuser.ldif
 -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
Processing ADD request for uid=newuser,ou=People,dc=example,dc=com
ADD operation successful for DN uid=newuser,ou=People,dc=example,dc=com</pre><p>The following example demonstrates adding a Description attribute
 to the new user's entry.</p><pre class="cmdline prettyprint">$ cat newdesc.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: modify
add: description
description: A new user's entry

$ ldapmodify -p 1389 -f newdesc.ldif
 -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
Processing MODIFY request for uid=newuser,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=newuser,ou=People,dc=example,dc=com</pre><p>The following example demonstrates changing the Description attribute
 for the new user's entry.</p><pre class="cmdline prettyprint">$ cat moddesc.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: modify
replace: description
description: Another description

$ ldapmodify -p 1389 -f moddesc.ldif
 -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
Processing MODIFY request for uid=newuser,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=newuser,ou=People,dc=example,dc=com</pre><p>The following example demonstrates deleting the new user's entry.</p><pre class="cmdline prettyprint">$ cat deluser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: delete

$ ldapmodify -p 1389 -f deluser.ldif
 -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
Processing DELETE request for uid=newuser,ou=People,dc=example,dc=com
DELETE operation successful for DN uid=newuser,ou=People,dc=example,dc=com</pre></div></div><div lang="en" class="refentry" id="ldappasswordmodify-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldappasswordmodify &#8212; perform LDAP password modifications</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e22611"><code class="command">ldappasswordmodify</code>  {options}</p></div></div><div class="refsect1" id="d0e22616"><h2>Description</h2><p>This utility can be used to perform LDAP password modify operations in
  the directory.</p></div><div class="refsect1" id="d0e22621"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --authzID {authzID}</code></span></dt><dd><p>Authorization ID for the user entry whose password should be changed</p><p>The authorization ID is a string having either the prefix
     <code class="literal">dn:</code> followed by the user's distinguished name, or
     the prefix <code class="literal">u:</code> followed by a user identifier that
     depends on the identity mapping used to match the user identifier to
     an entry in the directory. Examples include
     <code class="literal">dn:uid=bjensen,ou=People,dc=example,dc=com</code>, and, if
     we assume that <code class="literal">bjensen</code> is mapped to Barbara Jensen's
     entry, <code class="literal">u:bjensen</code>.</p></dd><dt><span class="term"><code class="option">-A, --provideDNForAuthzID</code></span></dt><dd><p>Use the bind DN as the authorization ID for the password modify
     operation</p></dd><dt><span class="term"><code class="option">-c, --currentPassword {currentPassword}</code></span></dt><dd><p>Current password for the target user</p></dd><dt><span class="term"><code class="option">-C, --currentPasswordFile {file}</code></span></dt><dd><p>Path to a file containing the current password for the target user</p></dd><dt><span class="term"><code class="option">-J, --control {controloid[:criticality[:value|::b64value|:&lt;filePath]]}</code></span></dt><dd><p>Use a request control with the provided information</p></dd><dt><span class="term"><code class="option">-n, --newPassword {newPassword}</code></span></dt><dd><p>New password to provide for the target user</p></dd><dt><span class="term"><code class="option">-N, --newPasswordFile {file}</code></span></dt><dd><p>Path to a file containing the new password to provide for the
     target user</p></dd></dl></div><div class="refsect2" id="d0e22693"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection.  Use '0' to specify no time out.</p><p>Default: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">--trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" id="d0e22817"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display directory server version information</p></dd></dl></div></div><div class="refsect2" id="d0e22849"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e22867"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term"><em class="replaceable"><code>ldap-error</code></em></span></dt><dd><p>An LDAP error occurred while processing the operation.</p><p>LDAP result codes are described in <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_top">RFC
      4511</a>. Also see the additional information for details.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" id="d0e22895"><h2>Files</h2><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="codelisting prettyprint">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre></div><div class="refsect1" id="d0e22906"><h2>Examples</h2><p>The following example demonstrates a user changing the password
  for her entry.</p><pre class="cmdline prettyprint">$ cat /tmp/currpwd.txt /tmp/newpwd.txt
bribery
secret12
$ ldappasswordmodify -p 1389 -C /tmp/currpwd.txt -N /tmp/newpwd.txt
-A -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
The LDAP password modify operation was successful</pre></div></div><div lang="en" class="refentry" id="ldapsearch-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldapsearch &#8212; perform LDAP search operations</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e22937"><code class="command">ldapsearch</code>  {options} [filter] [attributes...]</p></div></div><div class="refsect1" id="d0e22946"><h2>Description</h2><p>This utility can be used to perform LDAP search operations in the
  directory.</p></div><div class="refsect1" id="d0e22951"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --dereferencePolicy {dereferencePolicy}</code></span></dt><dd><p>Alias dereference policy ('never', 'always', 'search', or 'find')</p><p>Default value: never</p></dd><dt><span class="term"><code class="option">-A, --typesOnly</code></span></dt><dd><p>Only retrieve attribute names but not their values</p></dd><dt><span class="term"><code class="option">--assertionFilter {filter}</code></span></dt><dd><p>Use the LDAP assertion control with the provided filter</p></dd><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN format string</p></dd><dt><span class="term"><code class="option">-c, --continueOnError</code></span></dt><dd><p>Continue processing even if there are errors</p></dd><dt><span class="term"><code class="option">-C, --persistentSearch ps[:changetype[:changesonly[:entrychgcontrols]]]</code></span></dt><dd><p>Use the persistent search control</p></dd><dt><span class="term"><code class="option">--countEntries</code></span></dt><dd><p>Count the number of entries returned by the server</p></dd><dt><span class="term"><code class="option">-e, --getEffectiveRightsAttribute {attribute}</code></span></dt><dd><p>Specifies geteffectiverights control specific attribute list</p></dd><dt><span class="term"><code class="option">-f, --filename {file}</code></span></dt><dd><p>LDIF file containing the changes to apply</p></dd><dt><span class="term"><code class="option">-g, --getEffectiveRightsAuthzid {authzID}</code></span></dt><dd><p>Use geteffectiverights control with the provided authzid</p></dd><dt><span class="term"><code class="option">-G, --virtualListView {before:after:index:count | before:after:value}</code></span></dt><dd><p>Use the virtual list view control to retrieve the specified results page</p></dd><dt><span class="term"><code class="option">-J, --control {controloid[:criticality[:value|::b64value|:&lt;filePath]]}</code></span></dt><dd><p>Use a request control with the provided information</p></dd><dt><span class="term"><code class="option">-l, --timeLimit {timeLimit}</code></span></dt><dd><p>Maximum length of time in seconds to allow for the search</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">--matchedValuesFilter {filter}</code></span></dt><dd><p>Use the LDAP matched values control with the provided filter</p></dd><dt><span class="term"><code class="option">-n, --dry-run</code></span></dt><dd><p>Show what would be done but do not perform any operation</p></dd><dt><span class="term"><code class="option">-s, --searchScope {searchScope}</code></span></dt><dd><p>Search scope ('base', 'one', 'sub', or 'subordinate')</p><p>Default value: sub</p><p><code class="literal">subordinate</code> is an LDAP extension that might
     not work with all LDAP servers.</p></dd><dt><span class="term"><code class="option">-S, --sortOrder {sortOrder}</code></span></dt><dd><p>Sort the results using the provided sort order</p></dd><dt><span class="term"><code class="option">--simplePageSize {numEntries}</code></span></dt><dd><p>Use the simple paged results control with the given page size</p><p>Default value: 1000</p></dd><dt><span class="term"><code class="option">--subEntries</code></span></dt><dd><p>Use subentries control to specify that subentries are visible and
     normal entries are not</p></dd><dt><span class="term"><code class="option">-Y, --proxyAs {authzID}</code></span></dt><dd><p>Use the proxied authorization control with the given authorization
     ID</p></dd><dt><span class="term"><code class="option">-z, --sizeLimit {sizeLimit}</code></span></dt><dd><p>Maximum number of entries to return from the search</p><p>Default value: 0</p></dd></dl></div><div class="refsect2" id="d0e23118"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection.  Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-r, --useSASLExternal</code></span></dt><dd><p>Use the SASL EXTERNAL authentication mechanism</p></dd><dt><span class="term"><code class="option">--trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">--usePasswordPolicyControl</code></span></dt><dd><p>Use the password policy request control</p></dd><dt><span class="term"><code class="option">-V, --ldapVersion {version}</code></span></dt><dd><p>LDAP protocol version number</p><p>Default value: 3</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" id="d0e23279"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-i, --encoding {encoding}</code></span></dt><dd><p>Use the specified character set for command-line input</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-T, --dontWrap</code></span></dt><dd><p>Do not wrap long lines</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" id="d0e23318"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e23336"><h2>Filter</h2><p>The filter argument is a string representation of an LDAP search filter
  as in <code class="literal">(cn=Babs Jensen)</code>, <code class="literal">(&amp;(objectClass=Person)(|(sn=Jensen)(cn=Babs J*)))</code>, or
  <code class="literal">(cn:caseExactMatch:=Fred Flintstone)</code>.</p></div><div class="refsect1" id="d0e23350"><h2>Attribute</h2><p>The optional attribute list specifies the attributes to return in the
  entries found by the search. In addition to identifying attributes by name
  such as <code class="literal">cn sn mail</code> and so forth, you can use the following
  notations, too.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">*</code></span></dt><dd><p>Return all user attributes such as <code class="literal">cn</code>,
     <code class="literal">sn</code>, and <code class="literal">mail</code>.</p></dd><dt><span class="term"><code class="literal">+</code></span></dt><dd><p>Return all operational attributes such as <code class="literal">etag</code>
     and <code class="literal">pwdPolicySubentry</code>.</p></dd><dt><span class="term"><code class="literal">@<em class="replaceable"><code>objectclass</code></em></code></span></dt><dd><p>Return all attributes of the specified object class, where
     <em class="replaceable"><code>objectclass</code></em> is one of the object classes
     on the entries returned by the search.</p></dd></dl></div></div><div class="refsect1" id="d0e23400"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term"><em class="replaceable"><code>ldap-error</code></em></span></dt><dd><p>An LDAP error occurred while processing the operation.</p><p>LDAP result codes are described in <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_top">RFC
      4511</a>. Also see the additional information for details.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" id="d0e23428"><h2>Files</h2><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="codelisting prettyprint">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre></div><div class="refsect1" id="d0e23439"><h2>Examples</h2><p>The following example searches for entries with UID containing
  <code class="literal">jensen</code>, returning only DNs and uid values.</p><pre class="cmdline prettyprint">$ ldapsearch -p 1389 -b dc=example,dc=com "(uid=*jensen*)" uid
dn: uid=ajensen,ou=People,dc=example,dc=com
uid: ajensen

dn: uid=bjensen,ou=People,dc=example,dc=com
uid: bjensen

dn: uid=gjensen,ou=People,dc=example,dc=com
uid: gjensen

dn: uid=jjensen,ou=People,dc=example,dc=com
uid: jjensen

dn: uid=kjensen,ou=People,dc=example,dc=com
uid: kjensen

dn: uid=rjensen,ou=People,dc=example,dc=com
uid: rjensen

dn: uid=tjensen,ou=People,dc=example,dc=com
uid: tjensen


Result Code:  0 (Success)</pre><p>You can also use <code class="literal">@<em class="replaceable"><code>objectclass</code></em></code> notation in the attribute list to return
  the attributes of a particular object class. The following example shows
  how to return attributes of the <code class="literal">inetOrgPerson</code> object
  class.</p><pre class="cmdline prettyprint">$ ldapsearch -p 1389 -b dc=example,dc=com "(uid=bjensen)" @inetorgperson
dn: uid=bjensen,ou=People,dc=example,dc=com
givenName: Barbara
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
uid: bjensen
cn: Barbara Jensen
cn: Babs Jensen
telephoneNumber: +1 408 555 1862
sn: Jensen
roomNumber: 0209
mail: bjensen@example.com
l: Cupertino
ou: Product Development
ou: People
facsimileTelephoneNumber: +1 408 555 1992</pre><p>You can use <code class="literal">+</code> in the attribute list to return
  all operational attributes, as in the following example.</p><pre class="cmdline prettyprint">$ ldapsearch -p 1389 -b dc=example,dc=com "(uid=bjensen)" +
dn: uid=bjensen,ou=People,dc=example,dc=com
numSubordinates: 0
structuralObjectClass: inetOrgPerson
etag: 0000000073c29972
pwdPolicySubentry: cn=Default Password Policy,cn=Password Policies,cn=config
subschemaSubentry: cn=schema
hasSubordinates: false
entryDN: uid=bjensen,ou=people,dc=example,dc=com
entryUUID: fc252fd9-b982-3ed6-b42a-c76d2546312c</pre></div></div><div lang="en" class="refentry" id="ldif-diff-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldif-diff &#8212; compare small LDIF files</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e23494"><code class="command">ldif-diff</code>  {options}</p></div></div><div class="refsect1" id="d0e23499"><h2>Description</h2><p>This utility can be used to compare two LDIF files and report the
  differences in LDIF format.</p></div><div class="refsect1" id="d0e23504"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --ignoreAttrs {file}</code></span></dt><dd><p>File containing a list of attributes to ignore when computing the
     difference.</p></dd><dt><span class="term"><code class="option">--checkSchema</code></span></dt><dd><p>Takes into account the syntax of the attributes as defined in the
     schema to make the value comparison. The provided LDIF files must conform
     to the server schema.</p></dd><dt><span class="term"><code class="option">-e, --ignoreEntries {file}</code></span></dt><dd><p>File containing a list of entries (DN) to ignore when computing the
     difference.</p></dd><dt><span class="term"><code class="option">-o, --outputLDIF {file}</code></span></dt><dd><p>File to which the output should be written.</p></dd><dt><span class="term"><code class="option">-O, --overwriteExisting</code></span></dt><dd><p>Any existing output file should be overwritten rather than appending
     to it.</p></dd><dt><span class="term"><code class="option">-r, --useCompareResultCode</code></span></dt><dd><p>Use the LDAP compare result as an exit code for reporting
     differences between the two LDIF files.</p></dd><dt><span class="term"><code class="option">-s, --sourceLDIF {file}</code></span></dt><dd><p>LDIF file to use as the source data.</p></dd><dt><span class="term"><code class="option">-S, --singleValueChanges</code></span></dt><dd><p>Each attribute-level change should be written as a separate
     modification per attribute value rather than one modification per
     entry.</p></dd><dt><span class="term"><code class="option">-t, --targetLDIF {file}</code></span></dt><dd><p>LDIF file to use as the target data.</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" id="d0e23587"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">5</span></dt><dd><p>The -r option was used, and no differences are reported.</p></dd><dt><span class="term">6</span></dt><dd><p>The-r option was used, and differences are reported.</p></dd><dt><span class="term">other</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e23615"><h2>Examples</h2><p>The following example demonstrates use of the command with two
  small LDIF files.</p><pre class="cmdline prettyprint">$ cat /path/to/newuser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: New User
sn: User
ou: People
mail: newuser@example.com
userPassword: changeme

$ cat /path/to/neweruser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: New User
sn: User
ou: People
mail: newuser@example.com
userPassword: secret12
description: A new description.

$ ldif-diff -s /path/to/newuser.ldif -t /path/to/neweruser.ldif
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: modify
add: userPassword
userPassword: secret12
-
delete: userPassword
userPassword: changeme
-
add: description
description: A new description.
</pre></div></div><div lang="en" class="refentry" id="ldifmodify-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldifmodify &#8212; apply LDIF changes to LDIF</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e23645"><code class="command">ldifmodify</code>  {options}</p></div></div><div class="refsect1" id="d0e23650"><h2>Description</h2><p>This utility can be used to apply a set of modify, add, and delete
  operations against data in an LDIF file.</p></div><div class="refsect1" id="d0e23655"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-m, --changesLDIF {ldifFile}</code></span></dt><dd><p>LDIF file containing the changes to apply.</p></dd><dt><span class="term"><code class="option">-s, --sourceLDIF {ldifFile}</code></span></dt><dd><p>LDIF file containing the data to be updated.</p></dd><dt><span class="term"><code class="option">-t, --targetLDIF {ldifFile}</code></span></dt><dd><p>File to which the updated data should be written.</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" id="d0e23696"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e23712"><h2>Examples</h2><p>The following example demonstrates use of the command.</p><pre class="cmdline prettyprint">$ cat /path/to/newuser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: New User
sn: User
ou: People
mail: newuser@example.com
userPassword: changeme
  
$ cat /path/to/newdiff.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: modify
add: userPassword
userPassword: secret12
-
delete: userPassword
userPassword: changeme
-
add: description
description: A new description.

$ ldifmodify -s /path/to/newuser.ldif -m /path/to/newdiff.ldif -t neweruser.ldif
$ cat neweruser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
objectClass: person
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: top
uid: newuser
description: A new description.
cn: New User
sn: User
userPassword: secret12
mail: newuser@example.com
ou: People

</pre></div></div><div lang="en" class="refentry" id="ldifsearch-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldifsearch &#8212; search LDIF with LDAP filters</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e23742"><code class="command">ldifsearch</code>  {options} [filter] [attribute...]</p></div></div><div class="refsect1" id="d0e23751"><h2>Description</h2><p>This utility can be used to perform search operations against data in
  an LDIF file.</p></div><div class="refsect1" id="d0e23756"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>The base DN for the search.  Multiple base DNs may be specified by
     providing the option multiple times.  If no base DN is provided, then the
     root DSE will be used.</p></dd><dt><span class="term"><code class="option">-f, --filterFile {filterFile}</code></span></dt><dd><p>The path to the file containing the search filter(s) to use.  If
     this is not provided, then the filter must be provided on the command line
     after all configuration options.</p></dd><dt><span class="term"><code class="option">-l, --ldifFile {ldifFile}</code></span></dt><dd><p>LDIF file containing the data to search.  Multiple files may be
     specified by providing the option multiple times. If no files are provided,
     the data will be read from standard input.</p></dd><dt><span class="term"><code class="option">-o, --outputFile {outputFile}</code></span></dt><dd><p>The path to the output file to which the matching entries should be
     written.  If this is not provided, then the data will be written to
     standard output.</p></dd><dt><span class="term"><code class="option">-O, --overwriteExisting</code></span></dt><dd><p>Any existing output file should be overwritten rather than appending
     to it.</p></dd><dt><span class="term"><code class="option">-s, --searchScope {scope}</code></span></dt><dd><p>The scope for the search.  It must be one of 'base', 'one', 'sub',
     or 'subordinate'.  If it is not provided, then 'sub' will be used.</p></dd><dt><span class="term"><code class="option">-t, --timeLimit {timeLimit}</code></span></dt><dd><p>Maximum length of time (in seconds) to spend processing.</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-T, --dontWrap</code></span></dt><dd><p>Long lines should not be wrapped.</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-z, --sizeLimit {sizeLimit}</code></span></dt><dd><p>Maximum number of matching entries to return.</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" id="d0e23843"><h2>Filter</h2><p>The filter argument is a string representation of an LDAP search filter
  as in <code class="literal">(cn=Babs Jensen)</code>, <code class="literal">(&amp;(objectClass=Person)(|(sn=Jensen)(cn=Babs J*)))</code>, or
  <code class="literal">(cn:caseExactMatch:=Fred Flintstone)</code>.</p></div><div class="refsect1" id="d0e23857"><h2>Attribute</h2><p>The optional attribute list specifies the attributes to return in the
  entries found by the search. In addition to identifying attributes by name
  such as <code class="literal">cn sn mail</code> and so forth, you can use the following
  notations, too.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">*</code></span></dt><dd><p>Return all user attributes such as <code class="literal">cn</code>,
     <code class="literal">sn</code>, and <code class="literal">mail</code>.</p></dd><dt><span class="term"><code class="literal">+</code></span></dt><dd><p>Return all operational attributes such as <code class="literal">etag</code>
     and <code class="literal">pwdPolicySubentry</code>.</p></dd><dt><span class="term"><code class="literal">@<em class="replaceable"><code>objectclass</code></em></code></span></dt><dd><p>Return all attributes of the specified object class, where
     <em class="replaceable"><code>objectclass</code></em> is one of the object classes
     on the entries returned by the search.</p></dd></dl></div></div><div class="refsect1" id="d0e23907"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e23923"><h2>Examples</h2><p>The following example demonstrates use of the command.</p><pre class="cmdline prettyprint">$ ldifsearch -l /path/to/Example.ldif -b dc=example,dc=com uid=bjensen
dn: uid=bjensen,ou=People,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
uid: bjensen
userpassword: hifalutin
facsimiletelephonenumber: +1 408 555 1992
givenname: Barbara
cn: Barbara Jensen
cn: Babs Jensen
telephonenumber: +1 408 555 1862
sn: Jensen
roomnumber: 0209
homeDirectory: /home/bjensen
mail: bjensen@example.com
l: Cupertino
ou: Product Development
ou: People
uidNumber: 1076
gidNumber: 1000
</pre><p>You can also use <code class="literal">@<em class="replaceable"><code>objectclass</code></em></code> notation in the attribute list to return
  the attributes of a particular object class. The following example shows
  how to return attributes of the <code class="literal">posixAccount</code> object
  class.</p><pre class="cmdline prettyprint">$ ldifsearch --ldifFile /path/to/Example.ldif
 --baseDN dc=example,dc=com "(uid=bjensen)" @posixaccount
dn: uid=bjensen,ou=People,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
uid: bjensen
userpassword: hifalutin
cn: Barbara Jensen
cn: Babs Jensen
homeDirectory: /home/bjensen
uidNumber: 1076
gidNumber: 1000</pre></div></div><div lang="en" class="refentry" id="list-backends-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>list-backends &#8212; list OpenDJ backends and base DNs</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e23967"><code class="command">list-backends</code>  [options]</p></div></div><div class="refsect1" id="d0e23972"><h2>Description</h2><p>This utility can be used to list the backends and base DNs configured
  in the Directory Server.</p></div><div class="refsect1" id="d0e23977"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN for which to list the backend ID.</p></dd><dt><span class="term"><code class="option">-n, --backendID {backendName}</code></span></dt><dd><p>Backend ID of the backend for which to list the base DNs.</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" id="d0e24011"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e24027"><h2>Examples</h2><pre class="cmdline prettyprint">$ list-backends 
Backend ID         : Base DN
-------------------:----------------------
adminRoot          : cn=admin data
ads-truststore     : cn=ads-truststore
backup             : cn=backups
config             : cn=config
monitor            : cn=monitor
myCompanyRoot      : "dc=myCompany,dc=com"
myOrgRoot          : o=myOrg
replicationChanges : dc=replicationChanges
schema             : cn=schema
tasks              : cn=tasks
userRoot           : "dc=example,dc=com"</pre></div></div><div lang="en" class="refentry" id="make-ldif-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>make-ldif &#8212; generate test LDIF</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e24056"><code class="command">make-ldif</code>  {options}</p></div></div><div class="refsect1" id="d0e24061"><h2>Description</h2><p>This utility can be used to generate LDIF data based on a definition
  in a template file.</p></div><div class="refsect1" id="d0e24066"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-o, --ldifFile {file}</code></span></dt><dd><p>The path to the LDIF file to be written.</p></dd><dt><span class="term"><code class="option">-s, --randomSeed {seed}</code></span></dt><dd><p>The seed to use to initialize the random number generator.</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-t, --templateFile {file}</code></span></dt><dd><p>The path to the template file with information about the LDIF data
     to generate.</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" id="d0e24109"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e24125"><h2>Examples</h2><p>The following example uses the default template to generate LDIF.</p><pre class="cmdline prettyprint">$ make-ldif -t ../config/MakeLDIF/example.template -o ../ldif/generated.ldif
Processed 1000 entries
Processed 2000 entries
...
Processed 10000 entries
LDIF processing complete.  10003 entries written</pre></div><div class="refsect1" id="d0e24133"><h2>See Also</h2><p><a href="../admin-guide/index.html#make-ldif-template-5" class="link"><span class="citerefentry"><span class="refentrytitle">make-ldif.template</span>(5)</span></a></p></div></div><div lang="en" class="refentry" id="make-ldif-template-5"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>make-ldif.template &#8212; template file for the make-ldif command</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis"># Comment lines start with #.

# Optionally include classes that define custom tags.
# Custom tag classes extend org.opends.server.tools.makeldif.Tag and
# must be on the class path when you run make-ldif.
#
include <em class="replaceable"><code>custom.makeldif.tag.ClassName</code></em>
...

# Optionally define constants used in the template.
# To reference constants later, put brackets around the name: [constant-name]
#
define <em class="replaceable"><code>constant-name</code></em>=<em class="replaceable"><code>value</code></em>
...

# Define branches by suffix DN, such as the following:
#
#  dc=example,dc=com
#  ou=People,dc=example,dc=com
#  ou=Groups,dc=example,dc=com
#
# make-ldif generates the necessary object class definitions and RDNs.
#
# A branch can have subordinateTemplates that define templates to use for
# the branch entry.
#
# A branch can have additional attributes generated on the branch entry. See
# the Description below for more information on specifying attribute values.
#
branch: <em class="replaceable"><code>suffix-dn</code></em>
[subordinateTemplate: <em class="replaceable"><code>template-name</code></em>:<em class="replaceable"><code>number</code></em>
...]
[<em class="replaceable"><code>attribute</code></em>: <em class="replaceable"><code>attr-value</code></em>
...]

...

# Define entries using templates.
#
# A template can extend another template.
# A template defines the RDN attribute(s) used for generated entries.
# A template can have a subordinateTemplate that defines a template to use for
# the generated entries.
#
# A template then defines attributes. See the Description below for more
# information on specifying attribute values.
#
template: <em class="replaceable"><code>template-name</code></em>
[extends: <em class="replaceable"><code>template-name</code></em>]
rdnAttr: <em class="replaceable"><code>attribute</code></em>[+<em class="replaceable"><code>attribute</code></em> ...]
[subordinateTemplate: <em class="replaceable"><code>template-name</code></em>:<em class="replaceable"><code>number</code></em>]
[<em class="replaceable"><code>attribute</code></em>: <em class="replaceable"><code>attr-value</code></em>
...]

...
</pre></div><div class="refsect1" id="d0e24216"><h2>Description</h2><p>Template files specify how to build LDIF. They allow you to define
  variables, insert random values from other files, and generally build
  arbitrarily large LDIF files for testing purposes. You pass template files
  to the <span class="command"><strong>make-ldif</strong></span> command when generating LDIF.</p><p>The Synopsis above shows the layout for a <span class="command"><strong>make-ldif</strong></span>
  template file. This section focuses on what you can do to specify entry
  attribute values, called <em class="replaceable"><code>attr-value</code></em> in the Synopsis
  section.</p><div class="variablelist"><div class="variablelist-title">Specifying Attribute Values</div><p>When specifying attribute values in <span class="command"><strong>make-ldif</strong></span>
   templates, you can use static text and constants that you have defined,
   enclosing names for constants in brackets, <code class="literal">[myConstant]</code>.
   You can use more than one constant per line, as in the following
   example.</p><pre class="codelisting prettyprint">description: Description for [org] under [suffix]</pre><p>You can also use two kinds of tags when specifying attribute values.
   One kind of tag gets replaced with the value of another attribute in the
   generated entry. Such tags are delimited with braces, <code class="literal">{ }</code>.
   For example, if your template includes definitions for first name and last
   name attributes:</p><pre class="codelisting prettyprint">givenName: &lt;first&gt;
sn: &lt;last&gt;</pre><p>Then you can define a mail attribute that uses the values of both
   attributes, and an initials attribute that takes the first character
   of each.</p><pre class="codelisting prettyprint">mail: {givenName}.{sn}@[myDomain]
initials: {givenName:1}{sn:1}</pre><p>The other kind of tag is delimited with <code class="literal">&lt;</code>
   and <code class="literal">&gt;</code>, as shown above in the example with
   <code class="literal">&lt;first&gt;</code> and <code class="literal">&lt;last&gt;</code>.
   Tag names are not case sensitive. Many tags can take arguments separated
   by colons, <code class="literal">:</code>, from the tag names within the tag.</p><p>Use backslashes to escape literal start tag characters (<code class="literal">&lt; [ {</code>) as shown in the following example, and to escape literal
   end tag characters within tags (<code class="literal">&gt; ] }</code>).</p><pre class="codelisting prettyprint">scimMail: \{"emails": \[\{"value": "{mail}", "type": "work", "primary": true}]}
xml: \&lt;id&gt;{uid}\&lt;/id&gt;</pre><p>OpenDJ supports the following tags.</p><dl class="variablelist"><dt><span class="term">&lt;DN&gt;</span></dt><dd><p>The DN tag gets replaced by the distinguished name of the current
     entry. An optional integer argument specifies the subcomponents of the DN
     to generate. For example, if the DN of the entry is
     <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code>
     <code class="literal">&lt;DN:1&gt;</code> gets replaced by
     <code class="literal">uid=bjensen</code>, and <code class="literal">&lt;DN:-2&gt;</code> gets
     replaced by <code class="literal">dc=example,dc=com</code>.</p></dd><dt><span class="term">&lt;File&gt;</span></dt><dd><p>The File tag gets replaced by a line from a text file you specify.
     The File tag takes a required argument, the path to the text file, and an
     optional second argument, either <code class="literal">random</code> or
     <code class="literal">sequential</code>. For the file argument, either you specify
     an absolute path to the file such as
     <code class="literal">&lt;file:/path/to/myDescriptions&gt;</code>, or you specify
     a path relative to the
     <code class="filename">/path/to/opendj/config/MakeLDIF/</code> directory such as
     <code class="literal">&lt;file:streets&gt;</code>. For the second argument,
     if you specify <code class="literal">sequential</code> then lines from the file are
     read in sequential order. Otherwise, lines from the file are read in
     random order.</p></dd><dt><span class="term">&lt;First&gt;</span></dt><dd><p>The first name tag gets replaced by a random line from
     <code class="filename">/path/to/opendj/config/MakeLDIF/first.names</code>.
     Combinations of generated first and last names are unique, with integers
     appended to the name strings if not enough combinations are
     available.</p></dd><dt><span class="term">&lt;GUID&gt;</span></dt><dd><p>The GUID tag gets replaced by a 128-bit, type 4 (random) universally
     unique identifier, such as
     <code class="literal">f47ac10b-58cc-4372-a567-0e02b2c3d479</code>.</p></dd><dt><span class="term">&lt;IfAbsent&gt;</span></dt><dd><p>The IfAbsent tag takes as its first argument the name of another
     attribute, and optionally as its second argument a value to use. This tag
     causes the attribute to be generated only if the named attribute is not
     present on the generated entry. Use this tag when you have used
     <code class="literal">&lt;Presence&gt;</code> to define another attribute that is
     not always present on generated entries.</p></dd><dt><span class="term">&lt;IfPresent&gt;</span></dt><dd><p>The IfPresent takes as its first argument the name of another
     attribute, and optionally as its second argument a value to use. This tag
     causes the attribute to be generated only if the named attribute is also
     present on the generated entry. Use this tag when you have used
     <code class="literal">&lt;Presence&gt;</code> to define another attribute that is
     sometimes present on generated entries.</p></dd><dt><span class="term">&lt;Last&gt;</span></dt><dd><p>The last name tag gets replaced by a random line from
     <code class="filename">/path/to/opendj/config/MakeLDIF/last.names</code>.
     Combinations of generated first and last names are unique, with integers
     appended to the name strings if not enough combinations are
     available.</p></dd><dt><span class="term">&lt;List&gt;</span></dt><dd><p>The List tag gets replaced by one of the values from the list of
     arguments you provide. For example,
     <code class="literal">&lt;List:bronze:silver:gold&gt;</code> gets replaced with
     <code class="literal">bronze</code>, <code class="literal">silver</code>, or
     <code class="literal">gold</code>.</p><p>You can weight arguments to ensure some arguments are selected more
     often than others. For example, if you want two bronze for one silver
     and one gold, use
     <code class="literal">&lt;List:bronze;2:silver;1:gold;1&gt;</code>.</p></dd><dt><span class="term">&lt;ParentDN&gt;</span></dt><dd><p>The ParentDN tag gets replaced by the distinguished name of the
     parent entry. For example, if the DN of the entry is
     <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code>,
     <code class="literal">&lt;ParentDN&gt;</code> gets replaced by
     <code class="literal">ou=People,dc=example,dc=com</code>.</p></dd><dt><span class="term">&lt;Presence&gt;</span></dt><dd><p>The Presence tag takes a percent argument. It does not get replaced
     by a value itself, but instead results in the attribute being generated
     on the percentage of entries you specify in the argument. For example,
     <code class="literal">description: &lt;Presence:50&gt;A description</code> generates
     <code class="literal">description: A description</code> on half the entries.</p></dd><dt><span class="term">&lt;Random&gt;</span></dt><dd><p>The Random tag lets you generate a variety of random numbers and
     strings. The Random tag has the following subtypes, which you include
     as arguments, that is <code class="literal">&lt;Random:<em class="replaceable"><code>subtype</code></em>&gt;</code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">alpha:<em class="replaceable"><code>length</code></em></code></p></li><li class="listitem"><p><code class="literal">alpha:<em class="replaceable"><code>minlength</code></em>:<em class="replaceable"><code>maxlength</code></em></code></p></li><li class="listitem"><p><code class="literal">numeric:<em class="replaceable"><code>length</code></em></code></p></li><li class="listitem"><p><code class="literal">numeric:<em class="replaceable"><code>minvalue</code></em>:<em class="replaceable"><code>maxvalue</code></em></code></p></li><li class="listitem"><p><code class="literal">numeric:<em class="replaceable"><code>minvalue</code></em>:<em class="replaceable"><code>maxvalue</code></em>:<em class="replaceable"><code>format</code></em></code>,
       where <em class="replaceable"><code>format</code></em> is a
       <code class="literal">java.text.DecimalFormat</code> pattern</p></li><li class="listitem"><p><code class="literal">alphanumeric:<em class="replaceable"><code>length</code></em></code></p></li><li class="listitem"><p><code class="literal">alphanumeric:<em class="replaceable"><code>minlength</code></em>:<em class="replaceable"><code>maxlength</code></em></code></p></li><li class="listitem"><p><code class="literal">chars:<em class="replaceable"><code>characters</code></em>:<em class="replaceable"><code>length</code></em></code></p></li><li class="listitem"><p><code class="literal">chars:<em class="replaceable"><code>characters</code></em>:<em class="replaceable"><code>minlength</code></em>:<em class="replaceable"><code>maxlength</code></em></code></p></li><li class="listitem"><p><code class="literal">hex:<em class="replaceable"><code>length</code></em></code></p></li><li class="listitem"><p><code class="literal">hex:<em class="replaceable"><code>minlength</code></em>:<em class="replaceable"><code>maxlength</code></em></code></p></li><li class="listitem"><p><code class="literal">base64:<em class="replaceable"><code>length</code></em></code></p></li><li class="listitem"><p><code class="literal">base64:<em class="replaceable"><code>minlength</code></em>:<em class="replaceable"><code>maxlength</code></em></code></p></li><li class="listitem"><p><code class="literal">month</code></p></li><li class="listitem"><p><code class="literal">month:<em class="replaceable"><code>maxlength</code></em></code></p></li><li class="listitem"><p><code class="literal">telephone</code>, a telephone number starting with
       the country code <code class="literal">+1</code></p></li></ul></div></dd><dt><span class="term">&lt;RDN&gt;</span></dt><dd><p>The RDN tag gets replaced with the RDN of the entry. Use this
     in the template after you have specified <code class="literal">rdnAttr</code> so
     that the RDN has already been generated when this tag is replaced.</p><p>An optional integer argument specifies the subcomponents of the RDN
     to generate.</p></dd><dt><span class="term">&lt;Sequential&gt;</span></dt><dd><p>The Sequential tag gets replaced by a sequentially increasing
     generated integer. The first optional integer argument specifies the
     starting number. The second optional boolean argument specifies whether
     to start over when generating entries for a new parent entry. For example,
     <code class="literal">&lt;Sequential&gt;:42:true</code> starts counting from 42,
     and starts over when the parent entry changes from
     <code class="literal">o=Engineering</code> to <code class="literal">o=Marketing</code>.</p></dd><dt><span class="term">&lt;_DN&gt;</span></dt><dd><p>The _DN tag gets replaced by the DN of the current entry with
     underscores in the place of commas.</p></dd><dt><span class="term">&lt;_ParentDN&gt;</span></dt><dd><p>The _ParentDN tag gets replaced by the DN the parent entry with
     underscores in the place of commas.</p></dd></dl></div></div><div class="refsect1" id="d0e24612"><h2>Examples</h2><p>The following example generates 10 organization units, each containing
  50 entries.</p><pre class="codelisting prettyprint">define suffix=dc=example,dc=com
define maildomain=example.com
define numusers=50
define numorgs=10

branch: [suffix]

branch: ou=People,[suffix]
subordinateTemplate: orgunit:[numorgs]
description: This is the People container
telephoneNumber: +33 00010002

template: orgunit
subordinateTemplate: person:[numusers]
rdnAttr: ou
ou: Org-&lt;sequential:0&gt;
objectClass: top
objectClass: organizationalUnit
description: This is the {ou} organizational unit

template: person
rdnAttr: uid
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
givenName: &lt;first&gt;
sn: &lt;last&gt;
cn: {givenName} {sn}
initials: {givenName:1}&lt;random:chars:ABCDEFGHIJKLMNOPQRSTUVWXYZ:1&gt;{sn:1}
employeeNumber: &lt;sequential:0&gt;
uid: user.{employeeNumber}
mail: {uid}@[maildomain]
userPassword: password
telephoneNumber: &lt;random:telephone&gt;
homePhone: &lt;random:telephone&gt;
pager: &lt;random:telephone&gt;
mobile: &lt;random:telephone&gt;
street: &lt;random:numeric:5&gt; &lt;file:streets&gt; Street
l: &lt;file:cities&gt;
st: &lt;file:states&gt;
postalCode: &lt;random:numeric:5&gt;
postalAddress: {cn}${street}${l}, {st}  {postalCode}
description: This is the description for {cn}.</pre></div><div class="refsect1" id="d0e24619"><h2>See Also</h2><p><a href="../admin-guide/index.html#make-ldif-1" class="link"><span class="citerefentry"><span class="refentrytitle">make-ldif</span>(1)</span></a>, <code class="filename">/path/to/opendj/config/MakeLDIF/example.template</code></p></div></div><div lang="en" class="refentry" id="manage-account-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>manage-account &#8212; manage state of directory server accounts</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e24655"><code class="command">manage-account</code> <br><code class="command"><em class="replaceable"><code>subcommand</code></em></code>  {options}</p></div></div><div class="refsect1" id="d0e24663"><h2>Description</h2><p>This utility can be used to retrieve and manipulate the values of
  password policy state variables.</p></div><div class="refsect1" id="d0e24668"><h2>Subcommands</h2><p>The following subcommands are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="command"><strong>manage-account clear-account-is-disabled</strong></span></span></dt><dd><p>Clear account disabled state information from the user account</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-account-expiration-time</strong></span></span></dt><dd><p>Display when the user account will expire</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-account-is-disabled</strong></span></span></dt><dd><p>Display information about whether the user account has been
     administratively disabled</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-all</strong></span></span></dt><dd><p>Display all password policy state information for the user</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-authentication-failure-times</strong></span></span></dt><dd><p>Display the authentication failure times for the user</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-grace-login-use-times</strong></span></span></dt><dd><p>Display the grace login use times for the user</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-last-login-time</strong></span></span></dt><dd><p>Display the time that the user last authenticated to the server</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-password-changed-by-required-time</strong></span></span></dt><dd><p>Display the required password change time with which the user last
     complied</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-password-changed-time</strong></span></span></dt><dd><p>Display the time that the user's password was last changed</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-password-expiration-warned-time</strong></span></span></dt><dd><p>Display the time that the user first received an expiration warning 
     notice</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-password-history</strong></span></span></dt><dd><p>Display password history state values for the user</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-password-is-reset</strong></span></span></dt><dd><p>Display information about whether the user will be required to
     change his or her password on the next successful authentication</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-password-policy-dn</strong></span></span></dt><dd><p>Display the DN of the password policy for the user</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-remaining-authentication-failure-count</strong></span></span></dt><dd><p>Display the number of remaining authentication failures until the
     user's account is locked</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-remaining-grace-login-count</strong></span></span></dt><dd><p>Display the number of grace logins remaining for the user</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-seconds-until-account-expiration</strong></span></span></dt><dd><p>Display the length of time in seconds until the user account
     expires</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-seconds-until-authentication-failure-unlock</strong></span></span></dt><dd><p>Display the length of time in seconds until the authentication
     failure lockout expires</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-seconds-until-idle-lockout</strong></span></span></dt><dd><p>Display the length of time in seconds until user's account is locked
     because it has remained idle for too long</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-seconds-until-password-expiration</strong></span></span></dt><dd><p>Display length of time in seconds until the user's password expires</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-seconds-until-password-expiration-warning</strong></span></span></dt><dd><p>Display the length of time in seconds until the user should start
     receiving password expiration warning notices</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-seconds-until-password-reset-lockout</strong></span></span></dt><dd><p>Display the length of time in seconds until user's account is locked
     because the user failed to change the password in a timely manner after an
     administrative reset</p></dd><dt><span class="term"><span class="command"><strong>manage-account get-seconds-until-required-change-time</strong></span></span></dt><dd><p>Display the length of time in seconds that the user has remaining to
     change his or her password before the account becomes locked due to the
     required change time</p></dd><dt><span class="term"><span class="command"><strong>manage-account set-account-is-disabled</strong></span></span></dt><dd><p>Specify whether the user account has been administratively disabled</p></dd></dl></div></div><div class="refsect1" id="d0e24835"><h2>Global Options</h2><p>The following global options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-b, --targetDN {targetDN}</code></span></dt><dd><p>The DN of the user entry for which to get and set password policy
     state information</p></dd></dl></div><div class="refsect2" id="d0e24848"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p>Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p><p>Use <code class="option">-w -</code> to have the command prompt for the
      password, rather than enter the password on the command line.</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e24961"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e24979"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" id="d0e24995"><h2>Examples</h2><p>For the following examples, the directory admin user, Kirsten Vaughan,
  has <code class="literal">ds-privilege-name: password-reset</code>, and the following
  ACI on <code class="literal">ou=People,dc=example,dc=com</code>.</p><pre class="literallayout">(target="ldap:///ou=People,dc=example,dc=com") (targetattr ="*||+")(
 version 3.0;acl "Admins can run amok"; allow(all) groupdn =
 "ldap:///cn=Directory Administrators,ou=Groups,dc=example,dc=com";)</pre><p>The following command locks a user account.</p><pre class="cmdline prettyprint">$ manage-account -p 4444 -D "uid=kvaughan,ou=people,dc=example,dc=com"
 -w bribery set-account-is-disabled -O true
 -b uid=bjensen,ou=people,dc=example,dc=com -X
Account Is Disabled:  true</pre><p>The following command unlocks a user account.</p><pre class="cmdline prettyprint">$ manage-account -p 4444 -D "uid=kvaughan,ou=people,dc=example,dc=com"
 -w bribery clear-account-is-disabled
 -b uid=bjensen,ou=people,dc=example,dc=com -X
Account Is Disabled:  false</pre></div></div><div lang="en" class="refentry" id="manage-tasks-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>manage-tasks &#8212; manage OpenDJ server administration tasks</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e25041"><code class="command">manage-tasks</code>  {options}</p></div></div><div class="refsect1" id="d0e25046"><h2>Description</h2><p>This utility can be used to obtain a list of tasks scheduled to run
  within the directory server as well as information about individual
  tasks.</p></div><div class="refsect1" id="d0e25051"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c, --cancel {taskID}</code></span></dt><dd><p>ID of a particular task to cancel</p></dd><dt><span class="term"><code class="option">-i, --info {taskID}</code></span></dt><dd><p>ID of a particular task about which this tool will display
     information</p></dd><dt><span class="term"><code class="option">-s, --summary</code></span></dt><dd><p>Print a summary of tasks</p></dd></dl></div><div class="refsect2" id="d0e25078"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p>Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e25195"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-n, --no-prompt</code></span></dt><dd><p>Use non-interactive mode.  If data in the command is missing, the
      user is not prompted and the tool will fail</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd></dl></div></div><div class="refsect2" id="d0e25220"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e25238"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e25254"><h2>Examples</h2><p>The following example demonstrates use of the command with a server
  that does daily backups at 2:00 AM.</p><pre class="cmdline prettyprint">$ manage-tasks -p 4444 -h opendj.example.com -D "cn=Directory Manager"
 -w password -s

  ID                                Type    Status
  ---------------------------------------------------------------
  example-backup                    Backup  Recurring
  example-backup-20110622020000000  Backup  Waiting on start time
</pre></div></div><div lang="en" class="refentry" id="rebuild-index-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>rebuild-index &#8212; rebuild index after configuration change</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e25285"><code class="command">rebuild-index</code>  {options}</p></div></div><div class="refsect1" id="d0e25290"><h2>Description</h2><p>This utility can be used to rebuild index data within a backend based
  on the Berkeley DB Java Edition.</p></div><div class="refsect1" id="d0e25295"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN of a backend supporting indexing. Rebuild is performed on
     indexes within the scope of the given base DN.</p></dd><dt><span class="term"><code class="option">--clearDegradedState</code></span></dt><dd><p>Indicates that indexes do not need rebuilding because they are known
     to be empty and forcefully marks them as valid. <span class="emphasis"><em>This is an
     advanced option which must only be used in cases where a degraded index is
     known to be empty and does not therefore need rebuilding.</em></span> This
     situation typically arises when an index is created for an attribute which
     has just been added to the schema.</p></dd><dt><span class="term"><code class="option">-i, --index {index}</code></span></dt><dd><p>Names of index(es) to rebuild. For an attribute index this is
     simply an attribute name. At least one index must be specified for
     rebuild. Cannot be used with the <code class="option">--rebuildAll</code>
     or <code class="option">--rebuildDegraded</code> options.</p></dd><dt><span class="term"><code class="option">--rebuildAll</code></span></dt><dd><p>Rebuild all indexes, including any DN2ID, DN2URI, VLV and
     extensible indexes. Cannot be used with the <code class="option">--index</code>
     or <code class="option">--rebuildDegraded</code> options.</p></dd><dt><span class="term"><code class="option">--rebuildDegraded</code></span></dt><dd><p>Rebuild all degraded indexes, including any DN2ID, DN2URI, VLV and
     extensible indexes. Cannot be used with the <code class="option">--index</code>
     or <code class="option">--rebuildAll</code> options.</p></dd><dt><span class="term"><code class="option">--tmpdirectory {directory}</code></span></dt><dd><p>Path to temporary directory for index scratch files during index
     rebuilding.</p><p>Default value: import-tmp</p></dd></dl></div><div class="refsect2" id="d0e25366"><h3>Task Backend Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p><p>Use <code class="option">-w -</code> to have the command prompt for the
      password, rather than enter the password on the command line.</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e25488"><h3>Task Scheduling Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--completionNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified when the task
      completes. This option may be specified more than once.</p></dd><dt><span class="term"><code class="option">--dependency {taskID}</code></span></dt><dd><p>ID of a task upon which this task depends. A task will not start
      execution until all its dependencies have completed execution.</p></dd><dt><span class="term"><code class="option">--errorNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified if an error occurs
      when this task executes. This option may be specified more than
      once.</p></dd><dt><span class="term"><code class="option">--failedDependencyAction {action}</code></span></dt><dd><p>Action this task will take should one if its dependent tasks fail.
      The value must be one of PROCESS, CANCEL, DISABLE. If not specified
      defaults to CANCEL.</p></dd><dt><span class="term"><code class="option">--recurringTask {schedulePattern}</code></span></dt><dd><p>Indicates the task is recurring and will be scheduled according
      to the value argument expressed in crontab(5) compatible time/date
      pattern.</p></dd><dt><span class="term"><code class="option">-t, --start {startTime}</code></span></dt><dd><p>Indicates the date/time at which this operation will start when
      scheduled as a server task expressed in YYYYMMDDhhmmssZ format for UTC
      time or YYYYMMDDhhmmss for local time. A value of '0' will cause the
      task to be scheduled for immediate execution. When this option is
      specified the operation will be scheduled to start at the specified
      time after which this utility will exit immediately.</p></dd></dl></div></div><div class="refsect2" id="d0e25534"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd></dl></div></div><div class="refsect2" id="d0e25552"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e25570"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">1</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" id="d0e25586"><h2>Examples</h2><p>The following example schedules a task to start immediately that
  rebuilds the <code class="literal">cn</code> (common name) index.</p><pre class="cmdline prettyprint">$ rebuild-index -p 4444 -h opendj.example.com -D "cn=Directory Manager"
 -w password -b dc=example,dc=com -i cn -t 0
Rebuild Index task 20110607160349596 scheduled to start Jun 7, 2011 4:03:49 PM</pre></div></div><div lang="en" class="refentry" id="restore-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>restore &#8212; restore OpenDJ directory data backups</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e25620"><code class="command">restore</code>  {options}</p></div></div><div class="refsect1" id="d0e25625"><h2>Description</h2><p>This utility can be used to restore a backup of a directory server
     backend.</p></div><div class="refsect1" id="d0e25630"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-d, --backupDirectory {backupDir}</code></span></dt><dd><p>Path to the target directory for the backup file(s)</p></dd><dt><span class="term"><code class="option">-I, --backupID {backupID}</code></span></dt><dd><p>Use the provided identifier for the backup</p></dd><dt><span class="term"><code class="option">-l, --listBackups</code></span></dt><dd><p>List available backups in the backup directory</p></dd><dt><span class="term"><code class="option">-n, --dry-run</code></span></dt><dd><p>Verify the contents of the backup but do not restore it</p></dd></dl></div><div class="refsect2" id="d0e25664"><h3>Task Backend Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p>Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p><p>Use <code class="option">-w -</code> to have the command prompt for the
      password, rather than enter the password on the command line.</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e25786"><h3>Task Scheduling Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--completionNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified when the task
      completes. This option may be specified more than once.</p></dd><dt><span class="term"><code class="option">--dependency {taskID}</code></span></dt><dd><p>ID of a task upon which this task depends. A task will not start
      execution until all its dependencies have completed execution.</p></dd><dt><span class="term"><code class="option">--errorNotify {emailAddress}</code></span></dt><dd><p>Email address of a recipient to be notified if an error occurs
      when this task executes. This option may be specified more than
      once.</p></dd><dt><span class="term"><code class="option">--failedDependencyAction {action}</code></span></dt><dd><p>Action this task will take should one if its dependent tasks fail.
      The value must be one of PROCESS, CANCEL, DISABLE. If not specified
      defaults to CANCEL.</p></dd><dt><span class="term"><code class="option">--recurringTask {schedulePattern}</code></span></dt><dd><p>Indicates the task is recurring and will be scheduled according
      to the value argument expressed in crontab(5) compatible time/date
      pattern.</p></dd><dt><span class="term"><code class="option">-t, --start {startTime}</code></span></dt><dd><p>Indicates the date/time at which this operation will start when
      scheduled as a server task expressed in YYYYMMDDhhmmssZ format for UTC
      time or YYYYMMDDhhmmss for local time. A value of '0' will cause the
      task to be scheduled for immediate execution. When this option is
      specified the operation will be scheduled to start at the specified
      time after which this utility will exit immediately.</p></dd></dl></div></div><div class="refsect2" id="d0e25832"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd></dl></div></div><div class="refsect2" id="d0e25850"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e25868"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">1</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" id="d0e25884"><h2>Examples</h2><p>The following example schedules a restore as a task to begin
  immediately while OpenDJ directory server is online.</p><pre class="cmdline prettyprint">$ restore -p 4444 -D "cn=Directory Manager" -w password
 -d /path/to/opendj/bak -I 20110613080032 -t 0
Restore task 20110613155052932 scheduled to start Jun 13, 2011 3:50:52 PM CEST</pre><p>The following example restores data while OpenDJ is offline.</p><pre class="cmdline prettyprint">$ /path/to/opendj/bin/stop-ds
Stopping Server...
...
$ /path/to/opendj/bin/restore --backupDirectory /path/to/opendj/bak/userRoot
 --listBackups
Backup ID:          20120928102414Z
Backup Date:        28/Sep/2012:12:24:17 +0200
Is Incremental:     false
Is Compressed:      false
Is Encrypted:       false
Has Unsigned Hash:  false
Has Signed Hash:    false
Dependent Upon:     none

$ /path/to/opendj/bin/restore --backupDirectory /path/to/opendj/bak/userRoot
 --backupID 20120928102414Z
[28/Sep/2012:12:26:20 +0200] ... msg=Restored: 00000000.jdb (size 355179)
$ /path/to/opendj/bin/start-ds
[28/Sep/2012:12:27:29 +0200] ... The Directory Server has started successfully</pre></div></div><div lang="en" class="refentry" id="setup-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>setup &#8212; install OpenDJ directory server</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e25920"><code class="command">setup</code>  [options]</p></div></div><div class="refsect1" id="d0e25925"><h2>Description</h2><p>This utility can be used to setup the directory server.</p></div><div class="refsect1" id="d0e25930"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --addBaseEntry</code></span></dt><dd><p>Indicates whether to create the base entry in the directory server
     database</p></dd><dt><span class="term"><code class="option">--adminConnectorPort {port}</code></span></dt><dd><p>Port on which the Administration Connector should listen for
     communication</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN for user information in the directory server. Multiple base
     DNs may be provided by using this option multiple times</p><p>Default value: dc=example,dc=com</p></dd><dt><span class="term"><code class="option">-d, --sampleData {numEntries}</code></span></dt><dd><p>Specifies that the database should be populated with the specified
     number of sample entries</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-D, --rootUserDN {rootUserDN}</code></span></dt><dd><p>DN for the initial root user for the directory server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">--generateSelfSignedCertificate</code></span></dt><dd><p>Generate a self-signed certificate that the server should use when
     accepting SSL-based connections or performing StartTLS negotiation</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>The fully-qualified directory server host name that will be used
     when generating self-signed certificates for LDAP SSL/StartTLS, the
     administration connector, and replication</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-i, --cli</code></span></dt><dd><p>Use the command line install. If not specified the graphical
     interface will be launched.  The rest of the options (excluding help and
     version) will only be taken into account if this option is specified</p></dd><dt><span class="term"><code class="option">-j, --rootUserPasswordFile {rootUserPasswordFile}</code></span></dt><dd><p>Path to a file containing the password for the initial root user for
     the directory server</p></dd><dt><span class="term"><code class="option">-l, --ldifFile {ldifFile}</code></span></dt><dd><p>Path to an LDIF file containing data that should be added to the
     directory server database. Multiple LDIF files may be provided by using
     this option multiple times</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of the certificate that the server should use when
     accepting SSL-based connections or performing StartTLS negotiation</p></dd><dt><span class="term"><code class="option">-O, --doNotStart</code></span></dt><dd><p>Do not start the server when the configuration is completed</p></dd><dt><span class="term"><code class="option">-p, --ldapPort {port}</code></span></dt><dd><p>Port on which the Directory Server should listen for LDAP
     communication</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-q, --enableStartTLS</code></span></dt><dd><p>Enable StartTLS to allow secure communication with the server using
     the LDAP port</p></dd><dt><span class="term"><code class="option">-R, --rejectFile {rejectFile}</code></span></dt><dd><p>Write rejected entries to the specified file</p></dd><dt><span class="term"><code class="option">-S, --skipPortCheck</code></span></dt><dd><p>Skip the check to determine whether the specified ports are
     usable</p></dd><dt><span class="term"><code class="option">--skipFile {skipFile}</code></span></dt><dd><p>Write skipped entries to the specified file</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file.  A PIN is required when you specify
     to use an existing certificate (JKS, JCEKS, PKCS#12 or PKCS#11) as server
     certificate</p></dd><dt><span class="term"><code class="option">--useJavaKeystore {keyStorePath}</code></span></dt><dd><p>Path of a Java Key Store (JKS) containing a certificate to be used
     as the server certificate</p></dd><dt><span class="term"><code class="option">--useJCEKS {keyStorePath}</code></span></dt><dd><p>Path of a JCEKS containing a certificate to be used as the server
    certificate</p></dd><dt><span class="term"><code class="option">--usePkcs11Keystore</code></span></dt><dd><p>Use a certificate in a PKCS#11 token that the server should use when
    accepting SSL-based connections or performing StartTLS negotiation</p></dd><dt><span class="term"><code class="option">--usePkcs12keyStore {keyStorePath}</code></span></dt><dd><p>Path of a PKCS#12 key store containing the certificate that the
     server should use when accepting SSL-based connections or performing
     StartTLS negotiation</p></dd><dt><span class="term"><code class="option">-w, --rootUserPassword {rootUserPassword}</code></span></dt><dd><p>Password for the initial root user for the Directory Server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN.  A PIN is required when you specify
     to use an existing certificate (JKS, JCEKS, PKCS#12 or PKCS#11) as server
     certificate</p></dd><dt><span class="term"><code class="option">-x, --jmxPort {jmxPort}</code></span></dt><dd><p>Port on which the Directory Server should listen for JMX
     communication</p><p>Default value: 1689</p></dd><dt><span class="term"><code class="option">-Z, --ldapsPort {port}</code></span></dt><dd><p>Port on which the Directory Server should listen for LDAPS
     communication. The LDAPS port will be configured and SSL will be enabled
     only if this argument is explicitly specified</p><p>Default value: 636</p></dd></dl></div><div class="refsect2" id="d0e26134"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-n, --no-prompt</code></span></dt><dd><p>Use non-interactive mode.  If data in the command is missing, the
      user is not prompted and the tool will fail</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-Q, --quiet</code></span></dt><dd><p>Run setup in quiet mode.  Quiet mode will not output progress
      information to standard output</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" id="d0e26173"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e26191"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e26207"><h2>Examples</h2><p>The following command installs OpenDJ directory server, enabling
  StartTLS and importing 100 example entries without interaction.</p><pre class="cmdline prettyprint">$ ./opendj/setup --cli -b dc=example,dc=com -d 100 -D "cn=Directory Manager"
 -w password -h `hostname` -p 1389
 --generateSelfSignedCertificate --enableStartTLS -n 

OpenDJ 4.8.1-SNAPSHOT
Please wait while the setup program initializes...

See /var/.../opends-setup-484...561.log for a detailed log of this operation.

Configuring Directory Server ..... Done.
Configuring Certificates ..... Done.
Importing Automatically-Generated Data (100 Entries) ......... Done.
Starting Directory Server .......... Done.

To see basic server configuration status and configuration you can launch
 /path/to/opendj/bin/status</pre></div></div><div lang="en" class="refentry" id="start-ds-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>start-ds &#8212; start OpenDJ directory server</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e26238"><code class="command">start-ds</code>  [options]</p></div></div><div class="refsect1" id="d0e26243"><h2>Description</h2><p>This utility can be used to start the directory server, as well as to
  obtain the server version and other forms of general server
  information.</p></div><div class="refsect1" id="d0e26248"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-L, --useLastKnownGoodConfig</code></span></dt><dd><p>Attempt to start using the configuration that was in place at the
     last successful startup (if it is available) rather than using the current
     active configuration.</p></dd><dt><span class="term"><code class="option">-N, --nodetach</code></span></dt><dd><p>Do not detach from the terminal and continue running in the
     foreground. This option cannot be used with the -t, --timeout
     option.</p></dd><dt><span class="term"><code class="option">-Q, --quiet</code></span></dt><dd><p>Use quiet mode.</p></dd><dt><span class="term"><code class="option">-s, --systemInfo</code></span></dt><dd><p>Display general system information.</p></dd><dt><span class="term"><code class="option">-t, --timeout {seconds}</code></span></dt><dd><p>Maximum time (in seconds) to wait before the command returns (the
     server continues the startup process, regardless). A value of '0'
     indicates an infinite timeout, which means that the command returns only
     when the server startup is completed. The default value is 60 seconds.
     This option cannot be used with the -N, --nodetach option.</p><p>Default value: 200</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" id="d0e26305"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e26321"><h2>Examples</h2><p>The following command starts the server without displaying
  information about the startup process.</p><pre class="cmdline prettyprint">$ start-ds -Q</pre></div></div><div lang="en" class="refentry" id="status-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>status &#8212; display basic OpenDJ server information</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e26352"><code class="command">status</code>  [options]</p></div></div><div class="refsect1" id="d0e26357"><h2>Description</h2><p>This utility can be used to display basic server information.</p></div><div class="refsect1" id="d0e26362"><h2>Options</h2><p>The following options are supported.</p><div class="refsect2" id="d0e26367"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p>Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e26466"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-n, --no-prompt</code></span></dt><dd><p>Use non-interactive mode.  If data in the command is missing, the
      user is not prompted and the tool will fail</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">-r, --refresh {period}</code></span></dt><dd><p>When this argument is specified, the status command will display
      its contents periodically.  Used to specify the period (in seconds)
      between two status displays</p></dd><dt><span class="term"><code class="option">-s, --script-friendly</code></span></dt><dd><p>Use script-friendly mode</p></dd></dl></div></div><div class="refsect2" id="d0e26498"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e26516"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e26532"><h2>Examples</h2><pre class="cmdline prettyprint">$ status -D "cn=Directory Manager" -w password

          --- Server Status ---
Server Run Status:        Started
Open Connections:         1

          --- Server Details ---
Host Name:                localhost.localdomain
Administrative Users:     cn=Directory Manager
Installation Path:        /path/to/opendj
Version:                  OpenDJ 4.8.1-SNAPSHOT
Java Version:             1.6.0_29
Administration Connector: Port 4444 (LDAPS)

          --- Connection Handlers ---
Address:Port : Protocol    : State
-------------:-------------:---------
--           : LDIF        : Disabled
8989         : Replication : Enabled
0.0.0.0:161  : SNMP        : Disabled
0.0.0.0:636  : LDAPS       : Disabled
0.0.0.0:1389 : LDAP        : Enabled
0.0.0.0:1689 : JMX         : Disabled

          --- Data Sources ---
Base DN:                      dc=example,dc=com
Backend ID:                   userRoot
Entries:                      160
Replication:                  Enabled
Missing Changes:              0
Age of Oldest Missing Change: &lt;not available&gt;

Base DN:     dc=myCompany,dc=com
Backend ID:  myCompanyRoot
Entries:     3
Replication: Disabled

Base DN:     o=myOrg
Backend ID:  myOrgRoot
Entries:     3
Replication: Disabled
</pre></div></div><div lang="en" class="refentry" id="stop-ds-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>stop-ds &#8212; stop OpenDJ directory server</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e26561"><code class="command">stop-ds</code>  [options]</p></div></div><div class="refsect1" id="d0e26566"><h2>Description</h2><p>This utility can be used to request that the directory server stop
  running or perform a restart.</p><p>When run without connection options, <span class="command"><strong>stop-ds</strong></span>
  sends a signal to the OpenDJ process to stop the server. When run with
  connection options, the <span class="command"><strong>stop-ds</strong></span> connects to the OpenDJ
  administration port and creates a shutdown task to stop the server.</p></div><div class="refsect1" id="d0e26579"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-r, --stopReason {stopReason}</code></span></dt><dd><p>Reason the server is being stopped or restarted.</p></dd><dt><span class="term"><code class="option">-R, --restart</code></span></dt><dd><p>Attempt to automatically restart the server once it has
     stopped.</p></dd><dt><span class="term"><code class="option">-t, --stopTime {stopTime}</code></span></dt><dd><p>Indicates the date/time at which the shutdown operation will begin
     as a server task expressed in format YYYYMMDDhhmmssZ for UTC time or
     YYYYMMDDhhmmss for local time.  A value of '0' will cause the shutdown to
     be scheduled for immediate execution.  When this option is specified the
     operation will be scheduled to start at the specified time after which this
     utility will exit immediately.</p></dd><dt><span class="term"><code class="option">-Y, --proxyAs {authzID}</code></span></dt><dd><p>Use the proxied authorization control with the given authorization
     ID.</p></dd></dl></div><div class="refsect2" id="d0e26613"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: 127.0.0.1</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p>Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server administration port number</p><p>Default value: 4444</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p><p>Use <code class="option">-w -</code> to have the command prompt for the
      password, rather than enter the password on the command line.</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e26724"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-Q, --quiet</code></span></dt><dd><p>Use quiet mode</p></dd></dl></div></div><div class="refsect2" id="d0e26749"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e26767"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e26783"><h2>Examples</h2><p>The following example restarts OpenDJ directory server.</p><pre class="cmdline prettyprint">$ stop-ds --restart
Stopping Server...

...The Directory Server has started successfully</pre></div></div><div lang="en" class="refentry" id="uninstall-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>uninstall &#8212; remove OpenDJ directory server software</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e26814"><code class="command">uninstall</code>  [options]</p></div></div><div class="refsect1" id="d0e26819"><h2>Description</h2><p>This utility can be used to uninstall the directory server.</p></div><div class="refsect1" id="d0e26824"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a, --remove-all</code></span></dt><dd><p>Remove all components of the server (this option is not compatible
     with the rest of remove options)</p></dd><dt><span class="term"><code class="option">-b, --backup-files</code></span></dt><dd><p>Remove backup files</p></dd><dt><span class="term"><code class="option">-c, --configuration-files</code></span></dt><dd><p>Remove configuration files</p></dd><dt><span class="term"><code class="option">-d, --databases</code></span></dt><dd><p>Remove database contents</p></dd><dt><span class="term"><code class="option">-e, --ldif-files</code></span></dt><dd><p>Remove LDIF files</p></dd><dt><span class="term"><code class="option">-f, --forceOnError</code></span></dt><dd><p>Specifies whether the uninstall should continue if there is an error
    updating references to this server in remote server instances or not.  This
    option can only be used with the --no-prompt option.</p></dd><dt><span class="term"><code class="option">-i, --cli</code></span></dt><dd><p>Specifies to use the command line install.  If not specified the
     graphical interface will be launched.  The rest of the options (excluding
     help and version) will only be taken into account if this option is
     specified</p></dd><dt><span class="term"><code class="option">-l, --server-libraries</code></span></dt><dd><p>Remove Server Libraries and Administrative Tools</p></dd><dt><span class="term"><code class="option">-L, --log-files</code></span></dt><dd><p>Remove log files</p></dd></dl></div><div class="refsect2" id="d0e26893"><h3>LDAP Connection Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--connectTimeout {timeout}</code></span></dt><dd><p>Maximum length of time (in milliseconds) that can be taken to
      establish a connection. Use '0' to specify no time out.</p><p>Default value: 30000</p></dd><dt><span class="term"><code class="option">-h, --referencedHostName {host}</code></span></dt><dd><p>The name of this host (or IP address) as it is referenced in remote
      servers for replication</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-I, --adminUID {adminUID}</code></span></dt><dd><p>User ID of the Global Administrator to use to bind to the
      server.</p><p>Default value: admin</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p>Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd></dl></div></div><div class="refsect2" id="d0e27001"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-n, --no-prompt</code></span></dt><dd><p>Use non-interactive mode.  If data in the command is missing, the
      user is not prompted and the tool will fail</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-Q, --quiet</code></span></dt><dd><p>Run setup in quiet mode.  Quiet mode will not output progress
      information to standard output</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" id="d0e27040"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e27058"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" id="d0e27074"><h2>Examples</h2><p>The following command removes OpenDJ directory server without
  interaction.</p><pre class="cmdline prettyprint">$ ./opendj/uninstall -a --cli -I admin -w password -n

Stopping Directory Server ..... Done.
Deleting Files under the Installation Path ..... Done.

The Uninstall Completed Successfully.
To complete the uninstallation, you must delete manually the following files
and directories:
/path/to/opendj/lib
See /var/.../opends-uninstall-3...0.log for a detailed log of this operation.
$ rm -rf opendj</pre></div></div><div lang="en" class="refentry" id="upgrade-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>upgrade &#8212; upgrade OpenDJ configuration &amp; application data</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e27105"><code class="command">upgrade</code>  {options}</p></div></div><div class="refsect1" id="d0e27110"><h2>Description</h2><p>This utility upgrades OpenDJ configuration (schema, directory server
  configuration, and other configuration files) and application data (primarily
  directory data) so that it is compatible with the binary files and scripts
  that are installed.</p><p>The <span class="command"><strong>upgrade</strong></span> command thus performs only part of the
  upgrade process, which includes the following phases for a single
  server.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Get and unpack a newer version of OpenDJ directory server
    software.</p></li><li class="listitem"><p>Stop the current OpenDJ directory server.</p></li><li class="listitem"><p>Overwrite existing binary and script files with those of the
    newer version, and then run this utility, the <span class="command"><strong>upgrade</strong></span>
    command, before restarting OpenDJ.</p></li><li class="listitem"><p>Start the upgraded OpenDJ directory server.</p></li></ol></div><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Important</h3></div><div class="panel-body"><p>The <span class="command"><strong>upgrade</strong></span> command <span class="emphasis"><em>does not back up
   OpenDJ before you upgrade, nor does it restore OpenDJ if the
   <span class="command"><strong>upgrade</strong></span> command fails</em></span>. In order to revert a
   failed upgrade, make sure you back up OpenDJ directory server before you
   overwrite existing binary and script files.</p></div></div><p>By default, the <span class="command"><strong>upgrade</strong></span> command requests
  confirmation before making important configuration changes. You can use
  the <code class="option">--no-prompt</code> option to run the command
  non-interactively.</p><p>When using the <code class="option">--no-prompt</code> option, if the
  <span class="command"><strong>upgrade</strong></span> command cannot complete because it requires
  confirmation for a potentially very long or critical task, then it exits
  with an error and a message about how to finish making the changes. You can
  add the <code class="option">--force</code> option to force a non-interactive upgrade
  to continue in this case, also performing long running and critical
  tasks.</p><p>After upgrading, see the resulting <code class="filename">upgrade.log</code>
  file for a full list of operations performed.</p></div><div class="refsect1" id="d0e27172"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--acceptLicense</code></span></dt><dd><p>Automatically accepts the product license if there is one in the
     delivery.</p></dd><dt><span class="term"><code class="option">--force</code></span></dt><dd><p>Forces a non-interactive upgrade to continue even if it requires
     user interaction. In particular, long running or critical upgrade tasks,
     such as re-indexing, which require user confirmation will be skipped. This
     option may only be used with the <code class="option">--no-prompt</code> option.</p></dd><dt><span class="term"><code class="option">--ignoreErrors</code></span></dt><dd><p>Ignores any errors which occur during the upgrade. This option
     should be used with caution and may be useful in automated deployments
     where potential errors are known in advance and resolved after the upgrade
     has completed.</p></dd></dl></div><div class="refsect2" id="d0e27202"><h3>Utility Input/Output Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-n, --no-prompt</code></span></dt><dd><p>Use non-interactive mode. Prompt for any required information
      rather than fail.</p></dd><dt><span class="term"><code class="option">-Q, --quiet</code></span></dt><dd><p>Use quiet mode.</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode.</p></dd></dl></div></div><div class="refsect2" id="d0e27227"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div></div><div class="refsect1" id="d0e27245"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">2</span></dt><dd><p>The command was run in non-interactive mode, but could not complete
     because confirmation was required to run a long or critical task.</p><p>See the error message or the log for details.</p></dd><dt><span class="term">Other</span></dt><dd><p>An error occurred.</p></dd></dl></div><p>See the <em class="citetitle">Installation Guide</em> for an example
  upgrade process for OpenDJ directory server installed from the cross-platform
  (.zip) delivery, <a href="../install-guide/index.html#upgrade-zip-example" class="link"><em class="citetitle">Upgrading From
  OpenDJ 2.4.5</em></a>.</p><p>Native packages (.deb, .rpm) perform more of the upgrade process,
  stopping OpenDJ if it is running, overwriting older files with newer files,
  running this utility, and starting OpenDJ if it was running when you upgraded
  the package(s).</p></div></div><div lang="en" class="refentry" id="verify-index-1"><div class="refentry.separator"><hr></div><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>verify-index &#8212; check index for consistency or errors</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="d0e27303"><code class="command">verify-index</code>  {options}</p></div></div><div class="refsect1" id="d0e27308"><h2>Description</h2><p>This utility can be used to ensure that index data is consistent
  within a backend based on the Berkeley DB Java Edition.</p></div><div class="refsect1" id="d0e27313"><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN of a backend supporting indexing. Verification is
     performed on indexes within the scope of the given base DN.</p></dd><dt><span class="term"><code class="option">-c, --clean</code></span></dt><dd><p>Specifies that a single index should be verified to ensure it is
     clean. An index is clean if each index value references only entries
     containing that value. Only one index at a time may be verified in this
     way.</p></dd><dt><span class="term"><code class="option">--countErrors</code></span></dt><dd><p>Count the number of errors found during the verification and return
     that value as the exit code (values &gt; 255 will be reduced to 255 due to
     exit code restrictions).</p></dd><dt><span class="term"><code class="option">-i, --index {index}</code></span></dt><dd><p>Name of an index to be verified. For an attribute index this is
     simply an attribute name. Multiple indexes may be verified for
     completeness, or all indexes if no indexes are specified.  An index is
     complete if each index value references all entries containing that
     value.</p></dd></dl></div><div class="refsect2" id="d0e27347"><h3>General Options</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" id="d0e27365"><h2>Exit Codes</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">1</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd><dt><span class="term">0-255</span></dt><dd><p>The number of errors in the index, as indicated for the
      <code class="option">--countErrors</code> option.</p></dd></dl></div></div><div class="refsect1" id="d0e27390"><h2>Examples</h2><p>The following example verifies the <code class="literal">cn</code> (common
   name) index for completeness and for errors.</p><pre class="cmdline prettyprint">$ verify-index -b dc=example,dc=com -i cn --clean --countErrors
[07/Jun/2011:16:06:50 +0200] category=BACKEND severity=INFORMATION
 msgID=9437595 msg=Local DB backend userRoot does not specify the number of
 lock tables: defaulting to 97
[07/Jun/2011:16:06:50 +0200] category=BACKEND severity=INFORMATION
 msgID=9437594 msg=Local DB backend userRoot does not specify the number of
 cleaner threads: defaulting to 24 threads
[07/Jun/2011:16:06:51 +0200] category=JEB severity=NOTICE msgID=8847461
 msg=Checked 1316 records and found 0 error(s) in 0 seconds
 (average rate 2506.7/sec)
[07/Jun/2011:16:06:51 +0200] category=JEB severity=INFORMATION
 msgID=8388710 msg=Number of records referencing more than one entry: 315
[07/Jun/2011:16:06:51 +0200] category=JEB severity=INFORMATION
 msgID=8388711 msg=Number of records that exceed the entry limit: 0
[07/Jun/2011:16:06:51 +0200] category=JEB severity=INFORMATION
 msgID=8388712 msg=Average number of entries referenced is 1.58/record
[07/Jun/2011:16:06:51 +0200] category=JEB severity=INFORMATION
 msgID=8388713 msg=Maximum number of entries referenced by any
 record is 32</pre></div></div></div><div lang="en" class="glossary" id="glossary"><div class="titlepage"><div><div><h1 class="title">OpenDJ Glossary</h1></div></div></div><dl><dt><span class="glossterm">Abandon operation</span></dt><dd class="glossdef"><p>LDAP operation to stop processing of a request in progress, after
   which the directory server drops the connection without a reply to the
   client application.</p></dd><dt><span class="glossterm">Access control</span></dt><dd class="glossdef"><p>Control to grant or to deny access to a resource.</p></dd><dt id="access-control-instruction"><span class="glossterm">Access control instruction (ACI)</span></dt><dd class="glossdef"><p>Instruction added as a directory entry attribute for fine-grained
   control over what a given user or group member is authorized to do in terms
   of LDAP operations and access to user data.</p><p>ACIs are implemented independently from privileges, which apply to
   administrative operations.</p><p>See Also <a class="glossseealso" href="#privilege">Privilege</a>.</p></dd><dt><span class="glossterm">Access control list (ACL)</span></dt><dd class="glossdef"><p>An access control list connects a user or group of users to one or
   more security entitlements. For example, users in group "sales" are granted
   the entitlement "read-only" to some financial data.</p></dd><dt><span class="glossterm"><code class="filename">access</code> log</span></dt><dd class="glossdef"><p>Directory server log tracing the operations the server processes
   including timestamps, connection information, and information about the
   operation itself.</p></dd><dt><span class="glossterm">Account lockout</span></dt><dd class="glossdef"><p>The act of making an account temporarily or permanently inactive
   after successive authentication failures.</p></dd><dt><span class="glossterm">Active user</span></dt><dd class="glossdef"><p>A user that has the ability to authenticate and use the services,
   having valid credentials.</p></dd><dt><span class="glossterm">Add operation</span></dt><dd class="glossdef"><p>LDAP operation to add a new entry or entries to the directory.</p></dd><dt><span class="glossterm">Anonymous</span></dt><dd class="glossdef"><p>A user that does not need to authenticate, and is unknown to the
   system.</p></dd><dt><span class="glossterm">Anonymous bind</span></dt><dd class="glossdef"><p>A bind operation using simple authentication with an empty DN and an
   empty password, allowing "anonymous" access such as reading public
   information.</p></dd><dt id="approximate-index"><span class="glossterm">Approximate index</span></dt><dd class="glossdef"><p>Index is used to match values that "sound like" those provided in the
   filter.</p></dd><dt><span class="glossterm">Attribute</span></dt><dd class="glossdef"><p>Properties of a directory entry, stored as one or more key-value pairs.
   Typical examples include the common name (<code class="literal">cn</code>) to store
   the user's full name and variations of the name, user ID
   (<code class="literal">uid</code>) to store a unique identifier for the entry, and
   <code class="literal">mail</code> to store email addresses.</p></dd><dt><span class="glossterm"><code class="filename">audit</code> log</span></dt><dd class="glossdef"><p>Type of access log that dumps changes in LDIF.</p></dd><dt><span class="glossterm">Authentication</span></dt><dd class="glossdef"><p>The process of verifying who is requesting access to a resource; the
   act of confirming the identity of a principal.</p></dd><dt><span class="glossterm">Authorization</span></dt><dd class="glossdef"><p>The process of determining whether access should be granted to an
   individual based on information about that individual; the act of
   determining whether to grant or to deny a principal access to a
   resource.</p></dd><dt><span class="glossterm">Backend</span></dt><dd class="glossdef"><p>Repository that a directory server can access to store data. Different
   implementations with different capabilities exist.</p></dd><dt><span class="glossterm">Binary copy</span></dt><dd class="glossdef"><p>Binary backup archive of one directory server that can be restored on
   another directory server.</p></dd><dt><span class="glossterm">Bind operation</span></dt><dd class="glossdef"><p>LDAP authentication operation to determine the client's identity in
   LDAP terms, the identity which is later used by the server to authorize (or
   not) access to directory data that the client wants to lookup or
   change.</p></dd><dt><span class="glossterm">Collective attribute</span></dt><dd class="glossdef"><p>A standard mechanism for defining attributes that appear on all the
   entries in a particular subtree.</p></dd><dt><span class="glossterm">Compare operation</span></dt><dd class="glossdef"><p>LDAP operation to compare a specified attribute value with the value
   stored on an entry in the directory.</p></dd><dt><span class="glossterm">Control</span></dt><dd class="glossdef"><p>Information added to an LDAP message to further specify how an LDAP
   operation should be processed. OpenDJ supports many LDAP controls.</p></dd><dt><span class="glossterm">Database cache</span></dt><dd class="glossdef"><p>Memory space set aside to hold database content.</p></dd><dt><span class="glossterm"><code class="filename">debug</code> log</span></dt><dd class="glossdef"><p>Directory server log tracing details needed to troubleshoot a problem
   in the server.</p></dd><dt><span class="glossterm">Delete operation</span></dt><dd class="glossdef"><p>LDAP operation to remove an existing entry or entries from the
   directory.</p></dd><dt id="directory"><span class="glossterm">Directory</span></dt><dd class="glossdef"><p>A directory is a network service which lists participants in the
   network such as users, computers, printers, and groups. The directory
   provides a convenient, centralized, and robust mechanism for publishing and
   consuming information about network participants.</p></dd><dt><span class="glossterm">Directory hierarchy</span></dt><dd class="glossdef"><p>A directory can be organized into a hierarchy in order to make it
   easier to browse or manage. Directory hierarchies normally represent
   something in the physical world, such as organizational hierarchies or
   physical locations. For example, the top level of a directory may represent
   a company, the next level down divisions, the next level down departments,
   and so on. Alternately, the top level may represent the world, the next
   level down countries, next states or provinces, next cities, and so
   on.</p></dd><dt id="directory-manager"><span class="glossterm">Directory manager</span></dt><dd class="glossdef"><p>Default Root DN who has privileges to do full administration of the
   OpenDJ server, including bypassing access control evaluation, changing
   access controls, and changing administrative privileges.</p><p>See Also <a class="glossseealso" href="#root-dn">Root DN</a>.</p></dd><dt><span class="glossterm">Directory object</span></dt><dd class="glossdef"><p>A directory object is an item in a directory. Example objects include
   users, user groups, computers and more. Objects may be organized into a
   hierarchy and contain identifying attributes.</p><p>See Also <a class="glossseealso" href="#entry">Entry</a>.</p></dd><dt><span class="glossterm">Directory server</span></dt><dd class="glossdef"><p>Server application for centralizing information about network participants.
   A highly available directory service consists of multiple directory servers
   configured to replicate directory data.</p><p>See Also <a class="glossseealso" href="#directory">Directory</a>, <a class="glossseealso" href="#replication">Replication</a>.</p></dd><dt><span class="glossterm">Directory Services Markup Language (DSML)</span></dt><dd class="glossdef"><p>Standard language to access directory services using XML. DMSL v1
   defined an XML mapping of LDAP objects, while DSMLv2 maps the LDAP Protocol
   and data model to XML.</p></dd><dt><span class="glossterm">Distinguished name (DN)</span></dt><dd class="glossdef"><p>Fully qualified name for a directory entry, such as
   <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code>, built by
   concatenating the entry RDN (<code class="literal">uid=bjensen</code>) with the DN of
   the parent entry (<code class="literal">ou=People,dc=example,dc=com</code>).</p></dd><dt><span class="glossterm">Dynamic group</span></dt><dd class="glossdef"><p>Group that specifies members using LDAP URLs.</p></dd><dt id="entry"><span class="glossterm">Entry</span></dt><dd class="glossdef"><p>As generic and hierarchical data stores, directories always contain
   different kinds of entries, either nodes (or containers) or leaf entries. An
   entry is an object in the directory, defined by one of more object classes
   and their related attributes. At startup, OpenDJ reports the number of entries
   contained in each suffix.</p></dd><dt><span class="glossterm">Entry cache</span></dt><dd class="glossdef"><p>Memory space set aside to hold frequently-accessed, large entries,
   such as static groups.</p></dd><dt id="equality-index"><span class="glossterm">Equality index</span></dt><dd class="glossdef"><p>Index used to match values that correspond exactly (though generally
   without case sensitivity) to the value provided in the search filter.</p></dd><dt><span class="glossterm"><code class="filename">errors</code> log</span></dt><dd class="glossdef"><p>Directory server log tracing server events, error conditions, and
   warnings, categorized and identified by severity.</p></dd><dt><span class="glossterm">Export</span></dt><dd class="glossdef"><p>Save directory data in an LDIF file.</p></dd><dt><span class="glossterm">Extended operation</span></dt><dd class="glossdef"><p>Additional LDAP operation not included in the original standards.
   OpenDJ supports several standard LDAP extended operations.</p></dd><dt id="extensible-match-index"><span class="glossterm">Extensible match index</span></dt><dd class="glossdef"><p>Index for a matching rule other than approximate, equality, ordering,
   presence, substring or VLV, such as an index for generalized time.</p></dd><dt><span class="glossterm">External user</span></dt><dd class="glossdef"><p>An individual that accesses company resources or services but is not
   working for the company. Typically a customer or partner.</p></dd><dt id="filter"><span class="glossterm">Filter</span></dt><dd class="glossdef"><p>An LDAP search filter is an expression that the server uses to find
   entries that match a search request, such as
   <code class="literal">(mail=*@example.com)</code> to match all entries having an
   email address in the example.com domain.</p></dd><dt><span class="glossterm">Group</span></dt><dd class="glossdef"><p>Entry identifying a set of members whose entries are also in the
   directory.</p></dd><dt><span class="glossterm">Idle time limit</span></dt><dd class="glossdef"><p>Defines how long OpenDJ allows idle connections to remain open.</p></dd><dt><span class="glossterm">Import</span></dt><dd class="glossdef"><p>Read in and index directory data from an LDIF file.</p></dd><dt><span class="glossterm">Inactive user</span></dt><dd class="glossdef"><p>An entry in the directory that once represented a user but which is
   now no longer able to be authenticated.</p></dd><dt><span class="glossterm">Index</span></dt><dd class="glossdef"><p>Directory server backend feature to allow quick lookup of entries
   based on their attribute values.</p><p>See Also <a class="glossseealso" href="#approximate-index">Approximate index</a>, <a class="glossseealso" href="#equality-index">Equality index</a>, <a class="glossseealso" href="#extensible-match-index">Extensible match index</a>, <a class="glossseealso" href="#ordering-index">Ordering index</a>, <a class="glossseealso" href="#presence-index">Presence index</a>, <a class="glossseealso" href="#substring-index">Substring index</a>, <a class="glossseealso" href="#vlv-index">Virtual list view (VLV) index</a>, <a class="glossseealso" href="#index-entry-limit">Index entry limit</a>.</p></dd><dt id="index-entry-limit"><span class="glossterm">Index entry limit</span></dt><dd class="glossdef"><p>When the number of entries that an index key points to exceeds the
   index entry limit, OpenDJ stops maintaining the list of entries for that
   index key.</p></dd><dt><span class="glossterm">Internal user</span></dt><dd class="glossdef"><p>An individual who works within the company either as an employee or as
   a contractor.</p></dd><dt><span class="glossterm">LDAP Data Interchange Format (LDIF)</span></dt><dd class="glossdef"><p>Standard, portable, text-based representation of directory content.
   See <a class="link" href="http://tools.ietf.org/html/rfc2849" target="_blank">RFC 2849</a>.</p></dd><dt><span class="glossterm">LDAP URL</span></dt><dd class="glossdef"><p>LDAP Uniform Resource Locator such as <code class="literal">ldap://directory.example.com:389/dc=example,dc=com??sub?(uid=bjensen)</code>.
   See <a class="link" href="http://tools.ietf.org/html/rfc2255" target="_blank">RFC 2255</a>.</p></dd><dt><span class="glossterm">LDAPS</span></dt><dd class="glossdef"><p>LDAP over SSL.</p></dd><dt><span class="glossterm">Lightweight Directory Access Protocol (LDAP)</span></dt><dd class="glossdef"><p>A simple and standardized network protocol used by applications to
   connect to a directory, search for objects and add, edit or remove
   objects. See <a class="link" href="http://tools.ietf.org/html/rfc4510" target="_blank">RFC 4510</a>.</p></dd><dt><span class="glossterm">Lookthrough limit</span></dt><dd class="glossdef"><p>Defines the maximum number of candidate entries OpenDJ considers when
   processing a search.</p></dd><dt><span class="glossterm">Matching rule</span></dt><dd class="glossdef"><p>Defines rules for performing matching operations against assertion
   values. Matching rules are frequently associated with an attribute syntax
   and are used to compare values according to that syntax. For example, the
   <code class="literal">distinguishedNameEqualityMatch</code> matching rule can be used
   to determine whether two DNs are equal and can ignore unnecessary spaces
   around commas and equal signs, differences in capitalization in attribute
   names, and so on.</p></dd><dt><span class="glossterm">Modify DN operation</span></dt><dd class="glossdef"><p>LDAP modification operation to request that the server change the
   distinguished name of an entry.</p></dd><dt><span class="glossterm">Modify operation</span></dt><dd class="glossdef"><p>LDAP modification operation to request that the server change one or
   more attributes of an entry.</p></dd><dt><span class="glossterm">Naming context</span></dt><dd class="glossdef"><p>Base DN under which client applications can look for user data.</p></dd><dt><span class="glossterm">Object class</span></dt><dd class="glossdef"><p>Identifies entries that share certain characteristics. Most commonly,
   an entry's object classes define the attributes that must and may be present
   on the entry. Object classes are stored on entries as values of the
   <code class="literal">objectClass</code> attribute. Object classes are defined in the
   directory schema, and can be abstract (defining characteristics for other
   object classes to inherit), structural (defining the basic structure of an
   entry, one structural inheritance per entry), or auxiliary (for decorating
   entries already having a structural object class with other required and
   optional attributes).</p></dd><dt><span class="glossterm">Object identifier (OID)</span></dt><dd class="glossdef"><p>String that uniquely identifies an object, such as
   <code class="literal">0.9.2342.19200300.100.1.1</code> for the user ID attribute or
   <code class="literal">1.3.6.1.4.1.1466.115.121.1.15</code> for
   <code class="literal">DirectoryString</code> syntax. </p></dd><dt><span class="glossterm">Operational attribute</span></dt><dd class="glossdef"><p>An attribute that has a special (operational) meaning for the
   directory server, such as <code class="literal">pwdPolicySubentry</code> or
   <code class="literal">modifyTimestamp</code>.</p></dd><dt id="ordering-index"><span class="glossterm">Ordering index</span></dt><dd class="glossdef"><p>Index used to match values for a filter that specifies a range.</p></dd><dt><span class="glossterm">Password policy</span></dt><dd class="glossdef"><p>A set of rules regarding what sequence of characters constitutes an 
   acceptable password. Acceptable passwords are generally those that would be
   too difficult for another user or an automated program to guess and thereby
   defeat the password mechanism. Password policies may require a minimum
   length, a mixture of different types of characters (lowercase, uppercase,
   digits, punctuation marks, and so forth), avoiding dictionary words or
   passwords based on the user's name, and so forth. Password policies may
   also require that users not reuse old passwords and that users change their
   passwords regularly.</p></dd><dt><span class="glossterm">Password reset</span></dt><dd class="glossdef"><p>Password change performed by a user other than the user who owns the
   entry.</p></dd><dt><span class="glossterm">Password storage scheme</span></dt><dd class="glossdef"><p>Mechanism for encoding user passwords stored on directory entries.
   OpenDJ implements a number of password storage schemes.</p></dd><dt><span class="glossterm">Password validator</span></dt><dd class="glossdef"><p>Mechanism for determining whether a proposed password is acceptable
   for use. OpenDJ implements a number of password validators.</p></dd><dt id="presence-index"><span class="glossterm">Presence index</span></dt><dd class="glossdef"><p>Index used to match the fact that an attribute is present on the entry,
   regardless of the value.</p></dd><dt><span class="glossterm">Principal</span></dt><dd class="glossdef"><p>Entity that can be authenticated, such as a user, a device, or an
   application.</p></dd><dt id="privilege"><span class="glossterm">Privilege</span></dt><dd class="glossdef"><p>Server configuration settings controlling access to administrative
   operations such as exporting and importing data, restarting the server,
   performing password reset, and changing the server configuration.</p><p>Privileges are implemented independently from access control
   instructions (ACI), which apply to LDAP operations and user data.</p><p>See Also <a class="glossseealso" href="#access-control-instruction">Access control instruction (ACI)</a>.</p></dd><dt><span class="glossterm">Referential integrity</span></dt><dd class="glossdef"><p>Ensuring that group membership remains consistent following changes
   to member entries.</p></dd><dt><span class="glossterm"><code class="filename">referint</code> log</span></dt><dd class="glossdef"><p>Directory server log tracing referential integrity events, with
   entries similar to the errors log.</p></dd><dt><span class="glossterm">Referral</span></dt><dd class="glossdef"><p>Reference to another directory location, which can be another
   directory server running elsewhere or another container on the same server,
   where the current operation can be processed.</p></dd><dt><span class="glossterm">Relative distinguished name (RDN)</span></dt><dd class="glossdef"><p>Initial portion of a DN that distinguishes the entry from all other
   entries at the same level, such as <code class="literal">uid=bjensen</code> in
   <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code>.</p></dd><dt id="replication"><span class="glossterm">Replication</span></dt><dd class="glossdef"><p>Data synchronization that ensures all directory servers participating
   eventually share a consistent set of directory data.</p></dd><dt><span class="glossterm"><code class="filename">replication</code> log</span></dt><dd class="glossdef"><p>Directory server log tracing replication events, with entries similar
   to the errors log.</p></dd><dt id="root-dn"><span class="glossterm">Root DN</span></dt><dd class="glossdef"><p>A directory superuser, whose account is specific to a directory server
   under <code class="literal">cn=Root DNs,cn=config</code>.</p><p>The default Root DN is Directory Manager. You can create additional
   Root DN accounts, each with different administrative privileges.</p><p>See Also <a class="glossseealso" href="#directory-manager">Directory manager</a>, <a class="glossseealso" href="#privilege">Privilege</a>.</p></dd><dt><span class="glossterm">Root DSE</span></dt><dd class="glossdef"><p>The directory entry with distinguished name "" (empty string), where
   DSE stands for DSA-Specific Entry. DSA stands for Directory Server Agent,
   a single directory server. The root DSE serves to expose information over
   LDAP about what the directory server supports in terms of LDAP controls,
   auth password schemes, SASL mechanisms, LDAP protocol versions, naming
   contexts, features, LDAP extended operations, and so forth.</p></dd><dt><span class="glossterm">Schema</span></dt><dd class="glossdef"><p>LDAP schema defines the object classes, attributes types, attribute
   value syntaxes, matching rules and so on that constrain entries held by the
   directory server.</p></dd><dt><span class="glossterm">Search filter</span></dt><dd class="glossdef"><p>See <a class="xref" href="#filter" title="Filter">Filter</a>.</p></dd><dt><span class="glossterm">Search operation</span></dt><dd class="glossdef"><p>LDAP lookup operation where a client requests that the server return
   entries based on an LDAP filter and a base DN under which to search.</p></dd><dt><span class="glossterm">Simple authentication</span></dt><dd class="glossdef"><p>Bind operation performed with a user's entry DN and user's password.
   Use simple authentication only if the network connection is secure.</p></dd><dt><span class="glossterm">Size limit</span></dt><dd class="glossdef"><p>Sets the maximum number of entries returned for a search.</p></dd><dt><span class="glossterm">Static group</span></dt><dd class="glossdef"><p>Group that enumerates member entries.</p></dd><dt><span class="glossterm">Subentry</span></dt><dd class="glossdef"><p>An entry, such as a password policy entry, that resides with the user
   data but holds operational data, and is not visible in search results unless
   explicitly requested.</p></dd><dt id="substring-index"><span class="glossterm">Substring index</span></dt><dd class="glossdef"><p>Index used to match values specified with wildcards in the filter.</p></dd><dt><span class="glossterm">Task</span></dt><dd class="glossdef"><p>Mechanism to provide remote access to directory server administrative
   functions. OpenDJ supports tasks to backup and restore backends, to import
   and export LDIF files, and to stop and restart the server. </p></dd><dt><span class="glossterm">Time limit</span></dt><dd class="glossdef"><p>Defines the maximum processing time OpenDJ devotes to a search
   operation.</p></dd><dt><span class="glossterm">Unbind operation</span></dt><dd class="glossdef"><p>LDAP operation to release resources at the end of a session.</p></dd><dt><span class="glossterm">Unindexed search</span></dt><dd class="glossdef"><p>Search operation for which no matching index is available. If no
   indexes are applicable, then the directory server potentially has to go
   through all entries to look for candidate matches. For this reason, the
   <code class="literal">unindexed-search</code> privilege, allowing users to request
   searches for which no applicable index exists, is reserved for the directory
   manager by default.</p></dd><dt><span class="glossterm">User</span></dt><dd class="glossdef"><p>An entry that represents an individual that can be authenticated
   through credentials contained or referenced by its attributes. A user may
   represent an internal user or an external user, and may be an active user
   or an inactive user.</p></dd><dt><span class="glossterm">User attribute</span></dt><dd class="glossdef"><p>An attribute for storing user data on a directory entry such as
   <code class="literal">mail</code> or <code class="literal">givenname</code>.</p></dd><dt><span class="glossterm">Virtual attribute</span></dt><dd class="glossdef"><p>An attribute with dynamically generated values that appear in entries
   but are not persistently stored in the backend.</p></dd><dt><span class="glossterm">Virtual directory</span></dt><dd class="glossdef"><p>An application that exposes a consolidated view of multiple physical
   directories over an LDAP interface. Consumers of the directory information
   connect to the virtual directory's LDAP service. Behind the scenes, requests
   for information and updates to the directory are sent to one or more physical
   directories where the actual information resides. Virtual directories enable
   organizations to create a consolidated view of information that for legal or
   technical reasons cannot be consolidated into a single physical copy.</p></dd><dt id="vlv-index"><span class="glossterm">Virtual list view (VLV) index</span></dt><dd class="glossdef"><p>Browsing index designed to help the directory server respond to client
   applications that need for example to browse through a long list of results
   a page at a time in a GUI.</p></dd><dt><span class="glossterm">Virtual static group</span></dt><dd class="glossdef"><p>OpenDJ group that lets applications see dynamic groups as what appear
   to be static groups.</p></dd><dt><span class="glossterm">X.500</span></dt><dd class="glossdef"><p>A family of standardized protocols for accessing, browsing and
   maintaining a directory. X.500 is functionally similar to LDAP, but is
   generally considered to be more complex, and has consequently not been
   widely adopted.</p></dd></dl></div><div lang="en" class="appendix" id="appendix-rest2ldap"><div class="titlepage"><div><div><h1 class="title">Appendix&nbsp;A.&nbsp;REST LDAP Configuration</h1></div></div></div><a class="indexterm" name="d0e28087"></a><a class="indexterm" name="d0e28090"></a><div class="itemizedlist"><p>OpenDJ offers two alternatives for RESTful access to directory
  data.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>OpenDJ directory server has an HTTP connection handler that exposes
   the RESTful API over HTTP (or HTTPS). You configure the mapping between
   JSON resources and LDAP entries by editing the configuration file for the
   HTTP connection handler, by default
   <code class="filename">/path/to/opendj/config/http-config.json</code>.</p></li><li class="listitem"><p>The OpenDJ REST LDAP gateway runs as a Servlet independent from your
   directory service. You configure the gateway to access your directory service
   by editing <code class="filename">opendj-rest2ldap-servlet.json</code> where you
   deploy the gateway web application.</p></li></ul></div><div class="variablelist"><p>The JSON format configuration can hold the following configuration
  objects. Some of the configuration settings are available only in the REST
  LDAP gateway configuration. The order here is the order shown in the default
  configuration file.</p><p>Interface stability: <a href="../admin-guide/index.html#interface-stability" class="link">Evolving</a></p><dl class="variablelist"><dt><span class="term">"ldapConnectionFactories" (required, gateway only)</span></dt><dd><p>Configures how the gateway connects to LDAP servers. This entire
    configuration object applies only to the REST LDAP gateway.</p><div class="variablelist"><p>Configures at least a connection factory for unauthenticated
     connections that are used for bind requests. By default, also configures a
     factory for authenticated connections that are used for searches during
     authentication and for proxied authorization operations.</p><p>The default configuration is set to connect to a local directory
     server listening for LDAP connections on port 1389, authenticating as the
     root DN user <code class="literal">cn=Directory Manager</code>, with the password
     <code class="literal">password</code>.</p><dl class="variablelist"><dt><span class="term">"default"</span></dt><dd><p>Configures the unauthenticated connection factory for bind
        operations.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">"connectionPoolSize" (optional)</span></dt><dd><p>The gateway creates connection pools to the primary and
           secondary LDAP servers that maintain up to
           <code class="literal">connectionPoolSize</code> connections to the
           servers.</p><p>Default: 24</p><pre class="codelisting prettyprint">"connectionPoolSize": 24</pre></dd><dt><span class="term">"connectionSecurity" (optional)</span></dt><dd><p>Whether connections to LDAP servers should be secured by using
           SSL or StartTLS. The following values are supported.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>"none" (default) means connections use plain LDAP and are
             not secured.</p></li><li class="listitem"><p>"ssl" means connections are secured using LDAPS.</p></li><li class="listitem"><p>"startTLS" means connections are secured using LDAP and
             StartTLS.</p></li></ul></div><p>If you set "connectionSecurity", also review the
            "trustManager" and "fileBasedTrustManager*" settings.</p></dd><dt><span class="term">"heartBeatIntervalSeconds" (optional)</span></dt><dd><p>The gateway tests its connections every
           <code class="literal">heartBeatIntervalSeconds</code> seconds to detect whether
           the connection is still alive.</p><p>Default: 30 (seconds)</p><pre class="codelisting prettyprint">"heartBeatIntervalSeconds": 30</pre></dd><dt><span class="term">"fileBasedTrustManagerFile" (optional)</span></dt><dd><p>If "trustManager"&nbsp;is set to "file", then this setting
           configures the location of the trust store file.</p><p>Default: "/path/to/truststore"</p></dd><dt><span class="term">"fileBasedTrustManagerPassword" (optional)</span></dt><dd><p>If "trustManager"&nbsp;is set to "file", then this setting
           specifies the trust store password.</p><p>Default: "password"</p></dd><dt><span class="term">"fileBasedTrustManagerType" (optional)</span></dt><dd><p>If "trustManager"&nbsp;is set to "file", then this setting
           configures the format for the data in the trust store file specified
           by the "fileBasedTrustManagerFile" setting. Formats include the
           following, though other implementations might be supported as well
           depending on the Java environment.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>"JKS" (default) specifies Java Key Store format.</p></li><li class="listitem"><p>"PKCS12" specifies Public-Key Cryptography Standards 12
             format.</p></li></ul></div></dd><dt><span class="term">"primaryLDAPServers" (required)</span></dt><dd><p>The gateway accesses this array of LDAP servers before failing
           over to the secondary LDAP servers. These might be LDAP servers in
           the same data center for example.</p><pre class="codelisting prettyprint">{
    "primaryLDAPServers": [
        {
            "hostname": "local1.example.com",
            "port": 1389
        },
        {
            "hostname": "local2.example.com",
            "port": 1389
        }
    ]
}</pre><p>By default, the gateway connects to the directory server
           listening on port 1389 on the local host.</p></dd><dt><span class="term">"secondaryLDAPServers" (optional)</span></dt><dd><p>The gateway accesses this array of LDAP servers if primary LDAP
           servers cannot be contacted. These might be LDAP servers in the same
           data center for example.</p><pre class="codelisting prettyprint">{
    "secondaryLDAPServers": [
        {
            "hostname": "remote1.example.com",
            "port": 1389
        },
        {
            "hostname": "remote2.example.com",
            "port": 1389
        }
    ]
}</pre><p>No secondary LDAP servers are configured by default.</p></dd><dt><span class="term">"trustManager" (optional)</span></dt><dd><p>If "connectionSecurity"&nbsp;is set to "ssl" or "startTLS", then
           this setting configures how the LDAP servers are trusted. This
           setting is ignored if "connectionSecurity"&nbsp;is set to "none".</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>"file" means trust the LDAP server certificate if it is
             signed by a Certificate Authority (CA) trusted according to the
             file-based trust store configured with the "fileBasedTrustManager*"
             settings.</p></li><li class="listitem"><p>"jvm" means trust the LDAP server certificate if it is signed
             by a CA trusted by the Java environment.</p></li><li class="listitem"><p>"trustAll" (default) means blindly trust all LDAP server
             certificates.</p></li></ul></div></dd></dl></div></dd><dt><span class="term">"root"</span></dt><dd><p>Configures the authenticated connection factory.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">"inheritFrom" (optional)</span></dt><dd><p>Identifies the unauthenticated connection factory from which
           to inherit settings. If this connection factory does not inherit from
           another configuration object, then you must specify the configuration
           here.</p><p>Default: "default"</p></dd><dt><span class="term">"authentication" (required)</span></dt><dd><p>The gateway authenticates by simple bind using the credentials
           specified.</p><pre class="codelisting prettyprint">{
    "authentication": {
        "bindDN": "cn=Directory Manager",
        "password": "password"
    }
}</pre></dd></dl></div></dd></dl></div></dd><dt><span class="term">"authenticationFilter" (required)</span></dt><dd><p>Configures the REST LDAP authentication filter. If the configuration
    is not present, the filter is disabled.</p><p>The default configuration allows HTTP Basic authentication where user
    entries are <code class="literal">inetOrgPerson</code> entries expected to have
    <code class="literal">uid=<em class="replaceable"><code>username</code></em></code>, and to be found
    under <code class="literal">ou=people,dc=example,dc=com</code>. The default
    configuration also allows alternative, HTTP header based authentication in
    the style of OpenIDM.</p><p>By default, authentication is required both for the gateway and for
    the HTTP connection handler. When the HTTP connection handler property
    <code class="literal">authentication-required</code> is set to
    <code class="literal">false</code> (default: <code class="literal">true</code>), the HTTP
    connection handler accepts both authenticated and unauthenticated requests.
    All requests are subject to access control and resource limit settings in
    the same way as LDAP client requests to the directory server. The
    <code class="literal">authentication-required</code> setting can be overridden by the
    global configuration property
    <code class="literal">reject-unauthenticated-requests</code> (default:
    <code class="literal">false</code>), described in the section on <a href="../admin-guide/index.html#restrict-clients" class="link"><em class="citetitle">Restricting
    Client Access</em></a>.</p><p>To protect passwords, configure HTTPS for the HTTP connection handler
    or for the container where the REST LDAP gateway runs.</p><div class="variablelist"><p>The filter has the following configuration fields.</p><dl class="variablelist"><dt><span class="term">"supportHTTPBasicAuthentication"</span></dt><dd><p>Whether to support HTTP Basic authentication. If this is set to
        <code class="literal">true</code>, then the entry corresponding to the user name
        is found using the "searchBaseDN", "searchScope", and
        "searchFilterTemplate" settings.</p><p>Default: <code class="literal">true</code></p></dd><dt><span class="term">"supportAltAuthentication"</span></dt><dd><p>Whether to allow alternative, HTTP header based authentication. If
        this is set to <code class="literal">true</code>, then the headers to use are
        specified in the "altAuthenticationUsernameHeader" and
        "altAuthenticationPasswordHeader" values, and the bind DN is resolved
        using the "searchFilterTemplate" value.</p><p>Default: <code class="literal">true</code></p></dd><dt><span class="term">"altAuthenticationUsernameHeader"</span></dt><dd><p>Specifies the HTTP header containing the username for
        authentication when alternative, HTTP-header based authentication is
        allowed.</p><p>Default: "X-OpenIDM-Username"</p></dd><dt><span class="term">"altAuthenticationPasswordHeader"</span></dt><dd><p>Specifies the HTTP header containing the password for
        authentication when alternative, HTTP-header based authentication is
        allowed.</p><p>Default: "X-OpenIDM-Password"</p></dd><dt><span class="term">"reuseAuthenticatedConnection" (gateway only)</span></dt><dd><p>Whether to use authenticated LDAP connections for subsequent LDAP
        operations. If this is set to <code class="literal">true</code>, the gateway does
        not need its own connection factory, nor does it need to use proxied
        authorization for LDAP operations. Instead, it performs the operations
        as the user on the authenticated connection.</p><p>Default: <code class="literal">true</code></p></dd><dt><span class="term">"method" (gateway only)</span></dt><dd><p>Specifies the authentication method used by the gateway. The
        following values are supported.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>"search-simple" (default) means the user name is resolved to
          an LDAP bind DN by a search using the "searchFilterTemplate" value.</p></li><li class="listitem"><p>"sasl-plain" means the user name is resolved to an
          authorization ID (authzid) using the "saslAuthzIdTemplate" value.</p></li><li class="listitem"><p>"simple" means the user name is the LDAP bind DN.</p></li></ul></div></dd><dt><span class="term">"bindLDAPConnectionFactory" (gateway only)</span></dt><dd><p>Identifies the factory providing connections used for bind
        operations to authenticate users to LDAP servers.</p><p>Default: "default"</p></dd><dt><span class="term">"saslAuthzIdTemplate" (gateway only)</span></dt><dd><p>Sets how to resolve the authorization ID when the authentication
        "method" is set to "sasl-plain", substituting <code class="literal">%s</code>
        in the template with the user name provided. The user name provided by
        is DN escaped before the value is returned.</p><p>Default: "dn:uid=%s,ou=people,dc=example,dc=com"</p></dd><dt><span class="term">"searchLDAPConnectionFactory" (gateway only)</span></dt><dd><p>Identifies the factory providing connections used to find
        user entries in the directory server when the "method" is set to
        "search-simple".</p><p>Default: "root"</p></dd><dt><span class="term">"searchBaseDN"</span></dt><dd><p>Sets the base DN to search for user entries. For the gateway,
        this applies when the "method" is set to "search-simple". This always
        applies for the HTTP connection handler.</p><p>Default: "ou=people,dc=example,dc=com"</p></dd><dt><span class="term">"searchScope"</span></dt><dd><p>Sets the search scope below the base DN such as "sub" (subtree
        search) or "one" (one-level search) to search for user entries. For the
        gateway, this applies when the "method" is set to "search-simple". This
        always applies for the HTTP connection handler.</p><p>Default: "sub"</p></dd><dt><span class="term">"searchFilterTemplate"</span></dt><dd><p>Sets the search filter used to find the user entry, substituting
        <code class="literal">%s</code> in the template with the user name provided. The
        user name provided by is DN escaped before the value is returned. For
        the gateway, this applies when the "method" is set to "search-simple".
        This always applies for the HTTP connection handler.</p><p>Default: "(&amp;(objectClass=inetOrgPerson)(uid=%s))"</p></dd></dl></div></dd><dt><span class="term">"servlet" (required)</span></dt><dd><p>Configures how HTTP resources map to LDAP entries, and for the gateway
    how to connect to LDAP servers and how to use proxied authorization.</p><p>The default gateway configuration tries to reuse authenticated
    connections for LDAP operations, falling back to a connection authenticated
    as root DN using proxied authorization for LDAP operations.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">"ldapConnectionFactory" (gateway only)</span></dt><dd><p>Specifies the connection factory used by the gateway to perform
        LDAP operations if an authenticated connection is not passed from the
        authentication filter according to the setting for
        "reuseAuthenticatedConnection".</p><p>Default: "root"</p></dd><dt><span class="term">"authorizationPolicy" (gateway only)</span></dt><dd><p>Specifies how to handle LDAP authorization. The following values
        are supported.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>"proxy" (default) means use proxied authorization when no
          authenticated connection is provided for reuse, resolving the
          authorization ID according to the setting for
          "proxyAuthzIdTemplate".</p></li><li class="listitem"><p>"none" means do not use proxied authorization and do not reuse
          authenticated connections, but instead use connections from the
          factory specified in "ldapConnectionFactory".</p></li><li class="listitem"><p>"reuse" means reuse an authenticated connection passed by the
          filter, and fail if no connection was passed by the filter.</p></li></ul></div></dd><dt><span class="term">"proxyAuthzIdTemplate" (gateway only)</span></dt><dd><p>Specifies the template to derive the authorization ID from the
        security context created during authentication. Use
        <code class="literal">{dn}</code> to indicate the user's bind DN or
        <code class="literal">{id}</code> to indicate the user name provided for
        authentication.</p><p>Default: "dn:{dn}"</p></dd><dt><span class="term">"mappings"</span></dt><dd><p>For each collection URI such as <code class="literal">/users</code> and
       <code class="literal">/groups</code>, you configure a mapping between the JSON
       resource returned over HTTP, and the LDAP entry returned by the
       directory service.</p><div class="variablelist"><p>Each mapping has a number of configuration elements.</p><dl class="variablelist"><dt><span class="term">"baseDN" (required)</span></dt><dd><p>The base DN where LDAP entries are found for this mapping.</p></dd><dt><span class="term">"readOnUpdatePolicy" (optional)</span></dt><dd><p>The policy used to read an entry before it is deleted, or to
          read an entry after it is added or modified. One of the following.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>"controls": (default) use RFC 4527 read-entry controls to
            reflect the state of the resource at the time the update was
            performed.</p><p>The directory service must support RFC 4527.</p></li><li class="listitem"><p>"disabled": do not read the entry or return the resource on
            update.</p></li><li class="listitem"><p>"search": perform an LDAP search to retrieve the entry before
            deletion or after it is added or modified.</p><p>The JSON resource returned might differ from the LDAP entry
            that was updated.</p></li></ul></div></dd><dt><span class="term">"useSubtreeDelete" (required)</span></dt><dd><p>Whether to use the LDAP Subtree Delete Request Control (OID:
          <code class="literal">1.2.840.113556.1.4.805</code>) for LDAP delete operations
          resulting from delete operations on resources.</p><p>Default: <code class="literal">false</code>. The default configuration
          uses <code class="literal">false</code>.</p><p>Set this to <code class="literal">true</code> if you want this behavior,
          if your directory server supports the control, and if clients that
          request delete operations have access to use the control.</p></dd><dt><span class="term">"usePermissiveModify" (required)</span></dt><dd><p>Whether to use the LDAP Permissive Modify Request Control (OID:
          <code class="literal">1.2.840.113556.1.4.1413</code>) for LDAP modify operations
          resulting from patch and update operations on resources.</p><p>Default: <code class="literal">false</code>. The default configuration
          uses <code class="literal">true</code>.</p><p>Set this to <code class="literal">false</code> when using the gateway if
          your directory server does not support the control.</p></dd><dt><span class="term">"etagAttribute" (optional)</span></dt><dd><p>The LDAP attribute to use for multi-version concurrency control
          (MVCC).</p><p>Default: "etag"</p></dd><dt><span class="term">"namingStrategy" (required)</span></dt><dd><p>The approach used to map LDAP entry names to JSON resources. The
          following naming strategies are supported.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>RDN and resource ID are both derived from a single user
            attribute in the LDAP entry, as in the following example, where the
            <code class="literal">uid</code> attribute is the RDN and its value is the
            JSON resource ID.</p><pre class="codelisting prettyprint">{
    "namingStrategy": {
        "strategy": "clientDNNaming",
        "dnAttribute": "uid"
    }
}</pre></li><li class="listitem"><p>RDN and resource ID are derived from separate user attributes
            in the LDAP entry, as in the following example where the RDN
            attribute is <code class="literal">uid</code> but the JSON resource ID is the
            value of the <code class="literal">mail</code> attribute.</p><pre class="codelisting prettyprint">{
    "namingStrategy": {
        "strategy": "clientNaming",
        "dnAttribute": "uid",
        "idAttribute": "mail"
    }
}</pre></li><li class="listitem"><p>RDN is derived from a user attribute and the resource ID from
            an operational attribute in the LDAP entry, as in the following
            example, where the RDN attribute is <code class="literal">uid</code> but the
            JSON resource ID is the value of the <code class="literal">entryUUID</code>
            operational attribute.</p><pre class="codelisting prettyprint">{
    "namingStrategy": {
        "strategy": "serverNaming",
        "dnAttribute": "uid",
        "idAttribute": "entryUUID"
    }
}</pre></li></ul></div></dd><dt><span class="term">"additionalLDAPAttributes" (optional, but necessary)</span></dt><dd><p>LDAP attributes to include during LDAP add operations as an
          array of type-value lists, such as the following example.</p><pre class="codelisting prettyprint">{
    "additionalLDAPAttributes": [
        {
            "type": "objectClass",
            "values": [
                "top",
                "person",
                "organizationalPerson",
                "inetOrgPerson"
            ]
        }
    ]
}</pre><p>This configuration element is useful to set LDAP object classes
          for example, which are not present in JSON resources.</p></dd><dt><span class="term">"attributes" (required)</span></dt><dd><p>How the JSON resource fields map to attributes on LDAP
          entries, each taking the form "<em class="replaceable"><code>field-name</code></em>":
          <em class="replaceable"><code>mapping-object</code></em>. A number of
          <em class="replaceable"><code>mapping-object</code></em>s are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">"constant"</span></dt><dd><p>Maps a single JSON attribute to a fixed value.</p><p>This can be useful as in the default case where each JSON
            resource "schemas" takes the SCIM URN, and so the value is not
            related to the underlying LDAP entries.</p><pre class="codelisting prettyprint">{
    "schemas": {
        "constant": [
            "urn:scim:schemas:core:1.0"
        ]
    }
}</pre></dd><dt><span class="term">"simple"</span></dt><dd><p>Maps a JSON field to an LDAP attribute.</p><p>Simple mappings are used where the correspondence between
             JSON fields and LDAP attributes is one-to-one.</p><pre class="codelisting prettyprint">{
    "userName": {
        "simple": {
            "ldapAttribute": "mail",
            "isSingleValued": true,
            "writability": "readOnly"
        }
    }
}</pre><div class="itemizedlist"><p>Simple mappings can take a number of fields.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>(Required) "ldapAttribute": the name of LDAP attribute.</p></li><li class="listitem"><p>(Optional) "defaultJSONValue": the JSON value if no LDAP
               attribute is available on the entry.</p><p>No default is set if this is omitted.</p></li><li class="listitem"><p>(Optional) "isBinary": true means the LDAP attribute is
               binary and the JSON field gets the base64-encoded value.</p><p>Default: <code class="literal">false</code></p></li><li class="listitem"><p>(Optional) "isRequired": true means the LDAP attribute is
               mandatory and must be provided to create the resource; false
               means it is optional.</p><p>Default: <code class="literal">false</code></p></li><li class="listitem"><p>(Optional) "isSingleValued": true means represent a
               possibly multi-valued LDAP attribute as a single value; false
               means represent it as an array of values.</p><p>Default: determine the representation based on the LDAP
               schema, so SINGLE-VALUE attributes take single values, and
               multi-valued attributes take arrays.</p></li><li class="listitem"><p>(Optional) "writability": indicates whether the LDAP
               attribute supports updates. This field can take the following
               values.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>"createOnly": This attribute can be set only when the
                 entry is created. Attempts to update this attribute thereafter
                 result in errors.</p></li><li class="listitem"><p>"createOnlyDiscardWrites": This attribute can be set only
                 when the entry is created. Attempts to update this attribute
                 thereafter do not result in errors. Instead the update value
                 is discarded.</p></li><li class="listitem"><p>"readOnly": This attribute cannot be written. Attempts to
                 write this attribute result in errors.</p></li><li class="listitem"><p>"readOnlyDiscardWrites": This attribute cannot be written.
                 Attempts to write this attribute do not result in errors.
                 Instead the value to write is discarded.</p></li><li class="listitem"><p>"readWrite": (default) This attribute can be set at
                 creation and updated thereafter.</p></li></ul></div></li></ul></div></dd><dt><span class="term">"object"</span></dt><dd><p>Maps a JSON object to LDAP attributes.</p><p>This mapping lets you create JSON objects whose fields
             themselves have mappings to LDAP attributes.</p></dd><dt><span class="term">"reference"</span></dt><dd><p>Maps a JSON field to an LDAP entry found by reference.</p><p>This mapping works for LDAP attributes whose values reference
             other entries. This is shown in the following example from the
             default configuration. The LDAP <code class="literal">manager</code>
             attribute values are user entry DNs. Here, the JSON
             <code class="literal">manager</code> field takes the user ID and name from
             the entry referenced by the LDAP attribute. On updates, changes
             to the JSON manager <code class="literal">_id</code> affect which manager
             entry is referenced, yet any changes to the manager's name are
             discarded, because changing managers only affects which user entry
             to point to, not the referenced user's name.</p><pre class="codelisting prettyprint">{
    "manager": {
        "reference": {
            "ldapAttribute": "manager",
            "baseDN": "ou=people,dc=example,dc=com",
            "primaryKey": "uid",
            "mapper": {
                "object": {
                    "_id": {
                        "simple": {
                            "ldapAttribute": "uid",
                            "isSingleValued": true,
                            "isRequired": true
                        }
                    },
                    "displayName": {
                        "simple": {
                            "ldapAttribute": "cn",
                            "isSingleValued": true,
                            "writability": "readOnlyDiscardWrites"
                        }
                    }
                }
            }
        }
    }
}</pre><p>Babs Jensen's manager in the sample LDAP data is Torrey
             Rigden, who has user ID <code class="literal">trigden</code>. Babs's entry has
             <code class="literal">manager: uid=trigden,ou=People,dc=example,dc=com</code>.
             With this mapping, the resulting JSON field is the following.</p><pre class="codelisting prettyprint">{
    "manager": [
        {
            "_id": "trigden",
            "displayName": "Torrey Rigden"
        }
    ]
}</pre><div class="itemizedlist"><p>Reference mapping objects have the following fields.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>(Required) "baseDN": indicates the base LDAP DN under which
               to find entries referenced by the JSON resource.</p></li><li class="listitem"><p>(Required) "ldapAttribute": specifies the LDAP attribute in
               the entry underlying the JSON resource whose value points to the
               referenced entry.</p></li><li class="listitem"><p>(Required) "mapper": describes how the referenced entry
               content maps to the content of this JSON field.</p></li><li class="listitem"><p>(Required) "primaryKey": indicates which LDAP attribute in
               the mapper holds the primary key to the referenced entry.</p></li><li class="listitem"><p>(Optional) "isRequired": true means the LDAP attribute is
               mandatory and must be provided to create the resource; false
               means it is optional.</p><p>Default: <code class="literal">false</code></p></li><li class="listitem"><p>(Optional) "isSingleValued": true means represent a
               possibly multi-valued LDAP attribute as a single value; false
               means represent it as an array of values.</p><p>Default: <code class="literal">false</code></p></li><li class="listitem"><p>(Optional) "searchFilter": specifies the LDAP filter to
               use to search for the referenced entry. The default is
               <code class="literal">"(objectClass=*)"</code>.</p></li><li class="listitem"><p>(Optional) "writability": indicates whether the mapping
               supports updates, as described above for the simple mapping. The
               default is "readWrite".</p></li></ul></div></dd></dl></div></dd></dl></div><p>The default mappings expose a SCIM view of user and group
       data.</p><pre class="codelisting prettyprint linenums lang-js">{
    "/users": {
        "baseDN": "ou=people,dc=example,dc=com",
        "readOnUpdatePolicy": "controls",
        "useSubtreeDelete": false,
        "usePermissiveModify": true,
        "etagAttribute": "etag",
        "namingStrategy": {
            "strategy": "clientDNNaming",
            "dnAttribute": "uid"
        },
        "additionalLDAPAttributes": [
            {
                "type": "objectClass",
                "values": [
                    "top",
                    "person",
                    "organizationalPerson",
                    "inetOrgPerson"
                ]
            }
        ],
        "attributes": {
            "schemas": {
                "constant": [
                    "urn:scim:schemas:core:1.0"
                ]
            },
            "_id": {
                "simple": {
                    "ldapAttribute": "uid",
                    "isSingleValued": true,
                    "isRequired": true,
                    "writability": "createOnly"
                }
            },
            "_rev": {
                "simple": {
                    "ldapAttribute": "etag",
                    "isSingleValued": true,
                    "writability": "readOnly"
                }
            },
            "userName": {
                "simple": {
                    "ldapAttribute": "mail",
                    "isSingleValued": true,
                    "writability": "readOnly"
                }
            },
            "displayName": {
                "simple": {
                    "ldapAttribute": "cn",
                    "isSingleValued": true,
                    "isRequired": true
                }
            },
            "name": {
                "object": {
                    "givenName": {
                        "simple": {
                            "ldapAttribute": "givenName",
                            "isSingleValued": true
                        }
                    },
                    "familyName": {
                        "simple": {
                            "ldapAttribute": "sn",
                            "isSingleValued": true,
                            "isRequired": true
                        }
                    }
                }
            },
            "manager": {
                "reference": {
                    "ldapAttribute": "manager",
                    "baseDN": "ou=people,dc=example,dc=com",
                    "primaryKey": "uid",
                    "mapper": {
                        "object": {
                            "_id": {
                                "simple": {
                                    "ldapAttribute": "uid",
                                    "isSingleValued": true,
                                    "isRequired": true
                                }
                            },
                            "displayName": {
                                "simple": {
                                    "ldapAttribute": "cn",
                                    "isSingleValued": true,
                                    "writability": "readOnlyDiscardWrites"
                                }
                            }
                        }
                    }
                }
            },
            "groups": {
                "reference": {
                    "ldapAttribute": "isMemberOf",
                    "baseDN": "ou=groups,dc=example,dc=com",
                    "writability": "readOnly",
                    "primaryKey": "cn",
                    "mapper": {
                        "object": {
                            "_id": {
                                "simple": {
                                    "ldapAttribute": "cn",
                                    "isSingleValued": true
                                }
                            }
                        }
                    }
                }
            },
            "contactInformation": {
                "object": {
                    "telephoneNumber": {
                        "simple": {
                            "ldapAttribute": "telephoneNumber",
                            "isSingleValued": true
                        }
                    },
                    "emailAddress": {
                        "simple": {
                            "ldapAttribute": "mail",
                            "isSingleValued": true
                        }
                    }
                }
            },
            "meta": {
                "object": {
                    "created": {
                        "simple": {
                            "ldapAttribute": "createTimestamp",
                            "isSingleValued": true,
                            "writability": "readOnly"
                        }
                    },
                    "lastModified": {
                        "simple": {
                            "ldapAttribute": "modifyTimestamp",
                            "isSingleValued": true,
                            "writability": "readOnly"
                        }
                    }
                }
            }
        }
    },
    "/groups": {
        "baseDN": "ou=groups,dc=example,dc=com",
        "readOnUpdatePolicy": "controls",
        "useSubtreeDelete": false,
        "usePermissiveModify": true,
        "etagAttribute": "etag",
        "namingStrategy": {
            "strategy": "clientDNNaming",
            "dnAttribute": "cn"
        },
        "additionalLDAPAttributes": [
            {
                "type": "objectClass",
                "values": [
                    "top",
                    "groupOfUniqueNames"
                ]
            }
        ],
        "attributes": {
            "schemas": {
                "constant": [
                    "urn:scim:schemas:core:1.0"
                ]
            },
            "_id": {
                "simple": {
                    "ldapAttribute": "cn",
                    "isSingleValued": true,
                    "isRequired": true,
                    "writability": "createOnly"
                }
            },
            "_rev": {
                "simple": {
                    "ldapAttribute": "etag",
                    "isSingleValued": true,
                    "writability": "readOnly"
                }
            },
            "displayName": {
                "simple": {
                    "ldapAttribute": "cn",
                    "isSingleValued": true,
                    "isRequired": true,
                    "writability": "readOnly"
                }
            },
            "members": {
                "reference": {
                    "ldapAttribute": "uniqueMember",
                    "baseDN": "dc=example,dc=com",
                    "primaryKey": "uid",
                    "mapper": {
                        "object": {
                            "_id": {
                                "simple": {
                                    "ldapAttribute": "uid",
                                    "isSingleValued": true,
                                    "isRequired": true
                                }
                            },
                            "displayName": {
                                "simple": {
                                    "ldapAttribute": "cn",
                                    "isSingleValued": true,
                                    "writability": "readOnlyDiscardWrites"
                                }
                            }
                        }
                    }
                }
            },
            "meta": {
                "object": {
                    "created": {
                        "simple": {
                            "ldapAttribute": "createTimestamp",
                            "isSingleValued": true,
                            "writability": "readOnly"
                        }
                    },
                    "lastModified": {
                        "simple": {
                            "ldapAttribute": "modifyTimestamp",
                            "isSingleValued": true,
                            "writability": "readOnly"
                        }
                    }
                }
            }
        }
    }
}</pre></dd></dl></div></dd></dl></div></div><div lang="en" class="appendix" id="appendix-file-layout"><div class="titlepage"><div><div><h1 class="title">Appendix&nbsp;B.&nbsp;File Layout</h1></div></div></div><p>OpenDJ software installs and creates the following files and
 directories. The following list is not necessarily exhaustive.</p><a class="indexterm" name="d0e28816"></a><a class="indexterm" name="d0e28819"></a><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="filename">QuickSetup.app</code></span></dt><dd><p>Mac OS X GUI for installing OpenDJ</p></dd><dt><span class="term"><code class="filename">Uninstall.app</code></span></dt><dd><p>Mac OS X GUI for removing OpenDJ</p></dd><dt><span class="term"><code class="filename">bak</code></span></dt><dd><p>Directory for saving backup files</p></dd><dt><span class="term"><code class="filename">bat</code></span></dt><dd><p>Windows command-line tools and control panel</p></dd><dt><span class="term"><code class="filename">bin</code></span></dt><dd><p>UNIX/Linux/Mac OS X command-line tools and control panel</p></dd><dt><span class="term"><code class="filename">changelogDb</code></span></dt><dd><p>JE backend data for the external change log when using
    replication</p></dd><dt><span class="term"><code class="filename">classes</code></span></dt><dd><p>Directory added to the <code class="literal">CLASSPATH</code> for OpenDJ,
    permitting individual classes to be patched</p></dd><dt><span class="term"><code class="filename">config</code></span></dt><dd><p>OpenDJ server configuration and schema, PKI stores, LDIF generation
    templates, resources for upgrade</p></dd><dt><span class="term"><code class="filename">config/MakeLDIF</code></span></dt><dd><p>Templates for use with the <span class="command"><strong>make-ldif</strong></span> LDIF
    generation tool</p></dd><dt><span class="term"><code class="filename">config/config.ldif</code></span></dt><dd><p>LDIF representation of current OpenDJ server config</p><p>Use the <span class="command"><strong>dsconfig</strong></span> command to edit OpenDJ server
    configuration.</p></dd><dt><span class="term"><code class="filename">config/java.properties</code></span></dt><dd><p>JVM settings for OpenDJ server and tools</p></dd><dt><span class="term"><code class="filename">config/schema</code></span></dt><dd><p>OpenDJ directory server LDAP schema definition files</p></dd><dt><span class="term"><code class="filename">config/tasks.ldif</code></span></dt><dd><p>Data used by task scheduler backend so that scheduled tasks and
    recurring tasks persist after server restart</p></dd><dt><span class="term"><code class="filename">config/tools.properties</code></span></dt><dd><p>Default settings for command-line tools</p><p>Use as a template when creating an
    <code class="filename">~/.opendj/tools.properties</code> file.</p></dd><dt><span class="term"><code class="filename">config/upgrade</code></span></dt><dd><p>Resources used by the upgrade command to move to the next version
    of OpenDJ</p></dd><dt><span class="term"><code class="filename">config/wordlist.txt</code></span></dt><dd><p>List of words used to check password strength</p></dd><dt><span class="term"><code class="filename">db</code></span></dt><dd><p>JE backend data for backends that you create</p></dd><dt><span class="term"><code class="filename">example-plugin.zip</code></span></dt><dd><p>Sample OpenDJ plugin code. Custom plugins are meant to be installed
    in <code class="filename">lib/extensions</code>.</p></dd><dt><span class="term"><code class="filename">import-tmp</code></span></dt><dd><p>Used when importing data into OpenDJ</p></dd><dt><span class="term"><code class="filename">instance.loc</code></span></dt><dd><p>Pointer to OpenDJ on the file system, useful in installations where
    the program files are separate from the server instance files</p></dd><dt><span class="term"><code class="filename">ldif</code></span></dt><dd><p>Directory for saving LDIF export files</p></dd><dt><span class="term"><code class="filename">legal-notices</code></span></dt><dd><p>License information</p></dd><dt><span class="term"><code class="filename">lib</code></span></dt><dd><p>Scripts and libraries needed by OpenDJ and added to the
    <code class="literal">CLASSPATH</code> for OpenDJ</p></dd><dt><span class="term"><code class="filename">lib/extensions</code></span></dt><dd><p>File system directory to hold your custom plugins</p></dd><dt><span class="term"><code class="filename">locks</code></span></dt><dd><p>Directory to hold lock files used when OpenDJ is running to prevent
    backends from accidentally being used by more than one server process</p></dd><dt><span class="term"><code class="filename">logs</code></span></dt><dd><p>Access, errors, audit, and replication logs</p></dd><dt><span class="term"><code class="filename">logs/server.pid</code></span></dt><dd><p>Contains the process ID for the server when OpenDJ is running</p></dd><dt><span class="term"><code class="filename">setup</code></span></dt><dd><p>UNIX setup utility</p></dd><dt><span class="term"><code class="filename">setup.bat</code></span></dt><dd><p>Windows setup utility</p></dd><dt><span class="term"><code class="filename">uninstall</code></span></dt><dd><p>UNIX utility for removing OpenDJ</p></dd><dt><span class="term"><code class="filename">uninstall.bat</code></span></dt><dd><p>Windows utility for removing OpenDJ</p></dd><dt><span class="term"><code class="filename">upgrade</code></span></dt><dd><p>UNIX utility for upgrading OpenDJ by pointing to the new .zip</p></dd><dt><span class="term"><code class="filename">upgrade.bat</code></span></dt><dd><p>Windows utility for upgrading OpenDJ by pointing to the new .zip</p></dd></dl></div></div><div lang="en" class="appendix" id="appendix-ports-used"><div class="titlepage"><div><div><h1 class="title">Appendix&nbsp;C.&nbsp;Ports Used</h1></div></div></div><p>OpenDJ server software uses the following TCP/IP ports by default.</p><div class="variablelist"><dl class="variablelist"><dt id="ldap-port"><span class="term">LDAP: 389 (1389)</span></dt><dd><a class="indexterm" name="d0e29088"></a><p>OpenDJ directory server listens for LDAP requests from client
    applications on port 389 by default. OpenDJ directory server uses port
    1389 by default for users who cannot use privileged ports. LDAP is enabled
    by default.</p></dd><dt id="ldaps-port"><span class="term">LDAPS: 636 (1636)</span></dt><dd><a class="indexterm" name="d0e29099"></a><p>OpenDJ directory server listens for LDAPS requests from client
    applications on port 636 by default. OpenDJ directory server uses port
    1636 by default for users who cannot use privileged ports. LDAPS is not
    enabled by default.</p></dd><dt id="admin-port"><span class="term">Administrative connections: 4444</span></dt><dd><a class="indexterm" name="d0e29110"></a><p>OpenDJ directory server listens for administrative traffic on port
    4444 by default. The administration connector is enabled by default.</p></dd><dt id="snmp-port"><span class="term">SNMP: 161, 162</span></dt><dd><a class="indexterm" name="d0e29121"></a><a class="indexterm" name="d0e29126"></a><p>OpenDJ directory server listens for SNMP traffic on port 161 by
    default, and uses port 162 for traps. SNMP is not enabled by default.</p></dd><dt id="jmx-port"><span class="term">JMX: 1689</span></dt><dd><a class="indexterm" name="d0e29137"></a><p>OpenDJ directory server listens for Java Management eXtension
    traffic on port 1689 by default. JMX is not enabled by default.</p></dd><dt id="http-port"><span class="term">HTTP: 8080</span></dt><dd><a class="indexterm" name="d0e29148"></a><p>OpenDJ directory server can listen for HTTP client requests to the
    RESTful API. The default port is 8080, but HTTP access is not enabled by
    default.</p></dd><dt id="repl-port"><span class="term">Replication: 8989</span></dt><dd><a class="indexterm" name="d0e29159"></a><p>OpenDJ directory server listens for replication traffic
    on port 8989 by default. Replication is not enabled by default.</p></dd></dl></div></div><div lang="en" class="appendix" id="appendix-standards"><div class="titlepage"><div><div><h1 class="title">Appendix&nbsp;D.&nbsp;Standards, RFCs, &amp; Internet-Drafts</h1></div></div></div><p>OpenDJ 4.8.1-SNAPSHOT software implements the following
 RFCs, Internet-Drafts, and standards.</p><div class="variablelist"><dl class="variablelist"><dt id="rfc1274"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc1274" target="_top">RFC 1274:
   The COSINE and Internet X.500 Schema</a></span></dt><dd><a class="indexterm" name="d0e29179"></a><p>X.500 Directory Schema, or Naming Architecture, for use in the
    COSINE and Internet X.500 pilots.</p></dd><dt id="rfc1321"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc1321" target="_top">RFC 1321:
   The MD5 Message-Digest Algorithm</a></span></dt><dd><a class="indexterm" name="d0e29191"></a><p>MD5 message-digest algorithm that takes as input a message of
    arbitrary length and produces as output a 128-bit "fingerprint" or
    "message digest" of the input.</p></dd><dt id="rfc1777"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc1777" target="_top">RFC 1777:
   Lightweight Directory Access Protocol (LDAPv2)</a></span></dt><dd><a class="indexterm" name="d0e29203"></a><p>Provide access to the X.500 Directory while not incurring the
    resource requirements of the Directory Access Protocol.</p><p>Classified as an Historic document.</p></dd><dt id="rfc1778"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc1778" target="_top">RFC 1778:
   The String Representation of Standard Attribute Syntaxes</a></span></dt><dd><a class="indexterm" name="d0e29217"></a><p>Defines the requirements that must be satisfied by encoding
    rules used to render X.500 Directory attribute syntaxes into a form
    suitable for use in the LDAP, then defines the encoding rules for the
    standard set of attribute syntaxes.</p><p>Classified as an Historic document.</p></dd><dt id="rfc1779"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc1779" target="_top">RFC 1779:
   A String Representation of Distinguished Names</a></span></dt><dd><a class="indexterm" name="d0e29231"></a><p>Defines a string format for representing names, which is designed
    to give a clean representation of commonly used names, whilst being
    able to represent any distinguished name.</p><p>Classified as an Historic document.</p></dd><dt id="rfc2079"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2079" target="_top">RFC 2079:
   Definition of an X.500 Attribute Type and an Object Class to Hold
   Uniform Resource Identifiers (URIs)</a></span></dt><dd><a class="indexterm" name="d0e29245"></a><p>Defines a new attribute type and an auxiliary object class to
    allow URIs, including URLs, to be stored in directory entries in a
    standard way.</p></dd><dt id="rfc2222"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2222" target="_top">RFC 2222:
   Simple Authentication and Security Layer (SASL)</a></span></dt><dd><a class="indexterm" name="d0e29257"></a><p>Describes a method for adding authentication support to
    connection-based protocols.</p></dd><dt id="rfc2246"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2246" target="_top">RFC 2246:
   The TLS Protocol Version 1.0</a></span></dt><dd><a class="indexterm" name="d0e29269"></a><p>Specifies Version 1.0 of the Transport Layer Security
    protocol.</p></dd><dt id="rfc2247"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2247" target="_top">RFC 2247:
   Using Domains in LDAP/X.500 Distinguished Names</a></span></dt><dd><a class="indexterm" name="d0e29281"></a><p>Defines an algorithm by which a name registered with the Internet
    Domain Name Service can be represented as an LDAP distinguished name.</p></dd><dt id="rfc2251"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2251" target="_top">RFC 2251:
   Lightweight Directory Access Protocol (v3)</a></span></dt><dd><a class="indexterm" name="d0e29293"></a><p>Describes a directory access protocol designed to provide access
    to directories supporting the X.500 models, while not incurring the
    resource requirements of the X.500 Directory Access Protocol.</p></dd><dt id="rfc2252"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2252" target="_top">RFC 2252:
   Lightweight Directory Access Protocol (v3): Attribute Syntax
   Definitions</a></span></dt><dd><a class="indexterm" name="d0e29305"></a><p>Defines a set of syntaxes for LDAPv3, and the rules by which
    attribute values of these syntaxes are represented as octet strings
    for transmission in the LDAP protocol.</p></dd><dt id="rfc2253"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2253" target="_top">RFC 2253:
   Lightweight Directory Access Protocol (v3): UTF-8 String Representation
   of Distinguished Names</a></span></dt><dd><a class="indexterm" name="d0e29317"></a><p>Defines a common UTF-8 format to represent distinguished names
    unambiguously.</p></dd><dt id="rfc2254"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2254" target="_top">RFC 2254:
   The String Representation of LDAP Search Filters</a></span></dt><dd><a class="indexterm" name="d0e29329"></a><p>Defines the string format for representing names, which is designed
    to give a clean representation of commonly used distinguished names,
    while being able to represent any distinguished name.</p></dd><dt id="rfc2255"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2255" target="_top">RFC 2255:
   The LDAP URL Format</a></span></dt><dd><a class="indexterm" name="d0e29341"></a><p>Describes a format for an LDAP Uniform Resource Locator.</p></dd><dt id="rfc2256"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2256" target="_top">RFC 2256:
   A Summary of the X.500(96) User Schema for use with LDAPv3</a></span></dt><dd><a class="indexterm" name="d0e29353"></a><p>Provides an overview of the attribute types and object classes
    defined by the ISO and ITU-T committees in the X.500 documents, in
    particular those intended for use by directory clients.</p></dd><dt id="rfc2307"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2307" target="_top">RFC 2307:
   An Approach for Using LDAP as a Network Information Service</a></span></dt><dd><a class="indexterm" name="d0e29365"></a><p>Describes an experimental mechanism for mapping entities related
    to TCP/IP and the UNIX system into X.500 entries so that they may be
    resolved with the Lightweight Directory Access Protocol.</p></dd><dt id="rfc2377"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2377" target="_top">RFC 2377:
   Naming Plan for Internet Directory-Enabled Applications</a></span></dt><dd><a class="indexterm" name="d0e29377"></a><p>Proposes a new directory naming plan that leverages the strengths
    of the most popular and successful Internet naming schemes for naming
    objects in a hierarchical directory.</p></dd><dt id="rfc2696"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2696" target="_top">RFC 2696:
   LDAP Control Extension for Simple Paged Results Manipulation</a></span></dt><dd><a class="indexterm" name="d0e29389"></a><p>Allows a client to control the rate at which an LDAP server
    returns the results of an LDAP search operation.</p></dd><dt id="rfc2713"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2713" target="_top">RFC 2713:
   Schema for Representing Java(tm) Objects in an LDAP Directory</a></span></dt><dd><a class="indexterm" name="d0e29401"></a><p>Defines a common way for applications to store and retrieve Java
    objects from the directory.</p></dd><dt id="rfc2714"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2714" target="_top">RFC 2714:
   Schema for Representing CORBA Object References in an LDAP
   Directory</a></span></dt><dd><a class="indexterm" name="d0e29413"></a><p>Define a common way for applications to store and retrieve CORBA
    object references from the directory.</p></dd><dt id="rfc2739"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2739" target="_top">RFC 2739:
   Calendar Attributes for vCard and LDAP</a></span></dt><dd><a class="indexterm" name="d0e29425"></a><p>Defines a mechanism to locate a user calendar and free/busy time
    using the LDAP protocol.</p></dd><dt id="rfc2798"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2798" target="_top">RFC 2798:
   Definition of the inetOrgPerson LDAP Object Class</a></span></dt><dd><a class="indexterm" name="d0e29437"></a><p>Define an object class called inetOrgPerson for use in LDAP and
    X.500 directory services that extends the X.521 standard
    organizationalPerson class.</p></dd><dt id="rfc2829"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2829" target="_top">RFC 2829:
   Authentication Methods for LDAP</a></span></dt><dd><a class="indexterm" name="d0e29449"></a><p>Specifies particular combinations of security mechanisms which
    are required and recommended in LDAP implementations.</p></dd><dt id="rfc2830"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2830" target="_top">RFC 2830:
   Lightweight Directory Access Protocol (v3): Extension for Transport
   Layer Security</a></span></dt><dd><a class="indexterm" name="d0e29461"></a><p>Defines the "Start Transport Layer Security (TLS) Operation"
    for LDAP.</p></dd><dt id="rfc2849"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2849" target="_top">RFC 2849:
   The LDAP Data Interchange Format (LDIF) - Technical
   Specification</a></span></dt><dd><a class="indexterm" name="d0e29473"></a><a class="indexterm" name="d0e29478"></a><p>Describes a file format suitable for describing directory
    information or modifications made to directory information.</p></dd><dt id="rfc2891"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2891" target="_top">RFC 2891:
   LDAP Control Extension for Server Side Sorting of Search Results</a></span></dt><dd><a class="indexterm" name="d0e29490"></a><p>Describes two LDAPv3 control extensions for server side
   sorting of search results.</p></dd><dt id="rfc2926"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc2926" target="_top">RFC 2926:
   Conversion of LDAP Schemas to and from SLP Templates</a></span></dt><dd><a class="indexterm" name="d0e29502"></a><p>Describes a procedure for mapping between Service Location
    Protocol service advertisements and lightweight directory access
    protocol descriptions of services.</p></dd><dt id="rfc3045"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3045" target="_top">RFC 3045:
   Storing Vendor Information in the LDAP root DSE</a></span></dt><dd><a class="indexterm" name="d0e29514"></a><p>Specifies two Lightweight Directory Access Protocol attributes,
    vendorName and vendorVersion that MAY be included in the root
    DSA-specific Entry (DSE) to advertise vendor-specific information.</p></dd><dt id="rfc3062"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3062" target="_top">RFC 3062:
   LDAP Password Modify Extended Operation</a></span></dt><dd><a class="indexterm" name="d0e29526"></a><p>Describes an LDAP extended operation to allow modification of
    user passwords which is not dependent upon the form of the authentication
    identity nor the password storage mechanism used.</p></dd><dt id="rfc3112"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3112" target="_top">RFC 3112:
   LDAP Authentication Password Schema</a></span></dt><dd><a class="indexterm" name="d0e29538"></a><p>Describes schema in support of user/password authentication in
    a LDAP directory including the authPassword attribute type. This
    attribute type holds values derived from the user's password(s)
    (commonly using cryptographic strength one-way hash).</p></dd><dt id="rfc3377"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3377" target="_top">RFC 3377:
   Lightweight Directory Access Protocol (v3): Technical
   Specification</a></span></dt><dd><a class="indexterm" name="d0e29550"></a><p>Specifies the set of RFCs comprising the Lightweight Directory
    Access Protocol Version 3 (LDAPv3), and addresses the "IESG Note"
    attached to RFCs 2251 through 2256.</p></dd><dt id="rfc3383"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3383" target="_top">RFC 3383:
   Internet Assigned Numbers Authority (IANA) Considerations for the
   Lightweight Directory Access Protocol (LDAP)</a></span></dt><dd><a class="indexterm" name="d0e29562"></a><p>Provides procedures for registering extensible elements
    of the Lightweight Directory Access Protocol (LDAP).</p></dd><dt id="rfc3546"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3546" target="_top">RFC 3546:
   Transport Layer Security (TLS) Extensions</a></span></dt><dd><a class="indexterm" name="d0e29574"></a><p>Describes extensions that may be used to add functionality to
    Transport Layer Security.</p></dd><dt id="rfc3671"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3671" target="_top">RFC 3671:
   Collective Attributes in the Lightweight Directory Access Protocol
   (LDAP)</a></span></dt><dd><a class="indexterm" name="d0e29586"></a><p>Summarizes the X.500 information model for collective attributes
    and describes use of collective attributes in LDAP.</p></dd><dt id="rfc3672"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3672" target="_top">RFC 3672:
   Subentries in the Lightweight Directory Access Protocol
   (LDAP)</a></span></dt><dd><a class="indexterm" name="d0e29598"></a><p>Adapts X.500 subentries mechanisms for use with the Lightweight
    Directory Access Protocol (LDAP).</p></dd><dt id="rfc3673"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3673" target="_top">RFC 3673:
   Lightweight Directory Access Protocol version 3 (LDAPv3): All Operational
   Attributes</a></span></dt><dd><a class="indexterm" name="d0e29610"></a><p>Describes an LDAP extension which clients may use to request the
    return of all operational attributes.</p></dd><dt id="rfc3674"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3674" target="_top">RFC 3674:
   Feature Discovery in Lightweight Directory Access Protocol
   (LDAP)</a></span></dt><dd><a class="indexterm" name="d0e29622"></a><p>Introduces a general mechanism for discovery of elective features
    and extensions which cannot be discovered using existing mechanisms.</p></dd><dt id="rfc3771"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3771" target="_top">RFC 3771:
   Lightweight Directory Access Protocol (LDAP) Intermediate Response
   Message</a></span></dt><dd><a class="indexterm" name="d0e29634"></a><p>Defines and describes the IntermediateResponse message, a general
    mechanism for defining single-request/multiple-response operations in
    Lightweight Directory Access Protocol.</p></dd><dt id="rfc3829"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3829" target="_top">RFC 3829:
   Lightweight Directory Access Protocol (LDAP) Authorization Identity
   Request and Response Controls</a></span></dt><dd><a class="indexterm" name="d0e29646"></a><p>Extends the Lightweight Directory Access Protocol bind operation
    with a mechanism for requesting and returning the authorization identity
    it establishes.</p></dd><dt id="rfc3876"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3876" target="_top">RFC 3876:
   Returning Matched Values with the Lightweight Directory Access Protocol
   version 3 (LDAPv3)</a></span></dt><dd><a class="indexterm" name="d0e29658"></a><p>Describes a control for the Lightweight Directory Access Protocol
    version 3 that is used to return a subset of attribute values from an
    entry.</p></dd><dt id="rfc3909"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc3909" target="_top">RFC 3909:
   Lightweight Directory Access Protocol (LDAP) Cancel Operation</a></span></dt><dd><a class="indexterm" name="d0e29670"></a><p>Describes a Lightweight Directory Access Protocol extended operation
    to cancel (or abandon) an outstanding operation, with a response to
    indicate the outcome of the operation.</p></dd><dt id="rfc4346"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4346" target="_top">RFC 4346:
   The Transport Layer Security (TLS) Protocol Version 1.1</a></span></dt><dd><a class="indexterm" name="d0e29682"></a><p>Specifies Version 1.1 of the Transport Layer Security
    protocol.</p></dd><dt id="rfc4370"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4370" target="_top">RFC 4370:
   Lightweight Directory Access Protocol (LDAP) Proxied Authorization
   Control</a></span></dt><dd><a class="indexterm" name="d0e29694"></a><p>Defines the Proxy Authorization Control, that allows a client
    to request that an operation be processed under a provided authorization
    identity instead of under the current authorization identity associated
    with the connection.</p></dd><dt id="rfc4403"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4403" target="_top">RFC 4403:
   Lightweight Directory Access Protocol (LDAP) Schema for Universal
   Description, Discovery, and Integration version 3 (UDDIv3)</a></span></dt><dd><a class="indexterm" name="d0e29706"></a><p>Defines the Lightweight Directory Access Protocol schema for
    representing Universal Description, Discovery, and Integration
    data types in an LDAP directory.</p></dd><dt id="rfc4422"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4422" target="_top">RFC 4422:
   Simple Authentication and Security Layer (SASL)</a></span></dt><dd><a class="indexterm" name="d0e29718"></a><p>Describes a framework for providing authentication and data
    security services in connection-oriented protocols via replaceable
    mechanisms.</p></dd><dt id="rfc4505"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4505" target="_top">RFC 4505:
   Anonymous Simple Authentication and Security Layer (SASL)
   Mechanism</a></span></dt><dd><a class="indexterm" name="d0e29730"></a><p>Describes a new way to provide anonymous login is needed
    within the context of the Simple Authentication and Security
    Layer framework.</p></dd><dt id="rfc4510"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4510" target="_top">RFC 4510:
   Lightweight Directory Access Protocol (LDAP): Technical Specification
   Road Map</a></span></dt><dd><a class="indexterm" name="d0e29742"></a><p>Provides a road map of the LDAP Technical Specification.</p></dd><dt id="rfc4511"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4511" target="_top">RFC 4511:
   Lightweight Directory Access Protocol (LDAP): The Protocol</a></span></dt><dd><a class="indexterm" name="d0e29754"></a><p>Describes the protocol elements, along with their semantics and
    encodings, of the Lightweight Directory Access Protocol.</p></dd><dt id="rfc4512"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4512" target="_top">RFC 4512:
   Lightweight Directory Access Protocol (LDAP): Directory Information
   Models</a></span></dt><dd><a class="indexterm" name="d0e29766"></a><p>Describes the X.500 Directory Information Models as used in
    LDAP.</p></dd><dt id="rfc4513"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4513" target="_top">RFC 4513:
   Lightweight Directory Access Protocol (LDAP): Authentication Methods
   and Security Mechanisms</a></span></dt><dd><a class="indexterm" name="d0e29778"></a><p>Describes authentication methods and security mechanisms of the
    Lightweight Directory Access Protocol.</p></dd><dt id="rfc4514"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4514" target="_top">RFC 4514:
   Lightweight Directory Access Protocol (LDAP): String Representation of
   Distinguished Names</a></span></dt><dd><a class="indexterm" name="d0e29790"></a><p>Defines the string representation used in the Lightweight Directory
    Access Protocol to transfer distinguished names.</p></dd><dt id="rfc4515"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4515" target="_top">RFC 4515:
   Lightweight Directory Access Protocol (LDAP): String Representation
   of Search Filters</a></span></dt><dd><a class="indexterm" name="d0e29802"></a><p>Defines a human-readable string representation of LDAP search
    filters that is appropriate for use in LDAP URLs and in other
    applications.</p></dd><dt id="rfc4516"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4516" target="_top">RFC 4516:
   Lightweight Directory Access Protocol (LDAP): Uniform Resource
   Locator</a></span></dt><dd><a class="indexterm" name="d0e29814"></a><p>Describes a format for a Lightweight Directory Access Protocol
    Uniform Resource Locator.</p></dd><dt id="rfc4517"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4517" target="_top">RFC 4517:
   Lightweight Directory Access Protocol (LDAP): Syntaxes and Matching
   Rules</a></span></dt><dd><a class="indexterm" name="d0e29826"></a><p>Defines a base set of syntaxes and matching rules for use in
    defining attributes for LDAP directories.</p></dd><dt id="rfc4518"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4518" target="_top">RFC 4518:
   Lightweight Directory Access Protocol (LDAP): Internationalized
   String Preparation</a></span></dt><dd><a class="indexterm" name="d0e29838"></a><p>Defines string preparation algorithms for character-based matching
    rules defined for use in LDAP.</p></dd><dt id="rfc4519"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4519" target="_top">RFC 4519:
   Lightweight Directory Access Protocol (LDAP): Schema for User
   Applications</a></span></dt><dd><a class="indexterm" name="d0e29850"></a><p>Provides a technical specification of attribute types and object
    classes intended for use by LDAP directory clients for many directory
    services, such as White Pages.</p></dd><dt id="rfc4524"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4524" target="_top">RFC 4524:
   COSINE LDAP/X.500 Schema</a></span></dt><dd><a class="indexterm" name="d0e29862"></a><p>Provides a collection of schema elements for use with the
    Lightweight Directory Access Protocol from the COSINE and Internet
    X.500 pilot projects.</p></dd><dt id="rfc4525"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4525" target="_top">RFC 4525:
   Lightweight Directory Access Protocol (LDAP) Modify-Increment
   Extension</a></span></dt><dd><a class="indexterm" name="d0e29874"></a><p>Describes an extension to the Lightweight Directory Access
    Protocol Modify operation to support an increment capability.</p></dd><dt id="rfc4526"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4526" target="_top">RFC 4526:
   Lightweight Directory Access Protocol (LDAP) Absolute True and False
   Filters</a></span></dt><dd><a class="indexterm" name="d0e29886"></a><p>Extends the Lightweight Directory Access Protocol to support
    absolute True and False filters based upon similar capabilities found
    in X.500 directory systems.</p></dd><dt id="rfc4527"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4527" target="_top">RFC 4527:
   Lightweight Directory Access Protocol (LDAP) Read Entry
   Controls</a></span></dt><dd><a class="indexterm" name="d0e29898"></a><p>Specifies an extension to the Lightweight Directory Access
    Protocol to allow the client to read the target entry of an update
    operation.</p></dd><dt id="rfc4528"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4528" target="_top">RFC 4528:
   Lightweight Directory Access Protocol (LDAP) Assertion
   Control</a></span></dt><dd><a class="indexterm" name="d0e29910"></a><p>Defines the Lightweight Directory Access Protocol Assertion
    Control, which allows a client to specify that a directory operation
    should only be processed if an assertion applied to the target entry
    of the operation is true.</p></dd><dt id="rfc4529"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4529" target="_top">RFC 4529:
   Requesting Attributes by Object Class in the Lightweight Directory
   Access Protocol (LDAP)</a></span></dt><dd><a class="indexterm" name="d0e29922"></a><p>Extends LDAP to support a mechanism that LDAP clients may use to
    request the return of all attributes of an object class.</p></dd><dt id="rfc4530"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4530" target="_top">RFC 4530:
   Lightweight Directory Access Protocol (LDAP) entryUUID Operational
   Attribute</a></span></dt><dd><a class="indexterm" name="d0e29934"></a><p>Describes the LDAP/X.500 'entryUUID' operational attribute and
    associated matching rules and syntax.</p></dd><dt id="rfc4532"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4532" target="_top">RFC 4532:
   Lightweight Directory Access Protocol (LDAP) "Who am I?"
   Operation</a></span></dt><dd><a class="indexterm" name="d0e29946"></a><p>Provides a mechanism for Lightweight Directory Access Protocol
    clients to obtain the authorization identity the server has associated
    with the user or application entity.</p></dd><dt id="rfc4616"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4616" target="_top">RFC 4616:
   The PLAIN Simple Authentication and Security Layer (SASL)
   Mechanism</a></span></dt><dd><a class="indexterm" name="d0e29958"></a><p>Defines a simple clear-text user/password Simple Authentication
    and Security Layer mechanism called the PLAIN mechanism.</p></dd><dt id="rfc4634"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4634" target="_top">RFC 4634:
   US Secure Hash Algorithms (SHA and HMAC-SHA)</a></span></dt><dd><a class="indexterm" name="d0e29970"></a><p>Specifies Secure Hash Algorithms, SHA-256, SHA-384, and SHA-512,
    for computing a condensed representation of a message or a data file.</p></dd><dt id="rfc4752"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4752" target="_top">RFC 4752:
   The Kerberos V5 ("GSSAPI") Simple Authentication and Security Layer
   (SASL) Mechanism</a></span></dt><dd><a class="indexterm" name="d0e29982"></a><p>Describes the method for using the Generic Security
   Service Application Program Interface (GSS-API) Kerberos V5 in the
   Simple Authentication and Security Layer, called the GSSAPI mechanism.</p></dd><dt id="rfc4876"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc4876" target="_top">RFC 4876:
   A Configuration Profile Schema for Lightweight Directory Access Protocol
   (LDAP)-Based Agents</a></span></dt><dd><a class="indexterm" name="d0e29994"></a><p>Defines a schema for storing a profile for agents that make use
    of the Lightweight Directory Access protocol (LDAP).</p></dd><dt id="rfc5020"><span class="term"><a class="link" href="http://tools.ietf.org/html/rfc5020" target="_top">RFC 5020:
   The Lightweight Directory Access Protocol (LDAP) entryDN Operational
   Attribute</a></span></dt><dd><a class="indexterm" name="d0e30006"></a><p>Describes the Lightweight Directory Access Protocol
   (LDAP) / X.500 'entryDN' operational attribute, that
   provides a copy of the entry's distinguished name for use in
   attribute value assertions.</p></dd><dt id="fips180-1"><span class="term"><a class="link" href="http://www.itl.nist.gov/fipspubs/fip180-1.htm" target="_top">FIPS 180-1: Secure Hash Standard (SHA-1)</a></span></dt><dd><a class="indexterm" name="d0e30018"></a><p>Specifies a Secure Hash Algorithm, SHA-1, for computing a condensed
    representation of a message or a data file.</p></dd><dt id="fips180-2"><span class="term"><a class="link" href="http://csrc.nist.gov/publications/fips/fips180-2/fips180-2.pdf" target="_top">FIPS 180-2: Secure Hash Standard (SHA-1, SHA-256, SHA-384,
   SHA-512)</a></span></dt><dd><a class="indexterm" name="d0e30030"></a><p>Specifies four Secure Hash Algorithms for computing a condensed
    representation of electronic data.</p></dd><dt id="dsmlv2"><span class="term"><a class="link" href="http://www.oasis-open.org/committees/dsml/docs/DSMLv2.xsd" target="_top">DSMLv2: Directory Service Markup Language</a></span></dt><dd><a class="indexterm" name="d0e30042"></a><p>Provides a method for expressing directory queries and updates as
    XML documents.</p></dd><dt><span class="term"><a class="link" href="http://www.json.org" target="_blank">JavaScript Object Notation</a></span></dt><dd><a class="indexterm" name="d0e30054"></a><p>A data-interchange format that aims to be both "easy for humans to
    read and write," and also "easy for machines to parse and generate."</p></dd><dt><span class="term"><a class="link" href="http://www.simplecloud.info/specs/draft-scim-core-schema-00.html" target="_blank">Simple Cloud Identity Management: Core Schema 1.0</a></span></dt><dd><a class="indexterm" name="d0e30066"></a><p>Platform neutral schema and extension model for representing users
    and groups in JSON and XML formats. OpenDJ supports the JSON formats.</p></dd></dl></div></div><div lang="en" class="appendix" id="appendix-controls"><div class="titlepage"><div><div><h1 class="title">Appendix&nbsp;E.&nbsp;LDAP Controls</h1></div></div></div><p>Controls provide a mechanism whereby the semantics and arguments of
 existing LDAP operations may be extended. One or more controls may be
 attached to a single LDAP message. A control only affects the semantics of
 the message it is attached to. Controls sent by clients are termed
 <span class="emphasis"><em>request controls</em></span>, and those sent by servers are termed
 <span class="emphasis"><em>response controls</em></span>.</p><p>OpenDJ software supports the following LDAP controls.</p><div class="variablelist"><dl class="variablelist"><dt id="account-usability-control"><span class="term">Account Usability Control</span></dt><dd><a class="indexterm" name="d0e30092"></a><p>Object Identifier: 1.3.6.1.4.1.42.2.27.9.5.8</p><p>Control originally provided by Sun Microsystems, used to determine
    whether a user account can be used to authenticate to the directory.</p></dd><dt id="assertion-request-control"><span class="term">Assertion Request Control</span></dt><dd><a class="indexterm" name="d0e30105"></a><p>Object Identifier: 1.3.6.1.1.12</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc4528" target="_top">RFC 4528
    - Lightweight Directory Access Protocol (LDAP) Assertion Control</a>
    </p></dd><dt id="authorization-identity-request-control"><span class="term">Authorization Identity Request Control</span></dt><dd><a class="indexterm" name="d0e30121"></a><p>Object Identifier: 2.16.840.1.113730.3.4.16</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc3829" target="_top">RFC 3829
    - Lightweight Directory Access Protocol (LDAP) Authorization Identity
    Request and Response Controls</a></p></dd><dt id="authorization-identity-response-control"><span class="term">Authorization Identity Response Control</span></dt><dd><a class="indexterm" name="d0e30136"></a><p>Object Identifier: 2.16.840.1.113730.3.4.15</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc3829" target="_top">RFC 3829
    - Lightweight Directory Access Protocol (LDAP) Authorization Identity
    Request and Response Controls</a></p></dd><dt id="entry-change-notification-response-control"><span class="term">Entry Change Notification Response Control</span></dt><dd><a class="indexterm" name="d0e30151"></a><p>Object Identifier: 2.16.840.1.113730.3.4.7</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-ietf-ldapext-psearch" target="_top">draft-ietf-ldapext-psearch - Persistent Search: A Simple LDAP Change
    Notification Mechanism</a></p></dd><dt id="get-effective-rights-request-control"><span class="term">Get Effective Rights Request Control</span></dt><dd><a class="indexterm" name="d0e30166"></a><p>Object Identifier: 1.3.6.1.4.1.42.2.27.9.5.2</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-ietf-ldapext-acl-model" target="_top">draft-ietf-ldapext-acl-model - Access Control Model for LDAPv3</a>
    </p></dd><dt id="manage-dsait-request-control"><span class="term">Manage DSAIT Request Control</span></dt><dd><a class="indexterm" name="d0e30182"></a><p>Object Identifier: 2.16.840.1.113730.3.4.2</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc3296" target="_top">RFC 3296
    - Named Subordinate References in Lightweight Directory Access Protocol
    (LDAP) Directories</a></p></dd><dt id="matched-values-request-control"><span class="term">Matched Values Request Control</span></dt><dd><a class="indexterm" name="d0e30197"></a><p>Object Identifier: 1.2.826.0.1.3344810.2.3</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc3876" target="_top">RFC 3876
    - Returning Matched Values with the Lightweight Directory Access Protocol
    version 3 (LDAPv3)</a></p></dd><dt id="noop-control"><span class="term">No-Op Control</span></dt><dd><a class="indexterm" name="d0e30212"></a><p>Object Identifier: 1.3.6.1.4.1.4203.1.10.2</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-zeilenga-ldap-noop-01" target="_top">draft-zeilenga-ldap-noop - LDAP No-Op Control</a></p></dd><dt id="password-expired-response-control"><span class="term">Password Expired Response Control</span></dt><dd><a class="indexterm" name="d0e30227"></a><p>Object Identifier: 2.16.840.1.113730.3.4.4</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-vchu-ldap-pwd-policy" target="_top">draft-vchu-ldap-pwd-policy - Password Policy for LDAP Directories</a>
    </p></dd><dt id="password-expiring-response-control"><span class="term">Password Expiring Response Control</span></dt><dd><a class="indexterm" name="d0e30243"></a><p>Object Identifier: 2.16.840.1.113730.3.4.5</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-vchu-ldap-pwd-policy" target="_top">draft-vchu-ldap-pwd-policy - Password Policy for LDAP Directories</a>
    </p></dd><dt id="password-policy-response-control"><span class="term">Password Policy Response Control</span></dt><dd><a class="indexterm" name="d0e30259"></a><p>Object Identifier: 1.3.6.1.4.1.42.2.27.8.5.1</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-behera-ldap-password-policy" target="_top">draft-behera-ldap-password-policy - Password Policy for LDAP
    Directories</a></p></dd><dt id="permissive-modify-request-control"><span class="term">Permissive Modify Request Control</span></dt><dd><a class="indexterm" name="d0e30274"></a><p>Object Identifier: 1.2.840.113556.1.4.1413</p><p>Microsoft defined this control that, "Allows an LDAP modify to work
    under less restrictive conditions. Without it, a delete will fail if an
    attribute done not exist, and an add will fail if an attribute already
    exists. No data is needed in this control." (<a class="link" href="http://www.alvestrand.no/objectid/1.2.840.113556.1.4.1413.html" target="_top">source of quote</a>)</p></dd><dt id="persistent-search-request-control"><span class="term">Persistent Search Request Control</span></dt><dd><a class="indexterm" name="d0e30290"></a><p>Object Identifier: 2.16.840.1.113730.3.4.3</p><p>Internet-Draft:
    <a class="link" href="http://tools.ietf.org/html/draft-ietf-ldapext-psearch" target="_top">draft-ietf-ldapext-psearch - Persistent Search: A Simple LDAP Change
    Notification Mechanism</a></p></dd><dt id="post-read-request-control"><span class="term">Post-Read Request Control</span></dt><dd><a class="indexterm" name="d0e30305"></a><p>Object Identifier: 1.3.6.1.1.13.2</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc4527" target="_top">RFC 4527
    - Lightweight Directory Access Protocol (LDAP) Read Entry Controls</a>
   </p></dd><dt id="post-read-response-control"><span class="term">Post-Read Response Control</span></dt><dd><a class="indexterm" name="d0e30321"></a><p>Object Identifier: 1.3.6.1.1.13.2</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc4527" target="_top">RFC 4527
    - Lightweight Directory Access Protocol (LDAP) Read Entry Controls</a>
    </p></dd><dt id="pre-read-request-control"><span class="term">Pre-Read Request Control</span></dt><dd><a class="indexterm" name="d0e30337"></a><p>Object Identifier: 1.3.6.1.1.13.1</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc4527" target="_top">RFC 4527
    - Lightweight Directory Access Protocol (LDAP) Read Entry Controls</a>
    </p></dd><dt id="pre-read-response-control"><span class="term">Pre-Read Response Control</span></dt><dd><a class="indexterm" name="d0e30353"></a><p>Object Identifier: 1.3.6.1.1.13.1</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc4527" target="_top">RFC 4527
    - Lightweight Directory Access Protocol (LDAP) Read Entry Controls</a>
    </p></dd><dt id="proxied-authorization-v1-request-control"><span class="term">Proxied Authorization v1 Request Control</span></dt><dd><a class="indexterm" name="d0e30369"></a><p>Object Identifier: 2.16.840.1.113730.3.4.12</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-weltman-ldapv3-proxy-04" target="_top">draft-weltman-ldapv3-proxy-04 - LDAP Proxied Authorization Control</a>
    </p></dd><dt id="proxied-autorization-v2-request-control"><span class="term">Proxied Authorization v2 Request Control</span></dt><dd><a class="indexterm" name="d0e30385"></a><p>Object Identifier: 2.16.840.1.113730.3.4.18</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc4370" target="_top">RFC 4370
    - Lightweight Directory Access Protocol (LDAP) Proxied Authorization
    Control</a></p></dd><dt id="public-changelog-exchange-control"><span class="term">Public Changelog Exchange Control</span></dt><dd><a class="indexterm" name="d0e30400"></a><p>Object Identifier: 1.3.6.1.4.1.26027.1.5.4</p><p>OpenDJ specific, for using the bookmark cookie when reading
    the external change log.</p></dd><dt id="server-side-sort-request-control"><span class="term">Server Side Sort Request Control</span></dt><dd><a class="indexterm" name="d0e30413"></a><p>Object Identifier: 1.2.840.113556.1.4.473</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc2891" target="_top">RFC 2891
    - LDAP Control Extension for Server Side Sorting of Search Results</a>
    </p></dd><dt id="server-side-sort-response-control"><span class="term">Server Side Sort Response Control</span></dt><dd><a class="indexterm" name="d0e30429"></a><p>Object Identifier: 1.2.840.113556.1.4.474</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc2891" target="_top">RFC 2891
    - LDAP Control Extension for Server Side Sorting of Search Results</a>
    </p></dd><dt id="simple-paged-results-control"><span class="term">Simple Paged Results Control</span></dt><dd><a class="indexterm" name="d0e30445"></a><p>Object Identifier: 1.2.840.113556.1.4.319</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc2696" target="_top">RFC 2696 
    - LDAP Control Extension for Simple Paged Results Manipulation</a>
    </p></dd><dt id="subentries-request-controls"><span class="term">Subentries Request Controls</span></dt><dd><a class="indexterm" name="d0e30461"></a><p>Object Identifier: 1.3.6.1.4.1.4203.1.10.1</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc3672" target="_top">Subentries in the Lightweight Directory Access Protocol (LDAP)</a></p><p>Object Identifier: 1.3.6.1.4.1.7628.5.101.1</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-ietf-ldup-subentry" target="_top">draft-ietf-ldup-subentry - LDAP Subentry Schema</a></p></dd><dt id="subtree-delete-request-control"><span class="term">Subtree Delete Request Control</span></dt><dd><a class="indexterm" name="d0e30482"></a><p>Object Identifier: 1.2.840.113556.1.4.805</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-armijo-ldap-treedelete" target="_top">draft-armijo-ldap-treedelete - Tree Delete Control</a></p></dd><dt id="virtual-list-view-request-control"><span class="term">Virtual List View Request Control</span></dt><dd><a class="indexterm" name="d0e30497"></a><p>Object Identifier: 2.16.840.1.113730.3.4.9</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-ietf-ldapext-ldapv3-vlv" target="_top">draft-ietf-ldapext-ldapv3-vlv - LDAP Extensions for Scrolling View
    Browsing of Search Results</a></p></dd><dt id="virtual-list-view-response-control"><span class="term">Virtual List View Response Control</span></dt><dd><a class="indexterm" name="d0e30512"></a><p>Object Identifier: 2.16.840.1.113730.3.4.10</p><p>Internet-Draft: <a class="link" href="http://tools.ietf.org/html/draft-ietf-ldapext-ldapv3-vlv" target="_top">draft-ietf-ldapext-ldapv3-vlv - LDAP Extensions for Scrolling View
    Browsing of Search Results</a></p></dd><dt id="relax-rules-control"><span class="term">The LDAP Relax Rules Control</span></dt><dd><a class="indexterm" name="d0e30527"></a><p>Object Identifier: 1.3.6.1.4.1.4203.666.5.12</p><p>Internet-Draft: <a class="link" href="https://tools.ietf.org/html/draft-zeilenga-ldap-relax-03" target="_top">ddraft-zeilenga-ldap-relax-03 - The LDAP Relax Rules Control</a></p></dd></dl></div></div><div lang="en" class="appendix" id="appendix-extended-ops"><div class="titlepage"><div><div><h1 class="title">Appendix&nbsp;F.&nbsp;LDAP Extended Operations</h1></div></div></div><p>Extended operations allow additional operations to be defined for
 services not already available in the protocol</p><p>OpenDJ software supports the following LDAP extended operations.</p><div class="variablelist"><dl class="variablelist"><dt id="cancel-extended-request"><span class="term">Cancel Extended Request</span></dt><dd><a class="indexterm" name="d0e30551"></a><p>Object Identifier: 1.3.6.1.1.8</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc3909" target="_top">RFC 3909
    - Lightweight Directory Access Protocol (LDAP) Cancel Operation</a>
    </p></dd><dt id="get-connection-id-extended-request"><span class="term">Get Connection ID Extended Request</span></dt><dd><a class="indexterm" name="d0e30567"></a><p>Object Identifier: 1.3.6.1.4.1.26027.1.6.2</p><p>OpenDJ extended operation to return the connection ID of the
    associated client connection. This extended operation is intended for OpenDJ
    internal use.</p></dd><dt id="password-modify-extended-request"><span class="term">Password Modify Extended Request</span></dt><dd><a class="indexterm" name="d0e30580"></a><p>Object Identifier: 1.3.6.1.4.1.4203.1.11.1</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc3909" target="_top">RFC 3062
    - LDAP Password Modify Extended Operation</a></p></dd><dt id="password-policy-state-extended-operation"><span class="term">Password Policy State Extended Operation</span></dt><dd><a class="indexterm" name="d0e30595"></a><p>Object Identifier: 1.3.6.1.4.1.26027.1.6.1</p><p>OpenDJ extended operation to query and update password policy state
    for a given user entry. This extended operation is intended for OpenDJ
    internal use.</p></dd><dt id="start-transport-layer-security-extended-request"><span class="term">Start Transport Layer Security Extended Request</span></dt><dd><a class="indexterm" name="d0e30608"></a><p>Object Identifier: 1.3.6.1.4.1.1466.20037</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc4511" target="_top">RFC 4511
    - Lightweight Directory Access Protocol (LDAP): The Protocol</a></p></dd><dt id="who-am-i-extended-request"><span class="term">Who am I? Extended Request</span></dt><dd><a class="indexterm" name="d0e30623"></a><p>Object Identifier: 1.3.6.1.4.1.4203.1.11.3</p><p>RFC: <a class="link" href="http://tools.ietf.org/html/rfc4532" target="_top">RFC 4532
    - Lightweight Directory Access Protocol (LDAP) "Who am I?" Operation</a>
    </p></dd></dl></div></div><div lang="en" class="appendix" id="appendix-l10n"><div class="titlepage"><div><div><h1 class="title">Appendix&nbsp;G.&nbsp;Localization</h1></div></div></div><p>OpenDJ software stores data in UTF-8 format. It enables you to store
 and to search for attribute values according to a variety of language
 specific locales. OpenDJ software is also itself localized for a smaller
 variety of languages.</p><div class="section" id="supported-languages"><div class="titlepage"><div><div><h2 class="title" style="clear: both">G.1.&nbsp;OpenDJ Languages</h2></div></div></div><a class="indexterm" name="d0e30644"></a><p>OpenDJ 4.8.1-SNAPSHOT software has been localized
  in the following languages.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>French</p></li><li class="listitem"><p>German</p></li><li class="listitem"><p>Japanese</p></li><li class="listitem"><p>Simplified Chinese</p></li><li class="listitem"><p>Spanish</p></li></ul></div><div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title">Note</h3></div><div class="panel-body"><p>Certain messages have also been translated into Catalan, Korean,
   Polish, and Traditional Chinese. Some error messages including messages
   labeled SEVERE and FATAL are provided only in English.</p></div></div></div><div class="section" id="supported-locales"><div class="titlepage"><div><div><h2 class="title" style="clear: both">G.2.&nbsp;Directory Support For Locales and Language Subtypes</h2></div></div></div><a class="indexterm" name="d0e30671"></a><p>OpenDJ software supports the following locales, with their
  associated language and country codes, and their collation order
  object identifiers. Locale support depends on the underlying Java
  Virtual Machine.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Albanian</span></dt><dd><p>Code tag: sq</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.127.1</p></dd><dt><span class="term">Arabic</span></dt><dd><p>Code tag: ar</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.3.1</p></dd><dt><span class="term">Arabic (Algeria)</span></dt><dd><p>Code tag: ar-DZ</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.6.1</p></dd><dt><span class="term">Arabic (Bahrain)</span></dt><dd><p>Code tag: ar-BH</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.5.1</p></dd><dt><span class="term">Arabic (Egypt)</span></dt><dd><p>Code tag: ar-EG</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.7.1</p></dd><dt><span class="term">Arabic (Iraq)</span></dt><dd><p>Code tag: ar-IQ</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.9.1</p></dd><dt><span class="term">Arabic (Jordan)</span></dt><dd><p>Code tag: ar-JO</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.10.1</p></dd><dt><span class="term">Arabic (Kuwait)</span></dt><dd><p>Code tag: ar-KW</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.11.1</p></dd><dt><span class="term">Arabic (Lebanon)</span></dt><dd><p>Code tag: ar-LB</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.12.1</p></dd><dt><span class="term">Arabic (Libya)</span></dt><dd><p>Code tag: ar-LY</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.13.1</p></dd><dt><span class="term">Arabic (Morocco)</span></dt><dd><p>Code tag: ar-MA</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.14.1</p></dd><dt><span class="term">Arabic (Oman)</span></dt><dd><p>Code tag: ar-OM</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.15.1</p></dd><dt><span class="term">Arabic (Qatar)</span></dt><dd><p>Code tag: ar-QA</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.16.1</p></dd><dt><span class="term">Arabic (Saudi Arabia)</span></dt><dd><p>Code tag: ar-SA</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.17.1</p></dd><dt><span class="term">Arabic (Sudan)</span></dt><dd><p>Code tag: ar-SD</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.18.1</p></dd><dt><span class="term">Arabic (Syria)</span></dt><dd><p>Code tag: ar-SY</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.19.1</p></dd><dt><span class="term">Arabic (Tunisia)</span></dt><dd><p>Code tag: ar-TN</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.20.1</p></dd><dt><span class="term">Arabic (United Arab Emirates)</span></dt><dd><p>Code tag: ar-AE</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.4.1</p></dd><dt><span class="term">Arabic (Yemen)</span></dt><dd><p>Code tag: ar-YE</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.21.1</p></dd><dt><span class="term">Belarusian</span></dt><dd><p>Code tag: be</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.22.1</p></dd><dt><span class="term">Bulgarian</span></dt><dd><p>Code tag: bg</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.23.1</p></dd><dt><span class="term">Catalan</span></dt><dd><p>Code tag: ca</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.25.1</p></dd><dt><span class="term">Chinese</span></dt><dd><p>Code tag: zh</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.143.1</p></dd><dt><span class="term">Chinese (Simplified) (China)</span></dt><dd><p>Code tag: zh-CN</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.144.1</p></dd><dt><span class="term">Chinese (Traditional) (Hong Kong)</span></dt><dd><p>Code tag: zh-HK</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.145.1</p></dd><dt><span class="term">Chinese (Traditional) (Taiwan)</span></dt><dd><p>Code tag: zh-TW</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.148.1</p></dd><dt><span class="term">Croatian</span></dt><dd><p>Code tag: hr</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.87.1</p></dd><dt><span class="term">Czech</span></dt><dd><p>Code tag: cs</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.26.1</p></dd><dt><span class="term">Danish</span></dt><dd><p>Code tag: da</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.27.1</p></dd><dt><span class="term">Dutch</span></dt><dd><p>Code tag: nl</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.105.1</p></dd><dt><span class="term">Dutch (Belgium)</span></dt><dd><p>Code tag: nl-BE</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.106.1</p></dd><dt><span class="term">Dutch (Netherlands)</span></dt><dd><p>Code tag: nl-NL</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.105.1</p></dd><dt><span class="term">English</span></dt><dd><p>Code tag: en</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.34.1</p></dd><dt><span class="term">English (Australia)</span></dt><dd><p>Code tag: en-AU</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.35.1</p></dd><dt><span class="term">English (Canada)</span></dt><dd><p>Code tag: en-CA</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.36.1</p></dd><dt><span class="term">English (Great Britain)</span></dt><dd><p>Code tag: en-GB</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.37.1</p></dd><dt><span class="term">English (India)</span></dt><dd><p>Code tag: en-IN</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.40.1</p></dd><dt><span class="term">English (Ireland)</span></dt><dd><p>Code tag: en-IE</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.39.1</p></dd><dt><span class="term">English (New Zealand)</span></dt><dd><p>Code tag: en-NZ</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.42.1</p></dd><dt><span class="term">English (South Africa)</span></dt><dd><p>Code tag: en-ZA</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.46.1</p></dd><dt><span class="term">English (United States)</span></dt><dd><p>Code tag: en-US</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.34.1</p></dd><dt><span class="term">Estonian</span></dt><dd><p>Code tag: et</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.69.1</p></dd><dt><span class="term">Finnish</span></dt><dd><p>Code tag: fi</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.74.1</p></dd><dt><span class="term">French</span></dt><dd><p>Code tag: fr</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.76.1</p></dd><dt><span class="term">French (Belgium)</span></dt><dd><p>Code tag: fr-BE</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.77.1</p></dd><dt><span class="term">French (Canada)</span></dt><dd><p>Code tag: fr-CA</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.78.1</p></dd><dt><span class="term">French (France)</span></dt><dd><p>Code tag: fr-FR</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.76.1</p></dd><dt><span class="term">French (Luxembourg)</span></dt><dd><p>Code tag: fr-LU</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.80.1</p></dd><dt><span class="term">French (Switzerland)</span></dt><dd><p>Code tag: fr-CH</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.79.1</p></dd><dt><span class="term">German</span></dt><dd><p>Code tag: de</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.28.1</p></dd><dt><span class="term">German (Austria)</span></dt><dd><p>Code tag: de-AT</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.29.1</p></dd><dt><span class="term">German (Germany)</span></dt><dd><p>Code tag: de-DE</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.28.1</p></dd><dt><span class="term">German (Luxembourg)</span></dt><dd><p>Code tag: de-LU</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.32.1</p></dd><dt><span class="term">German (Switzerland)</span></dt><dd><p>Code tag: de-CH</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.31.1</p></dd><dt><span class="term">Greek</span></dt><dd><p>Code tag: el</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.33.1</p></dd><dt><span class="term">Hebrew</span></dt><dd><p>Code tag: he</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.85.1</p></dd><dt><span class="term">Hungarian</span></dt><dd><p>Code tag: hu</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.88.1</p></dd><dt><span class="term">Icelandic</span></dt><dd><p>Code tag: is</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.91.1</p></dd><dt><span class="term">Italian</span></dt><dd><p>Code tag: it</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.92.1</p></dd><dt><span class="term">Italian (Switzerland)</span></dt><dd><p>Code tag: it-CH</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.93.1</p></dd><dt><span class="term">Japanese</span></dt><dd><p>Code tag: ja</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.94.1</p></dd><dt><span class="term">Korean</span></dt><dd><p>Code tag: ko</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.97.1</p></dd><dt><span class="term">Latvian</span></dt><dd><p>Code tag: lv</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.101.1</p></dd><dt><span class="term">Lithuanian</span></dt><dd><p>Code tag: lt</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.100.1</p></dd><dt><span class="term">Macedonian</span></dt><dd><p>Code tag: mk</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.102.1</p></dd><dt><span class="term">Norwegian</span></dt><dd><p>Code tag: no</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.107.1</p></dd><dt><span class="term">Norwegian (Bokm&aring;l)</span></dt><dd><p>Code tag: no-NO</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.107.1</p></dd><dt><span class="term">Norwegian (Nynorsk)</span></dt><dd><p>Code tag: no-NO-NY</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.108.1</p></dd><dt><span class="term">Polish</span></dt><dd><p>Code tag: pl</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.114.1</p></dd><dt><span class="term">Portuguese</span></dt><dd><p>Code tag: pt</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.115.1</p></dd><dt><span class="term">Portuguese (Brazil)</span></dt><dd><p>Code tag: pt-BR</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.116.1</p></dd><dt><span class="term">Portuguese (Portugal)</span></dt><dd><p>Code tag: pt-PT</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.115.1</p></dd><dt><span class="term">Romanian</span></dt><dd><p>Code tag: ro</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.117.1</p></dd><dt><span class="term">Russian</span></dt><dd><p>Code tag: ru</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.118.1</p></dd><dt><span class="term">Russian (Russia)</span></dt><dd><p>Code tag: ru-RU</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.118.1</p></dd><dt><span class="term">Serbian</span></dt><dd><p>Code tag: sr</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.128.1</p></dd><dt><span class="term">Slovak</span></dt><dd><p>Code tag: sk</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.121.1</p></dd><dt><span class="term">Slovenian</span></dt><dd><p>Code tag: sl</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.122.1</p></dd><dt><span class="term">Spanish</span></dt><dd><p>Code tag: es</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.49.1</p></dd><dt><span class="term">Spanish (Argentina)</span></dt><dd><p>Code tag: es-AR</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.50.1</p></dd><dt><span class="term">Spanish (Bolivia)</span></dt><dd><p>Code tag: es-BO</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.51.1</p></dd><dt><span class="term">Spanish (Chile)</span></dt><dd><p>Code tag: es-CL</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.52.1</p></dd><dt><span class="term">Spanish (Colombia)</span></dt><dd><p>Code tag: es-CO</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.53.1</p></dd><dt><span class="term">Spanish (Costa Rica)</span></dt><dd><p>Code tag: es-CR</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.54.1</p></dd><dt><span class="term">Spanish (Dominican Republic)</span></dt><dd><p>Code tag: es-DO</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.55.1</p></dd><dt><span class="term">Spanish (Ecuador)</span></dt><dd><p>Code tag: es-EC</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.56.1</p></dd><dt><span class="term">Spanish (El Salvador)</span></dt><dd><p>Code tag: es-SV</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.65.1</p></dd><dt><span class="term">Spanish (Guatemala)</span></dt><dd><p>Code tag: es-GT</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.57.1</p></dd><dt><span class="term">Spanish (Honduras)</span></dt><dd><p>Code tag: es-HN</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.58.1</p></dd><dt><span class="term">Spanish (Mexico)</span></dt><dd><p>Code tag: es-MX</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.59.1</p></dd><dt><span class="term">Spanish (Nicaragua)</span></dt><dd><p>Code tag: es-NI</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.60.1</p></dd><dt><span class="term">Spanish (Panama)</span></dt><dd><p>Code tag: es-PA</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.61.1</p></dd><dt><span class="term">Spanish (Paraguay)</span></dt><dd><p>Code tag: es-PY</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.64.1</p></dd><dt><span class="term">Spanish (Peru)</span></dt><dd><p>Code tag: es-PE</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.62.1</p></dd><dt><span class="term">Spanish (Puerto Rico)</span></dt><dd><p>Code tag: es-PR</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.63.1</p></dd><dt><span class="term">Spanish (Spain)</span></dt><dd><p>Code tag: es-ES</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.49.1</p></dd><dt><span class="term">Spanish (Uruguay)</span></dt><dd><p>Code tag: es-UY</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.67.1</p></dd><dt><span class="term">Spanish (Venezuela)</span></dt><dd><p>Code tag: es-VE</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.68.1</p></dd><dt><span class="term">Swedish</span></dt><dd><p>Code tag: sv</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.129.1</p></dd><dt><span class="term">Swedish (Sweden)</span></dt><dd><p>Code tag: sv-SE</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.129.1</p></dd><dt><span class="term">Thai</span></dt><dd><p>Code tag: th</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.136.1</p></dd><dt><span class="term">Turkish</span></dt><dd><p>Code tag: tr</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.140.1</p></dd><dt><span class="term">Ukranian</span></dt><dd><p>Code tag: uk</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.141.1</p></dd><dt><span class="term">Vietnamese</span></dt><dd><p>Code tag: vi</p><p>Collation order object identifier: 1.3.6.1.4.1.42.2.27.9.4.142.1</p></dd></dl></div><p>OpenDJ software supports the following language subtypes.</p><a class="indexterm" name="d0e31511"></a><div class="itemizedlist" id="supported-language-subtypes"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Albanian, sq</p></li><li class="listitem"><p>Arabic, ar</p></li><li class="listitem"><p>Belarusian, be</p></li><li class="listitem"><p>Bulgarian, bg</p></li><li class="listitem"><p>Catalan, ca</p></li><li class="listitem"><p>Chinese, zh</p></li><li class="listitem"><p>Croatian, hr</p></li><li class="listitem"><p>Czech, cs</p></li><li class="listitem"><p>Danish, da</p></li><li class="listitem"><p>Dutch, nl</p></li><li class="listitem"><p>English, en</p></li><li class="listitem"><p>Estonian, et</p></li><li class="listitem"><p>Finnish, fi</p></li><li class="listitem"><p>French, fr</p></li><li class="listitem"><p>German, de</p></li><li class="listitem"><p>Greek, el</p></li><li class="listitem"><p>Hebrew, he</p></li><li class="listitem"><p>Hungarian, hu</p></li><li class="listitem"><p>Icelandic, is</p></li><li class="listitem"><p>Italian, it</p></li><li class="listitem"><p>Japanese, ja</p></li><li class="listitem"><p>Korean, ko</p></li><li class="listitem"><p>Latvian, lv</p></li><li class="listitem"><p>Lithuanian, lt</p></li><li class="listitem"><p>Macedonian, mk</p></li><li class="listitem"><p>Norwegian, no</p></li><li class="listitem"><p>Polish, pl</p></li><li class="listitem"><p>Portuguese, pt</p></li><li class="listitem"><p>Romanian, ro</p></li><li class="listitem"><p>Russian, ru</p></li><li class="listitem"><p>Serbian, sr</p></li><li class="listitem"><p>Slovak, sk</p></li><li class="listitem"><p>Slovenian, sl</p></li><li class="listitem"><p>Spanish, es</p></li><li class="listitem"><p>Swedish, sv</p></li><li class="listitem"><p>Thai, th</p></li><li class="listitem"><p>Turkish, tr</p></li><li class="listitem"><p>Ukranian, uk</p></li><li class="listitem"><p>Vietnamese, vi</p></li></ul></div></div></div><div lang="en" class="appendix" id="appendix-interface-stability"><div class="titlepage"><div><div><h1 class="title">Appendix&nbsp;H.&nbsp;Release Levels &amp; Interface Stability</h1></div></div></div><p>This appendix includes ForgeRock definitions for product release levels
 and interface stability.</p><div class="itemizedlist"><p>In addition to the indications concerning interface stability that
  you find in the documentation, review the following information about OpenDJ
  user and application programming interfaces.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Client tools &#8212; <span class="command"><strong>ldap*</strong></span>, <span class="command"><strong>ldif*</strong></span>,
   and <span class="command"><strong>*rate</strong></span> commands &#8212; are Evolving.</p></li><li class="listitem"><p>The following classes, interfaces, and methods in the <a class="link" href="${serverJavadocBase}" target="_blank">OpenDJ directory server
   APIs</a> are Evolving.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.Connections#newInternalConnection</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.Connections#newInternalConnectionFactory</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.Connections#newServerConnectionFactory</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.FutureResult</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.LDAPClientContext</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.LDAPListener</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.LDAPListenerOptions</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.MemoryBackend</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.RequestContext</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.RequestHandler</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.RequestHandlerFactory</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.ServerConnection</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.ServerConnectionFactory</code></p></li></ul></div></li><li class="listitem"><p>The following classes and interfaces in the <a class="link" href="${sdkJavadocBase}" target="_blank">OpenDJ LDAP SDK APIs</a> are Evolving.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.ConnectionSecurityLayer</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.LDAPUrl</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.requests.BindRequest</code>, including sub-types and especially SASL sub-types</p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.schema.MatchingRuleImpl</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.schema.SchemaValidationPolicy</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.schema.SyntaxImpl</code></p></li></ul></div><p>The following methods are Deprecated.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.LDAPListenerOptions#getTCPNIOTransport</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.LDAPListenerOptions#setTCPNIOTransport</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.LDAPOptions#getTCPNIOTransport</code></p></li><li class="listitem"><p><code class="literal">org.forgerock.opendj.ldap.LDAPOptions#setTCPNIOTransport</code></p></li></ul></div><p>The class <code class="literal">org.forgerock.opendj.ldap.CoreMessages</code> is
   Internal.</p></li><li class="listitem"><p>For all Java APIs, <code class="literal">com.*</code> packages are Internal.</p></li><li class="listitem"><p>The configuration, user, and application programming interfaces for
   RESTful access over HTTP to directory data are Evolving. This includes
   interfaces exposed for the HTTP Connection Handler, its access log, and also
   the REST LDAP gateway.</p></li><li class="listitem"><p>Text in log messages should be considered Internal. Log message IDs are
   Evolving.</p></li><li class="listitem"><p>The default content of <code class="literal">cn=schema</code> (directory server
   LDAP schema) is Evolving.</p></li><li class="listitem"><p>The monitoring interface <code class="literal">cn=monitor</code> for LDAP and
   the monitoring interface exposed by the JMX Connection Handler are
   Evolving.</p></li><li class="listitem"><p>Newly Deprecated and Removed interfaces are identified in the
   <em class="citetitle">Release Notes</em> chapter, <a href="../release-notes/index.html#chap-compatibility" class="link"><em class="citetitle">OpenDJ
   Compatibility</em></a>.</p></li><li class="listitem"><p>Interfaces that are not described in released product documentation
   should be considered Internal/Undocumented. For example, the LDIF
   representation of the server configuration, <code class="filename">config.ldif</code>,
   should be considered Internal.</p></li></ul></div><div lang="en" class="section" id="release-levels"><div class="titlepage"><div><div><h2 class="title" style="clear: both">H.1.&nbsp;Open Identity Platform Product Release Levels</h2></div></div></div><p>
  Open Identity Platform defines Major, Minor, and Maintenance product release levels.

  The release level is reflected in the version number.

  The release level tells you what sort of compatibility changes to expect.
 </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Major (version: x[.0.0], trailing 0s are optional)</span></dt><dd><p>
     Major releases bring big new features.

     Major releases can include changes even to Stable interfaces.

     Major releases can remove previously Deprecated functionality,
     and in rare cases remove Evolving functionality
     that has not been explicitly Deprecated.

     Major releases also include the changes present
     in previous Minor and Maintenance releases.
    </p></dd><dt><span class="term">Minor (version: x.y[.0], trailing 0s are optional)</span></dt><dd><p>
     Minor releases might include new features,
     backwards-compatible changes to Stable interfaces in the same Major release,
     and incompatible changes to Evolving interfaces.

     Minor releases can remove previously Deprecated functionality.

     Minor releases also include the changes present in Maintenance releases.
    </p></dd><dt><span class="term">Maintenance (version: x.y.z)</span></dt><dd><p>
     Maintenance releases can include bug fixes.

     Maintenance releases are intended
     to be fully compatible with previous versions from the same Minor release.
    </p></dd></dl></div></div><div lang="en" class="section" id="interface-stability"><div class="titlepage"><div><div><h2 class="title" style="clear: both">H.2.&nbsp;Open Identity Platform Product Interface Stability</h2></div></div></div><p>
  Open Identity Platform products support many protocols, APIs, GUIs,
  and command-line interfaces.

  Some of these interfaces are standard and very stable.

  Others offer new functionality that is continuing to evolve.
 </p><p>
  We realize that you invest in these interfaces,
  and therefore must know when and how Open Identity Platform Community expects them to change.

  For that reason, Open Identity Platform Community defines interface stability labels
  and uses these definitions in Open Identity Platform products.
 </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Stable</span></dt><dd><p>
     This documented interface is expected to undergo only
     backwards-compatible changes between major releases.

     Changes are announced at least one minor release before they take effect.
    </p></dd><dt><span class="term">Evolving</span></dt><dd><p>
     This documented interface is continuing to evolve
     and so is expected to change,
     potentially in backwards-incompatible ways even in a minor release.

     Changes are documented at the time of product release.
    </p><p>
     While new protocols and APIs are still in the process of standardization,
     they are Evolving.

     This applies for example to recent Internet-Draft implementations,
     and also to newly developed functionality.
    </p></dd><dt><span class="term">Deprecated</span></dt><dd><p>
     This interface is deprecated
     and likely to be removed in a future release.

     For previously stable interfaces,
     the change was likely announced in a previous release.

     Deprecated interfaces will be removed from Open Identity Platform products.
    </p></dd><dt><span class="term">Removed</span></dt><dd><p>
     This interface was deprecated in a previous release
     and has now been removed from the product.
    </p></dd><dt><span class="term">Internal/Undocumented</span></dt><dd><p>
     Internal and undocumented interfaces can change without notice.

     If you depend on one of these interfaces,
     contact Open Identity Platform <a class="link" href="https://github.com/OpenIdentityPlatform" target="_top">support</a>
     to discuss your needs.
    </p></dd></dl></div></div></div><div class="index" id="d0e31878"><div class="titlepage"><div><div><h1 class="title">Index</h1></div></div></div><div xmlns:xlink="http://www.w3.org/1999/xlink" class="index"><div class="indexdiv"><h3>A</h3><dl><dt id="ientry-d0e1554">Access control, <a class="indexterm" href="#restrict-clients">Restricting Client Access</a>, <a class="indexterm" href="#about-acis">About Access Control Instructions</a></dt><dd><dl><dt>Debugging, <a class="indexterm" href="#get-effective-rights">Viewing Effective Rights</a></dt><dt>Disabling anonymous access, <a class="indexterm" href="#configure-acis">Configuring Access Control</a></dt><dt>Effective rights, <a class="indexterm" href="#get-effective-rights">Viewing Effective Rights</a></dt><dt>Evaluation, <a class="indexterm" href="#aci-evaluation">How ACI is Evaluated</a></dt><dt>Examples, <a class="indexterm" href="#configure-acis">Configuring Access Control</a></dt><dt>Operations, <a class="indexterm" href="#aci-required">ACI Required For LDAP Operations</a></dt><dt>Permissions, <a class="indexterm" href="#aci-permissions">ACI Permissions</a></dt><dt>Subjects, <a class="indexterm" href="#aci-subjects">ACI Subjects</a></dt><dt>Targets, <a class="indexterm" href="#aci-targets">ACI Targets</a></dt></dl></dd><dt id="ientry-d0e8195">Accounts</dt><dd><dl><dt>Activating, <a class="indexterm" href="#manage-accounts">Managing Accounts Manually</a></dt><dt>Customizing notification messages, <a class="indexterm" href="#account-status-notification">Managing Account Status Notification</a></dt><dt>Disabling, <a class="indexterm" href="#manage-accounts">Managing Accounts Manually</a></dt><dt>Lockout, <a class="indexterm" href="#configure-account-lockout">Configuring Account Lockout</a></dt><dt>Status notifications, <a class="indexterm" href="#account-status-notification">Managing Account Status Notification</a></dt></dl></dd><dt id="ientry-d0e10091">Active Directory (see <a href="#ientry-d0e9993">Pass through authentication</a>)</dt><dt id="ientry-d0e10906">Alerts, <a class="indexterm" href="#alert-notifications">Alert Notifications</a></dt><dt id="ientry-d0e4775">Authenticating, <a class="indexterm" href="#client-auth">Authenticating To the Directory Server</a></dt></dl></div><div class="indexdiv"><h3>B</h3><dl><dt id="ientry-d0e825">Backup, <a class="indexterm" href="#chap-import-export">Importing &amp; Exporting LDIF Data</a>, <a class="indexterm" href="#backup">Backing Up Directory Data</a>, <a class="indexterm" href="#restore-data">Restoring Directory Data From Backup</a></dt></dl></div><div class="indexdiv"><h3>C</h3><dl><dt id="ientry-d0e1213">Certificates, <a class="indexterm" href="#setup-server-cert">Preparing For Secure Communications</a>, <a class="indexterm" href="#client-cert-auth">Authenticating Using a Certificate</a>, <a class="indexterm" href="#chap-change-certs">Changing Server Certificates</a>, <a class="indexterm" href="#moving-servers-overview">Overview</a>, <a class="indexterm" href="#troubleshoot-compromised-key">Handling Compromised Keys</a></dt><dt id="ientry-d0e9726">Collective attributes, <a class="indexterm" href="#collective-attributes">Collective Attributes</a></dt><dt id="ientry-d0e364">Commands, <a class="indexterm" href="#cli-overview">Command-Line Tools</a></dt><dt id="ientry-d0e4382">Comparing attribute values, <a class="indexterm" href="#compare-ldap">Comparing Attribute Values</a></dt><dt id="ientry-d0e281">Control panel, <a class="indexterm" href="#control-panel">Control Panel</a></dt></dl></div><div class="indexdiv"><h3>D</h3><dl><dt id="ientry-d0e1106">Database backend</dt><dd><dl><dt>Creating, <a class="indexterm" href="#create-database-backend">Creating a New Database Backend</a></dt><dt>Deleting, <a class="indexterm" href="#delete-database-backend">Deleting a Database Backend</a></dt></dl></dd><dt id="ientry-d0e12080">Debug log, <a class="indexterm" href="#troubleshoot-enable-debug-logging">Enabling Debug Logging</a></dt><dt id="ientry-d0e1786">DSML, <a class="indexterm" href="#setup-dsml">DSML Client Access</a></dt></dl></div><div class="indexdiv"><h3>E</h3><dl><dt id="ientry-d0e822">Exporting data, <a class="indexterm" href="#chap-import-export">Importing &amp; Exporting LDIF Data</a></dt><dt id="ientry-d0e7266">External change log, <a class="indexterm" href="#repl-change-notification">Change Notification For Your Applications</a></dt><dd><dl><dt>Legacy format, <a class="indexterm" href="#repl-change-notification">Change Notification For Your Applications</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>F</h3><dl><dt id="ientry-d0e28816">File layout, <a class="indexterm" href="#appendix-file-layout">File Layout</a></dt></dl></div><div class="indexdiv"><h3>G</h3><dl><dt id="ientry-d0e8607">Groups</dt><dd><dl><dt>Dynamic, <a class="indexterm" href="#dynamic-groups">Creating Dynamic Groups</a></dt><dt>Membership, <a class="indexterm" href="#group-membership">Looking Up Group Membership</a></dt><dt>Referential integrity, <a class="indexterm" href="#referential-integrity">Configuring Referential Integrity</a></dt><dt>Static, <a class="indexterm" href="#static-groups">Creating Static Groups</a></dt><dt>Virtual static, <a class="indexterm" href="#virtual-static-groups">Creating Virtual Static Groups</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>H</h3><dl><dt id="ientry-d0e6559">High availability (see <a href="#ientry-d0e786">Replication</a>)</dt><dt id="ientry-d0e1674">HTTP, <a class="indexterm" href="#setup-rest2ldap">RESTful Client Access</a>, <a class="indexterm" href="#chap-rest-operations">Performing RESTful Operations</a>, <a class="indexterm" href="#appendix-rest2ldap">REST LDAP Configuration</a></dt></dl></div><div class="indexdiv"><h3>I</h3><dl><dt id="ientry-d0e4818">Identity mappers, <a class="indexterm" href="#client-auth">Authenticating To the Directory Server</a></dt><dt id="ientry-d0e814">Importing data, <a class="indexterm" href="#chap-import-export">Importing &amp; Exporting LDIF Data</a></dt><dd><dl><dt>Performance, <a class="indexterm" href="#perf-import">LDIF Import Settings</a></dt><dt>Test data, <a class="indexterm" href="#generating-ldif">Generating Test Data</a></dt></dl></dd><dt id="ientry-d0e5842">Indexes, <a class="indexterm" href="#chap-indexing">Indexing Attribute Values</a></dt><dd><dl><dt>Approximate, <a class="indexterm" href="#indexes-approximate">Approximate Index</a>, <a class="indexterm" href="#configure-standard-index">Configuring a Standard Index</a></dt><dt>Configuring, <a class="indexterm" href="#configure-indexes">Configuring &amp; Rebuilding Indexes</a></dt><dt>Debugging searches, <a class="indexterm" href="#debug-search-indexes">Checking Indexes For a Search</a></dt><dt>Default settings, <a class="indexterm" href="#default-indexes">Default Indexes</a></dt><dt>Entry limits, <a class="indexterm" href="#index-entry-limits">Changing Index Entry Limits</a></dt><dt>Equality, <a class="indexterm" href="#indexes-equality">Equality Index</a></dt><dt>Extensible matching rule, <a class="indexterm" href="#indexes-extensible">Extensible Matching Rule Index</a>, <a class="indexterm" href="#configure-standard-index">Configuring a Standard Index</a></dt><dt>Ordering, <a class="indexterm" href="#indexes-ordering">Ordering Index</a></dt><dt>Presence, <a class="indexterm" href="#indexes-presence">Presence Index</a></dt><dt>Rebuilding, <a class="indexterm" href="#rebuild-index">Rebuilding Indexes</a></dt><dt>Substring, <a class="indexterm" href="#indexes-substring">Substring Index</a></dt><dt>Verifying, <a class="indexterm" href="#verify-index">Verifying Indexes</a></dt><dt>Virtual list view (browsing), <a class="indexterm" href="#indexes-vlv">Virtual List View (Browsing) Index</a>, <a class="indexterm" href="#configure-vlv">Configuring a Virtual List View Index</a></dt></dl></dd><dt id="ientry-d0e28819">Installed files, <a class="indexterm" href="#appendix-file-layout">File Layout</a></dt></dl></div><div class="indexdiv"><h3>J</h3><dl><dt id="ientry-d0e1943">JMX, <a class="indexterm" href="#jmx-access">JMX Client Access</a>, <a class="indexterm" href="#jmx-monitoring">JMX-Based Monitoring</a></dt><dt id="ientry-d0e1677">JSON, <a class="indexterm" href="#setup-rest2ldap">RESTful Client Access</a>, <a class="indexterm" href="#chap-rest-operations">Performing RESTful Operations</a></dt></dl></div><div class="indexdiv"><h3>L</h3><dl><dt id="ientry-d0e31511">Language subtypes, <a class="indexterm" href="#supported-locales">Directory Support For Locales and Language Subtypes</a></dt><dt id="ientry-d0e30644">Languages, <a class="indexterm" href="#supported-languages">OpenDJ Languages</a></dt><dt id="ientry-d0e30092">LDAP controls</dt><dd><dl><dt>Account usability, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Assertion, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Authorization identity, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Entry change notification, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Get effective rights, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Manage DSAIT, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Matched values, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>No-op, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Password expired, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Password expiring, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Password policy, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Permissive modify, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Persistent search, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Post-read, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Pre-read, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Proxied authorization, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Public changelog exchange, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Relax Rules Control, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Server side sort, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Simple paged results, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Subentries, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Subtree delete, <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt><dt>Virtual list view (browsing), <a class="indexterm" href="#appendix-controls">LDAP Controls</a></dt></dl></dd><dt id="ientry-d0e30551">LDAP extended operations</dt><dd><dl><dt>Cancel, <a class="indexterm" href="#appendix-extended-ops">LDAP Extended Operations</a></dt><dt>Get Connection ID, <a class="indexterm" href="#appendix-extended-ops">LDAP Extended Operations</a></dt><dt>Password modify, <a class="indexterm" href="#appendix-extended-ops">LDAP Extended Operations</a></dt><dt>Password policy state, <a class="indexterm" href="#appendix-extended-ops">LDAP Extended Operations</a></dt><dt>StartTLS, <a class="indexterm" href="#appendix-extended-ops">LDAP Extended Operations</a></dt><dt>What am I?, <a class="indexterm" href="#appendix-extended-ops">LDAP Extended Operations</a></dt></dl></dd><dt id="ientry-d0e828">LDIF</dt><dd><dl><dt>Examples, <a class="indexterm" href="#write-ldap">Updating the Directory</a></dt><dt>Export, <a class="indexterm" href="#chap-import-export">Importing &amp; Exporting LDIF Data</a></dt><dt>File as backend, <a class="indexterm" href="#ldif-access">LDIF File Access</a></dt><dt>Import, <a class="indexterm" href="#chap-import-export">Importing &amp; Exporting LDIF Data</a></dt><dt>Specification, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>Tools, <a class="indexterm" href="#ldif-tools">Other Tools For Working With LDIF Data</a></dt></dl></dd><dt id="ientry-d0e30671">Locales, <a class="indexterm" href="#supported-locales">Directory Support For Locales and Language Subtypes</a></dt><dt id="ientry-d0e12134">Lockdown mode, <a class="indexterm" href="#troubleshoot-use-lockdown-mode">Preventing Access While You Fix Issues</a></dt><dt id="ientry-d0e10542">Logs, <a class="indexterm" href="#logging">Server Logs</a></dt><dd><dl><dt>Debug, <a class="indexterm" href="#troubleshoot-enable-debug-logging">Enabling Debug Logging</a></dt><dt>Filtering, <a class="indexterm" href="#log-filtering">Log Filtering</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>M</h3><dl><dt id="ientry-d0e10367">Monitoring, <a class="indexterm" href="#chap-monitoring">Monitoring, Logging, &amp; Alerts</a></dt><dt id="ientry-d0e11837">Moving servers, <a class="indexterm" href="#chap-mv-servers">Moving Servers</a></dt></dl></div><div class="indexdiv"><h3>P</h3><dl><dt id="ientry-d0e9993">Pass through authentication, <a class="indexterm" href="#chap-pta">Configuring Pass Through Authentication</a></dt><dt id="ientry-d0e7583">Password policy, <a class="indexterm" href="#chap-pwd-policy">Configuring Password Policy</a></dt><dd><dl><dt>Behera Internet-Draft, <a class="indexterm" href="#pwp-replicated">Subentry Based Password Policies</a></dt><dt>Default, <a class="indexterm" href="#configure-pwp">Configuring Password Policies</a></dt></dl></dd><dt id="ientry-d0e4686">Passwords</dt><dd><dl><dt>Changing, <a class="indexterm" href="#change-password">Changing Passwords</a></dt><dt>Generating, <a class="indexterm" href="#configure-pwd-generation">Configuring Password Generation</a></dt><dt>Storage schemes, <a class="indexterm" href="#configure-pwd-storage">Configuring Password Storage</a></dt><dt>Validating, <a class="indexterm" href="#configure-pwd-validation">Configuring Password Validation</a></dt></dl></dd><dt id="ientry-d0e11137">Performance tuning, <a class="indexterm" href="#chap-tuning">Tuning Servers For Performance</a></dt><dt id="ientry-d0e1168">Ports</dt><dd><dl><dt>161, <a class="indexterm" href="#appendix-ports-used">Ports Used</a></dt><dt>162, <a class="indexterm" href="#appendix-ports-used">Ports Used</a></dt><dt>1689, <a class="indexterm" href="#appendix-ports-used">Ports Used</a></dt><dt>389 (1389), <a class="indexterm" href="#appendix-ports-used">Ports Used</a></dt><dt>4444, <a class="indexterm" href="#appendix-ports-used">Ports Used</a></dt><dt>636 (1636), <a class="indexterm" href="#appendix-ports-used">Ports Used</a></dt><dt>8080, <a class="indexterm" href="#appendix-ports-used">Ports Used</a></dt><dt>8989, <a class="indexterm" href="#appendix-ports-used">Ports Used</a></dt><dt>Configuring, <a class="indexterm" href="#chap-connection-handlers">Configuring Connection Handlers</a></dt><dt>Settings for tools, <a class="indexterm" href="#tools-properties">Configuring Default Settings</a></dt></dl></dd><dt id="ientry-d0e3206">Privileges, <a class="indexterm" href="#about-privileges">About Privileges</a></dt><dt id="ientry-d0e811">Provisioning, <a class="indexterm" href="#chap-import-export">Importing &amp; Exporting LDIF Data</a></dt><dt id="ientry-d0e4878">Proxied authorization, <a class="indexterm" href="#proxied-authz">Configuring Proxied Authorization</a></dt></dl></div><div class="indexdiv"><h3>R</h3><dl><dt id="ientry-d0e9475">Referrals, <a class="indexterm" href="#chap-referrals">Working With Referrals</a></dt><dt id="ientry-d0e786">Replication</dt><dd><dl><dt>Assured, <a class="indexterm" href="#repl-assured">Assured Replication</a></dt><dt>Change notification, <a class="indexterm" href="#repl-change-notification">Change Notification For Your Applications</a></dt><dt>Configuring, <a class="indexterm" href="#configure-repl">Configuring Replication</a></dt><dt>Crash recovery, <a class="indexterm" href="#crash-recovery">Server Recovery</a></dt><dt>Data access, <a class="indexterm" href="#configure-acis">Configuring Access Control</a></dt><dt>Dedicated servers, <a class="indexterm" href="#repl-dedicated-servers">Stand-alone Replication Servers</a></dt><dt>Fractional, <a class="indexterm" href="#repl-fractional">Fractional Replication</a></dt><dt>Grouping servers, <a class="indexterm" href="#repl-groups">Replication Groups</a></dt><dt>Log, <a class="indexterm" href="#logging">Server Logs</a></dt><dt>Moving servers, <a class="indexterm" href="#chap-mv-servers">Moving Servers</a></dt><dt>Not for virtual attributes, <a class="indexterm" href="#virtual-attributes">Virtual Attributes</a></dt><dt>Overview, <a class="indexterm" href="#about-repl">About Replication</a></dt><dt>Password policy, <a class="indexterm" href="#pwp-replicated">Subentry Based Password Policies</a></dt><dt>Quick setup, <a class="indexterm" href="#repl-quick-setup">Replication Quick Setup</a></dt><dt>Read-only servers, <a class="indexterm" href="#read-only-repl">Read-Only Replicas</a></dt><dt>Restoring from backup, <a class="indexterm" href="#restore-data">Restoring Directory Data From Backup</a></dt><dt>Schema definitions, <a class="indexterm" href="#update-schema">Updating Directory Schema</a></dt><dt>Stopping, <a class="indexterm" href="#stop-repl">Stopping Replication</a></dt><dt>Subtree, <a class="indexterm" href="#repl-subtree">Subtree Replication</a></dt><dt>Troubleshooting, <a class="indexterm" href="#troubleshoot-repl">Troubleshooting Replication</a></dt><dt>Unique attributes, <a class="indexterm" href="#chap-attribute-uniqueness">Implementing Attribute Value Uniqueness</a></dt><dt>Write throughput, <a class="indexterm" href="#perf-sla">Service-Level Agreements</a></dt></dl></dd><dt id="ientry-d0e4699">Resetting passwords, <a class="indexterm" href="#change-password">Changing Passwords</a></dt><dd><dl><dt>cn=Directory Manager, <a class="indexterm" href="#troubleshoot-reset-admin-passwords">Resetting Administrator Passwords</a></dt><dt>Global (replication) administrator, <a class="indexterm" href="#troubleshoot-reset-admin-passwords">Resetting Administrator Passwords</a></dt></dl></dd><dt id="ientry-d0e8432">Resource limits, <a class="indexterm" href="#chap-resource-limits">Setting Resource Limits</a></dt><dt id="ientry-d0e1680">REST, <a class="indexterm" href="#setup-rest2ldap">RESTful Client Access</a>, <a class="indexterm" href="#chap-rest-operations">Performing RESTful Operations</a>, <a class="indexterm" href="#appendix-rest2ldap">REST LDAP Configuration</a></dt><dt id="ientry-d0e756">Restart server, <a class="indexterm" href="#restart-server">Restarting a Server</a></dt><dt id="ientry-d0e817">Restoring</dt><dd><dl><dt>From backup, <a class="indexterm" href="#restore-data">Restoring Directory Data From Backup</a></dt><dt>From LDIF, <a class="indexterm" href="#chap-import-export">Importing &amp; Exporting LDIF Data</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>S</h3><dl><dt id="ientry-d0e10290">Samba, <a class="indexterm" href="#chap-samba">Samba Password Synchronization</a></dt><dt id="ientry-d0e8987">Schema, <a class="indexterm" href="#chap-schema">Managing Schema</a></dt><dd><dl><dt>Bundled definitions, <a class="indexterm" href="#standard-schema">Standard Schema Included With OpenDJ</a></dt><dt>Legacy data, <a class="indexterm" href="#schema-legacy-support">Relaxing Schema Checking to Import Legacy Data</a></dt><dt>Schema definition extensions, <a class="indexterm" href="#update-schema">Updating Directory Schema</a></dt></dl></dd><dt id="ientry-d0e3808">Searching data, <a class="indexterm" href="#search-ldap">Searching the Directory</a></dt><dt id="ientry-d0e10398">SNMP, <a class="indexterm" href="#snmp-monitoring">SNMP-Based Monitoring</a></dt><dt id="ientry-d0e1502">SSL, <a class="indexterm" href="#configure-ssl">LDAP Client Access Over SSL</a>, <a class="indexterm" href="#client-cert-auth">Authenticating Using a Certificate</a>, <a class="indexterm" href="#troubleshoot-compromised-key">Handling Compromised Keys</a></dt><dt id="ientry-d0e676">Start server, <a class="indexterm" href="#start-server">Starting a Server</a></dt><dt id="ientry-d0e1474">StartTLS, <a class="indexterm" href="#configure-starttls">LDAP Client Access With Transport Layer Security</a>, <a class="indexterm" href="#client-cert-auth">Authenticating Using a Certificate</a></dt><dt id="ientry-d0e726">Stop server, <a class="indexterm" href="#stop-server">Stopping a Server</a></dt><dt id="ientry-d0e29179">Supported standards</dt><dd><dl><dt>DSMLv2, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>FIPS 180-1, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>FIPS 180-2, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>JSON, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 1274, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 1321, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 1777, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 1778, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 1779, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2079, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2222, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2246, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2247, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2251, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2252, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2253, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2254, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2255, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2256, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2307, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2377, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2696, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2713, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2714, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2739, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2798, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2829, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2830, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2849, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2891, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 2926, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3045, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3062, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3112, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3377, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3383, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3546, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3671, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3672, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3673, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3674, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3771, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3829, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3876, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 3909, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4346, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4370, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4403, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4422, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4505, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4510, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4511, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4512, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4513, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4514, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4515, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4516, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4517, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4518, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4519, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4524, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4525, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4526, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4527, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4528, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4529, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4530, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4532, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4616, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4634, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4752, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 4876, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>RFC 5020, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt><dt>SCIM Core Schema 1.0, <a class="indexterm" href="#appendix-standards">Standards, RFCs, &amp; Internet-Drafts</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>T</h3><dl><dt id="ientry-d0e1625">TLS, <a class="indexterm" href="#tls-protocols-cipher-suites">TLS Protocols &amp; Cipher Suites</a></dt><dt id="ientry-d0e11961">Troubleshooting, <a class="indexterm" href="#chap-troubleshooting">Troubleshooting Server Problems</a></dt></dl></div><div class="indexdiv"><h3>U</h3><dl><dt id="ientry-d0e8881">Unique attribute values, <a class="indexterm" href="#chap-attribute-uniqueness">Implementing Attribute Value Uniqueness</a></dt><dt id="ientry-d0e4406">Updating data, <a class="indexterm" href="#write-ldap">Updating the Directory</a></dt><dd><dl><dt>Filtering, <a class="indexterm" href="#filter-adds-modifies">Filtering Add &amp; Modify Operations</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>V</h3><dl><dt id="ientry-d0e9568">Virtual attributes, <a class="indexterm" href="#virtual-attributes">Virtual Attributes</a></dt></dl></div></div></div></div><a href="#" class="back-to-top hidden-xs"><button type="button" class="btn btn-primary btn-default"><span class="glyphicon glyphicon-chevron-up"></span></button></a></div></div><div class="footer"><div class="container-fluid"><div class="footer-left"></div><div class="footer-right"><a target="_blank" class="footer-item snap-left" href="legalnotice.html"><i class="glyphicon glyphicon-briefcase"></i> Legal Notice</a><a target="_blank" class="footer-item snap-left" href="https://github.com/OpenIdentityPlatform/OpenAM/issues"><i class="glyphicon glyphicon-ok-sign"></i> Feedback</a><a target="_blank" class="footer-item snap-left" href="#" data-toggle="modal" data-target="#myModal"><i class="glyphicon glyphicon-info-sign"></i> About</a></div></div></div></body></html>