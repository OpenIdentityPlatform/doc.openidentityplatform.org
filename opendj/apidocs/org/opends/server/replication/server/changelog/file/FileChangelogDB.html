<!DOCTYPE HTML>
<!-- NewPage -->
<html lang>
<head>
<!-- Generated by javadoc -->
<title>FileChangelogDB (OpenDJ Directory Services Project 5.0.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FileChangelogDB (OpenDJ Directory Services Project 5.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileChangelogDB.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.opends.server.replication.server.changelog.file</a></div>
<h2 title="Class FileChangelogDB" class="title">Class FileChangelogDB</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.opends.server.replication.server.changelog.file.FileChangelogDB</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../api/ChangelogDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangelogDB</a></code>, <code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">FileChangelogDB</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="../api/ChangelogDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangelogDB</a>, <a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></pre>
<div class="block">Log file implementation of the ChangelogDB interface.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.opends.server.replication.server.ReplicationServer,java.lang.String,org.opends.server.crypto.CryptoSuite)">FileChangelogDB</a></span>&#8203;(<a href="../../ReplicationServer.html" title="class in org.opends.server.replication.server">ReplicationServer</a>&nbsp;replicationServer,
               <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;dbDirectoryPath,
               <a href="../../../../crypto/CryptoSuite.html" title="class in org.opends.server.crypto">CryptoSuite</a>&nbsp;cryptoSuite)</code></th>
<td class="colLast">
<div class="block">Creates a new changelog DB.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearDB()">clearDB</a></span>()</code></th>
<td class="colLast">
<div class="block">Clears all records from the changelog (does not remove the changelog itself).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../api/ChangeNumberIndexDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangeNumberIndexDB</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getChangeNumberIndexDB()">getChangeNumberIndexDB</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the <a href="../api/ChangeNumberIndexDB.html" title="interface in org.opends.server.replication.server.changelog.api"><code>ChangeNumberIndexDB</code></a> object.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api">DBCursor</a>&lt;<a href="../../../protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCursorFrom(org.forgerock.opendj.ldap.DN,int,org.opends.server.replication.common.CSN,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">getCursorFrom</a></span>&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
             int&nbsp;serverId,
             <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common">CSN</a>&nbsp;startCSN,
             <a href="../api/DBCursor.CursorOptions.html" title="class in org.opends.server.replication.server.changelog.api">DBCursor.CursorOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Generates a <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a> for one replicaDB for the specified
 replication domain and serverId starting before, at or after the provided
 <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common"><code>CSN</code></a>, depending on the provided matching and positioning strategies.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api">DBCursor</a>&lt;<a href="../../../protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCursorFrom(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.ServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">getCursorFrom</a></span>&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
             <a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;startState,
             <a href="../api/DBCursor.CursorOptions.html" title="class in org.opends.server.replication.server.changelog.api">DBCursor.CursorOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Generates a <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a> across all the replicaDBs for the specified
 replication domain starting before, at or after the provided
 <a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common"><code>ServerState</code></a> for each replicaDB, depending on the provided matching
 and positioning strategies.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="MultiDomainDBCursor.html" title="class in org.opends.server.replication.server.changelog.file">MultiDomainDBCursor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCursorFrom(org.opends.server.replication.common.MultiDomainServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">getCursorFrom</a></span>&#8203;(<a href="../../../common/MultiDomainServerState.html" title="class in org.opends.server.replication.common">MultiDomainServerState</a>&nbsp;startState,
             <a href="../api/DBCursor.CursorOptions.html" title="class in org.opends.server.replication.server.changelog.api">DBCursor.CursorOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Generates a <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a> across all the domains starting before, at or
 after the provided <a href="../../../common/MultiDomainServerState.html" title="class in org.opends.server.replication.common"><code>MultiDomainServerState</code></a> for each domain,
 depending on the provided matching and positioning strategies.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="MultiDomainDBCursor.html" title="class in org.opends.server.replication.server.changelog.file">MultiDomainDBCursor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCursorFrom(org.opends.server.replication.common.MultiDomainServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions,java.util.Set)">getCursorFrom</a></span>&#8203;(<a href="../../../common/MultiDomainServerState.html" title="class in org.opends.server.replication.common">MultiDomainServerState</a>&nbsp;startState,
             <a href="../api/DBCursor.CursorOptions.html" title="class in org.opends.server.replication.server.changelog.api">DBCursor.CursorOptions</a>&nbsp;options,
             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&gt;&nbsp;excludedDomainDns)</code></th>
<td class="colLast">
<div class="block">Generates a <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a> across all the domains starting before, at or
 after the provided <a href="../../../common/MultiDomainServerState.html" title="class in org.opends.server.replication.common"><code>MultiDomainServerState</code></a> for each domain,
 excluding a provided set of domain DNs.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDomainNewestCSNs(org.forgerock.opendj.ldap.DN)">getDomainNewestCSNs</a></span>&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN)</code></th>
<td class="colLast">
<div class="block">Returns the newest <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common"><code>CSN</code></a>s from the replicaDBs for each serverId in
 the specified replication domain.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDomainOldestCSNs(org.forgerock.opendj.ldap.DN)">getDomainOldestCSNs</a></span>&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN)</code></th>
<td class="colLast">
<div class="block">Returns the oldest <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common"><code>CSN</code></a>s from the replicaDBs for each serverId in
 the specified replication domain.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getReplicationDomainDB()">getReplicationDomainDB</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the <a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api"><code>ReplicationDomainDB</code></a> object.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initializeDB()">initializeDB</a></span>()</code></th>
<td class="colLast">
<div class="block">Initializes the replication database by reading its previous state and
 building the relevant ReplicaDBs according to the previous state.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#notifyReplicaOffline(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.CSN)">notifyReplicaOffline</a></span>&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
                    <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common">CSN</a>&nbsp;offlineCSN)</code></th>
<td class="colLast">
<div class="block">Let the DB know this replica is going down.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#publishUpdateMsg(org.forgerock.opendj.ldap.DN,org.opends.server.replication.protocol.UpdateMsg)">publishUpdateMsg</a></span>&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
                <a href="../../../protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;updateMsg)</code></th>
<td class="colLast">
<div class="block">Publishes the provided change to the changelog DB for the specified
 serverId and replication domain.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeDB()">removeDB</a></span>()</code></th>
<td class="colLast">
<div class="block">Removes the changelog database directory.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeDomain(org.forgerock.opendj.ldap.DN)">removeDomain</a></span>&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN)</code></th>
<td class="colLast">
<div class="block">Removes all the data relating to the specified replication domain and
 shutdown all its replica databases.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replicaHeartbeat(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.CSN)">replicaHeartbeat</a></span>&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
                <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common">CSN</a>&nbsp;heartbeatCSN)</code></th>
<td class="colLast">
<div class="block">Let the DB know this replica is alive.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setComputeChangeNumber(boolean)">setComputeChangeNumber</a></span>&#8203;(boolean&nbsp;computeChangeNumber)</code></th>
<td class="colLast">
<div class="block">Sets whether the replication database must compute change numbers for
 replicated changes.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setPurgeDelay(long)">setPurgeDelay</a></span>&#8203;(long&nbsp;purgeDelayInMillis)</code></th>
<td class="colLast">
<div class="block">Sets the purge delay for the replication database.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#shutdownDB()">shutdownDB</a></span>()</code></th>
<td class="colLast">
<div class="block">Shutdown the replication database.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unregisterCursor(org.opends.server.replication.server.changelog.api.DBCursor)">unregisterCursor</a></span>&#8203;(<a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api">DBCursor</a>&lt;?&gt;&nbsp;cursor)</code></th>
<td class="colLast">
<div class="block">Unregisters the provided cursor from this replication domain.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.opends.server.replication.server.ReplicationServer,java.lang.String,org.opends.server.crypto.CryptoSuite)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileChangelogDB</h4>
<pre>public&nbsp;FileChangelogDB&#8203;(<a href="../../ReplicationServer.html" title="class in org.opends.server.replication.server">ReplicationServer</a>&nbsp;replicationServer,
                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;dbDirectoryPath,
                       <a href="../../../../crypto/CryptoSuite.html" title="class in org.opends.server.crypto">CryptoSuite</a>&nbsp;cryptoSuite)
                throws <a href="../../../../../../forgerock/opendj/config/server/ConfigException.html" title="class in org.forgerock.opendj.config.server">ConfigException</a></pre>
<div class="block">Creates a new changelog DB.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>replicationServer</code> - the local replication server.</dd>
<dd><code>dbDirectoryPath</code> - the path where the changelog files reside.</dd>
<dd><code>cryptoSuite</code> - the cryptosuite to use for encryption</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../forgerock/opendj/config/server/ConfigException.html" title="class in org.forgerock.opendj.config.server">ConfigException</a></code> - if a problem occurs opening the supplied directory</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="initializeDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeDB</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;initializeDB()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ChangelogDB.html#initializeDB()">ChangelogDB</a></code></span></div>
<div class="block">Initializes the replication database by reading its previous state and
 building the relevant ReplicaDBs according to the previous state. This
 method must be called once before using the ChangelogDB.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ChangelogDB.html#initializeDB()">initializeDB</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ChangelogDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangelogDB</a></code></dd>
</dl>
</li>
</ul>
<a id="shutdownDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownDB</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;shutdownDB()
                throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ChangelogDB.html#shutdownDB()">ChangelogDB</a></code></span></div>
<div class="block">Shutdown the replication database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ChangelogDB.html#shutdownDB()">shutdownDB</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ChangelogDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangelogDB</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
</dl>
</li>
</ul>
<a id="clearDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearDB</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;clearDB()
             throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block">Clears all records from the changelog (does not remove the changelog itself).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If an error occurs when clearing the changelog.</dd>
</dl>
</li>
</ul>
<a id="removeDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDB</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeDB()
              throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ChangelogDB.html#removeDB()">ChangelogDB</a></code></span></div>
<div class="block">Removes the changelog database directory.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ChangelogDB.html#removeDB()">removeDB</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ChangelogDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangelogDB</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
</dl>
</li>
</ul>
<a id="getDomainOldestCSNs(org.forgerock.opendj.ldap.DN)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDomainOldestCSNs</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;getDomainOldestCSNs&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#getDomainOldestCSNs(org.forgerock.opendj.ldap.DN)">ReplicationDomainDB</a></code></span></div>
<div class="block">Returns the oldest <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common"><code>CSN</code></a>s from the replicaDBs for each serverId in
 the specified replication domain.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#getDomainOldestCSNs(org.forgerock.opendj.ldap.DN)">getDomainOldestCSNs</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseDN</code> - the replication domain baseDN</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new ServerState object holding the {serverId => oldest CSN}
         mapping. If a replica DB is empty or closed, the oldest CSN will be
         null for that replica. The caller owns the generated ServerState.</dd>
</dl>
</li>
</ul>
<a id="getDomainNewestCSNs(org.forgerock.opendj.ldap.DN)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDomainNewestCSNs</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;getDomainNewestCSNs&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#getDomainNewestCSNs(org.forgerock.opendj.ldap.DN)">ReplicationDomainDB</a></code></span></div>
<div class="block">Returns the newest <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common"><code>CSN</code></a>s from the replicaDBs for each serverId in
 the specified replication domain.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#getDomainNewestCSNs(org.forgerock.opendj.ldap.DN)">getDomainNewestCSNs</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseDN</code> - the replication domain baseDN</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new ServerState object holding the {serverId => newest CSN} Map.
         If a replica DB is empty or closed, the newest CSN will be null for
         that replica. The caller owns the generated ServerState.</dd>
</dl>
</li>
</ul>
<a id="removeDomain(org.forgerock.opendj.ldap.DN)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDomain</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeDomain&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN)
                  throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#removeDomain(org.forgerock.opendj.ldap.DN)">ReplicationDomainDB</a></code></span></div>
<div class="block">Removes all the data relating to the specified replication domain and
 shutdown all its replica databases. In particular, it will:
 <ol>
 <li>remove all the changes from the replica databases</li>
 <li>remove all knowledge of the serverIds in this domain</li>
 <li>remove any knowledge of the current generationId for this domain</li>
 </ol></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#removeDomain(org.forgerock.opendj.ldap.DN)">removeDomain</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseDN</code> - the replication domain baseDN</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
</dl>
</li>
</ul>
<a id="setPurgeDelay(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPurgeDelay</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setPurgeDelay&#8203;(long&nbsp;purgeDelayInMillis)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ChangelogDB.html#setPurgeDelay(long)">ChangelogDB</a></code></span></div>
<div class="block">Sets the purge delay for the replication database. Can be called while the
 database is running.
 <p>
 Purging happens on a best effort basis, i.e. the purge delay is used by the
 replication database to know which data can be purged, but there are no
 guarantees on when the purging will actually happen.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ChangelogDB.html#setPurgeDelay(long)">setPurgeDelay</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ChangelogDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangelogDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>purgeDelayInMillis</code> - the purge delay in milliseconds</dd>
</dl>
</li>
</ul>
<a id="setComputeChangeNumber(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setComputeChangeNumber</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setComputeChangeNumber&#8203;(boolean&nbsp;computeChangeNumber)
                            throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ChangelogDB.html#setComputeChangeNumber(boolean)">ChangelogDB</a></code></span></div>
<div class="block">Sets whether the replication database must compute change numbers for
 replicated changes. Change numbers are computed using a separate new
 thread.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ChangelogDB.html#setComputeChangeNumber(boolean)">setComputeChangeNumber</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ChangelogDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangelogDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>computeChangeNumber</code> - whether to compute change numbers for replicated changes</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
</dl>
</li>
</ul>
<a id="getChangeNumberIndexDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChangeNumberIndexDB</h4>
<pre class="methodSignature">public&nbsp;<a href="../api/ChangeNumberIndexDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangeNumberIndexDB</a>&nbsp;getChangeNumberIndexDB()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ChangelogDB.html#getChangeNumberIndexDB()">ChangelogDB</a></code></span></div>
<div class="block">Returns the <a href="../api/ChangeNumberIndexDB.html" title="interface in org.opends.server.replication.server.changelog.api"><code>ChangeNumberIndexDB</code></a> object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ChangelogDB.html#getChangeNumberIndexDB()">getChangeNumberIndexDB</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ChangelogDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangelogDB</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../api/ChangeNumberIndexDB.html" title="interface in org.opends.server.replication.server.changelog.api"><code>ChangeNumberIndexDB</code></a> object</dd>
</dl>
</li>
</ul>
<a id="getReplicationDomainDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicationDomainDB</h4>
<pre class="methodSignature">public&nbsp;<a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a>&nbsp;getReplicationDomainDB()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ChangelogDB.html#getReplicationDomainDB()">ChangelogDB</a></code></span></div>
<div class="block">Returns the <a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api"><code>ReplicationDomainDB</code></a> object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ChangelogDB.html#getReplicationDomainDB()">getReplicationDomainDB</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ChangelogDB.html" title="interface in org.opends.server.replication.server.changelog.api">ChangelogDB</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api"><code>ReplicationDomainDB</code></a> object</dd>
</dl>
</li>
</ul>
<a id="getCursorFrom(org.opends.server.replication.common.MultiDomainServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCursorFrom</h4>
<pre class="methodSignature">public&nbsp;<a href="MultiDomainDBCursor.html" title="class in org.opends.server.replication.server.changelog.file">MultiDomainDBCursor</a>&nbsp;getCursorFrom&#8203;(<a href="../../../common/MultiDomainServerState.html" title="class in org.opends.server.replication.common">MultiDomainServerState</a>&nbsp;startState,
                                         <a href="../api/DBCursor.CursorOptions.html" title="class in org.opends.server.replication.server.changelog.api">DBCursor.CursorOptions</a>&nbsp;options)
                                  throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.opends.server.replication.common.MultiDomainServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">ReplicationDomainDB</a></code></span></div>
<div class="block">Generates a <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a> across all the domains starting before, at or
 after the provided <a href="../../../common/MultiDomainServerState.html" title="class in org.opends.server.replication.common"><code>MultiDomainServerState</code></a> for each domain,
 depending on the provided matching and positioning strategies.
 <p>
 When the cursor is not used anymore, client code MUST call the
 <a href="../api/DBCursor.html#close()"><code>DBCursor.close()</code></a> method to free the resources and locks used by the
 cursor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.opends.server.replication.common.MultiDomainServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">getCursorFrom</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startState</code> - Starting point for each domain cursor. If any <a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common"><code>ServerState</code></a>
          for a domain is null, then start from the oldest CSN for each
          replicaDBs</dd>
<dd><code>options</code> - The cursor options</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a non null <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.ServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)"><code>ReplicationDomainDB.getCursorFrom(DN, ServerState, CursorOptions)</code></a></dd>
</dl>
</li>
</ul>
<a id="getCursorFrom(org.opends.server.replication.common.MultiDomainServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions,java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCursorFrom</h4>
<pre class="methodSignature">public&nbsp;<a href="MultiDomainDBCursor.html" title="class in org.opends.server.replication.server.changelog.file">MultiDomainDBCursor</a>&nbsp;getCursorFrom&#8203;(<a href="../../../common/MultiDomainServerState.html" title="class in org.opends.server.replication.common">MultiDomainServerState</a>&nbsp;startState,
                                         <a href="../api/DBCursor.CursorOptions.html" title="class in org.opends.server.replication.server.changelog.api">DBCursor.CursorOptions</a>&nbsp;options,
                                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&gt;&nbsp;excludedDomainDns)
                                  throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.opends.server.replication.common.MultiDomainServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions,java.util.Set)">ReplicationDomainDB</a></code></span></div>
<div class="block">Generates a <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a> across all the domains starting before, at or
 after the provided <a href="../../../common/MultiDomainServerState.html" title="class in org.opends.server.replication.common"><code>MultiDomainServerState</code></a> for each domain,
 excluding a provided set of domain DNs.
 <p>
 When the cursor is not used anymore, client code MUST call the
 <a href="../api/DBCursor.html#close()"><code>DBCursor.close()</code></a> method to free the resources and locks used by the
 cursor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.opends.server.replication.common.MultiDomainServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions,java.util.Set)">getCursorFrom</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startState</code> - Starting point for each domain cursor. If any <a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common"><code>ServerState</code></a>
          for a domain is null, then start from the oldest CSN for each
          replicaDBs</dd>
<dd><code>options</code> - The cursor options</dd>
<dd><code>excludedDomainDns</code> - Every domain appearing in this set is excluded from the cursor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a non null <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.ServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)"><code>ReplicationDomainDB.getCursorFrom(DN, ServerState, CursorOptions)</code></a></dd>
</dl>
</li>
</ul>
<a id="getCursorFrom(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.ServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCursorFrom</h4>
<pre class="methodSignature">public&nbsp;<a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api">DBCursor</a>&lt;<a href="../../../protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&gt;&nbsp;getCursorFrom&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
                                         <a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;startState,
                                         <a href="../api/DBCursor.CursorOptions.html" title="class in org.opends.server.replication.server.changelog.api">DBCursor.CursorOptions</a>&nbsp;options)
                                  throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.ServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">ReplicationDomainDB</a></code></span></div>
<div class="block">Generates a <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a> across all the replicaDBs for the specified
 replication domain starting before, at or after the provided
 <a href="../../../common/ServerState.html" title="class in org.opends.server.replication.common"><code>ServerState</code></a> for each replicaDB, depending on the provided matching
 and positioning strategies.
 <p>
 When the cursor is not used anymore, client code MUST call the
 <a href="../api/DBCursor.html#close()"><code>DBCursor.close()</code></a> method to free the resources and locks used by the
 cursor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.ServerState,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">getCursorFrom</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseDN</code> - the replication domain baseDN</dd>
<dd><code>startState</code> - Starting point for each ReplicaDB cursor. If any CSN for a
          replicaDB is null, then start from the oldest CSN for this
          replicaDB</dd>
<dd><code>options</code> - The cursor options</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a non null <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.forgerock.opendj.ldap.DN,int,org.opends.server.replication.common.CSN,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)"><code>ReplicationDomainDB.getCursorFrom(DN, int, CSN, CursorOptions)</code></a></dd>
</dl>
</li>
</ul>
<a id="getCursorFrom(org.forgerock.opendj.ldap.DN,int,org.opends.server.replication.common.CSN,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCursorFrom</h4>
<pre class="methodSignature">public&nbsp;<a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api">DBCursor</a>&lt;<a href="../../../protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&gt;&nbsp;getCursorFrom&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
                                         int&nbsp;serverId,
                                         <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common">CSN</a>&nbsp;startCSN,
                                         <a href="../api/DBCursor.CursorOptions.html" title="class in org.opends.server.replication.server.changelog.api">DBCursor.CursorOptions</a>&nbsp;options)
                                  throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.forgerock.opendj.ldap.DN,int,org.opends.server.replication.common.CSN,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">ReplicationDomainDB</a></code></span></div>
<div class="block">Generates a <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a> for one replicaDB for the specified
 replication domain and serverId starting before, at or after the provided
 <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common"><code>CSN</code></a>, depending on the provided matching and positioning strategies.
 <p>
 When the cursor is not used anymore, client code MUST call the
 <a href="../api/DBCursor.html#close()"><code>DBCursor.close()</code></a> method to free the resources and locks used by the
 cursor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#getCursorFrom(org.forgerock.opendj.ldap.DN,int,org.opends.server.replication.common.CSN,org.opends.server.replication.server.changelog.api.DBCursor.CursorOptions)">getCursorFrom</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseDN</code> - the replication domain baseDN of the replicaDB</dd>
<dd><code>serverId</code> - the serverId of the replicaDB</dd>
<dd><code>startCSN</code> - Starting point for the ReplicaDB cursor. If the CSN is null, then
          start from the oldest CSN for this replicaDB</dd>
<dd><code>options</code> - The cursor options</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a non null <a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api"><code>DBCursor</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
</dl>
</li>
</ul>
<a id="unregisterCursor(org.opends.server.replication.server.changelog.api.DBCursor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterCursor</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;unregisterCursor&#8203;(<a href="../api/DBCursor.html" title="interface in org.opends.server.replication.server.changelog.api">DBCursor</a>&lt;?&gt;&nbsp;cursor)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#unregisterCursor(org.opends.server.replication.server.changelog.api.DBCursor)">ReplicationDomainDB</a></code></span></div>
<div class="block">Unregisters the provided cursor from this replication domain.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#unregisterCursor(org.opends.server.replication.server.changelog.api.DBCursor)">unregisterCursor</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - the cursor to unregister.</dd>
</dl>
</li>
</ul>
<a id="publishUpdateMsg(org.forgerock.opendj.ldap.DN,org.opends.server.replication.protocol.UpdateMsg)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishUpdateMsg</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;publishUpdateMsg&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
                                <a href="../../../protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;updateMsg)
                         throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#publishUpdateMsg(org.forgerock.opendj.ldap.DN,org.opends.server.replication.protocol.UpdateMsg)">ReplicationDomainDB</a></code></span></div>
<div class="block">Publishes the provided change to the changelog DB for the specified
 serverId and replication domain. After a change has been successfully
 published, it becomes available to be returned by the External ChangeLog.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#publishUpdateMsg(org.forgerock.opendj.ldap.DN,org.opends.server.replication.protocol.UpdateMsg)">publishUpdateMsg</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseDN</code> - the replication domain baseDN</dd>
<dd><code>updateMsg</code> - the update message to publish to the replicaDB</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a db had to be created to publish this message</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
</dl>
</li>
</ul>
<a id="replicaHeartbeat(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.CSN)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replicaHeartbeat</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;replicaHeartbeat&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
                             <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common">CSN</a>&nbsp;heartbeatCSN)
                      throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#replicaHeartbeat(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.CSN)">ReplicationDomainDB</a></code></span></div>
<div class="block">Let the DB know this replica is alive.
 <p>
 This method allows the medium consistency point to move forward in case
 this replica did not publish new changes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#replicaHeartbeat(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.CSN)">replicaHeartbeat</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseDN</code> - the replication domain baseDN</dd>
<dd><code>heartbeatCSN</code> - The CSN heartbeat sent by this replica (contains the serverId and
          timestamp of the heartbeat)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
</dl>
</li>
</ul>
<a id="notifyReplicaOffline(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.CSN)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>notifyReplicaOffline</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;notifyReplicaOffline&#8203;(<a href="../../../../../../forgerock/opendj/ldap/DN.html" title="class in org.forgerock.opendj.ldap">DN</a>&nbsp;baseDN,
                                 <a href="../../../common/CSN.html" title="class in org.opends.server.replication.common">CSN</a>&nbsp;offlineCSN)
                          throws <a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../api/ReplicationDomainDB.html#notifyReplicaOffline(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.CSN)">ReplicationDomainDB</a></code></span></div>
<div class="block">Let the DB know this replica is going down.
 <p>
 This method allows to let the medium consistency point move forward while
 this replica is offline.
 <p>
 Note: This method must not be called to let the DB know the replica is not
 sending heartbeats anymore, i.e. it must not be used in case of suspected
 network partition.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/ReplicationDomainDB.html#notifyReplicaOffline(org.forgerock.opendj.ldap.DN,org.opends.server.replication.common.CSN)">notifyReplicaOffline</a></code>&nbsp;in interface&nbsp;<code><a href="../api/ReplicationDomainDB.html" title="interface in org.opends.server.replication.server.changelog.api">ReplicationDomainDB</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseDN</code> - the replication domain baseDN</dd>
<dd><code>offlineCSN</code> - The CSN (serverId and timestamp) for the replica's going offline</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/ChangelogException.html" title="class in org.opends.server.replication.server.changelog.api">ChangelogException</a></code> - If a database problem happened</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileChangelogDB.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2011&#x2013;2025. All rights reserved.</small></p>
</footer>
</body>
</html>
