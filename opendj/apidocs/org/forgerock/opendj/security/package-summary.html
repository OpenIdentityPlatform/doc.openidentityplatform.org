<!DOCTYPE HTML>
<!-- NewPage -->
<html lang>
<head>
<!-- Generated by javadoc -->
<title>org.forgerock.opendj.security (OpenDJ Directory Services Project 5.0.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.forgerock.opendj.security (OpenDJ Directory Services Project 5.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.forgerock.opendj.security</h1>
</div>
<div class="contentContainer">
<section><a id="package.description">
<!--   -->
</a>
<div class="block">An LDAP based security provider having the name "OpenDJ" and exposing an LDAP/LDIF based <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/KeyStore.html?is-external=true" title="class or interface in java.security" class="externalLink"><code>KeyStore</code></a> service. The key store has the type "LDAP" and alias "OPENDJ" and can be created
 using a number of approaches. Firstly, by directly calling one of the factory methods in <a href="OpenDJProvider.html" title="class in org.forgerock.opendj.security"><code>OpenDJProvider</code></a>:
 <p>
 <pre>
 ConnectionFactory ldapServer = ...;
 DN keyStoreBaseDN = DN.valueOf("ou=key store,dc=example,dc=com");
 Options options = Options.defaultOptions();

 KeyStore ldapKeyStore = OpenDJProvider.newLDAPKeyStore(ldapServer, keyStoreBaseDN, options);
 </pre>
 <p>
 Alternatively, if the OpenDJ security provider is registered with the JVM's JCA framework together with a suitable
 configuration file, then an LDAP key store can be created like this:
 <p>
 <pre>
 KeyStore ldapKeyStore = KeyStore.getInstance("LDAP");
 ldapKeyStore.load(null);
 </pre>
 <p>
 The configuration file should be specified as the provider argument in the JVM's security configuration. It supports
 the following options:
 <pre>
 # If this option is set then the LDAP key store will be LDIF file based. This is useful for testing.
 org.forgerock.opendj.security.ldif=/path/to/keystore.ldif

 # Otherwise use LDAP. Note that only a simple single-server configuration is supported for now since applications
 # are expected to configure directly using KeyStore.load(KeyStoreParameters).
 org.forgerock.opendj.security.host=localhost
 org.forgerock.opendj.security.port=1389
 org.forgerock.opendj.security.bindDN=cn=directory manager
 org.forgerock.opendj.security.bindPassword=password

 # The base DN beneath which key store entries will be located.
 org.forgerock.opendj.security.keyStoreBaseDN=ou=key store,dc=example,dc=com
 </pre>
 <p>
 Interacting with an LDAP/LDIF key store using Java's "keytool" command is a little complicated if the OpenDJ provider
 is not configured in the JVM due to the need to specify the class-path:
 <p>
 <pre>
 # Generate an RSA private key entry:
 keytool -J-cp -J/path/to/opendj/server/lib/bootstrap-client.jar \
         -providerName OpenDJ -providerClass org.forgerock.opendj.security.OpenDJProvider \
         -providerArg /path/to/keystore.conf \
         -storetype LDAP -keystore NONE -storepass changeit -keypass changeit \
         -genkey -alias "private-key" -keyalg rsa \
         -ext "san=dns:localhost.example.com" \
         -dname "CN=localhost.example.com,O=Example Corp,C=FR"

 # Generate an AES secret key entry:
 keytool -J-cp -J/path/to/opendj/server/lib/bootstrap-client.jar \
         -providerName OpenDJ -providerClass org.forgerock.opendj.security.OpenDJProvider \
         -providerArg /path/to/keystore.conf \
         -storetype LDAP -keystore NONE -storepass changeit -keypass changeit \
         -genseckey -alias "secret-key" -keyalg AES -keysize 128

 # Import a trusted certificate from raw ASN1 content:
 keytool -J-cp -J/path/to/opendj/server/lib/bootstrap-client.jar \
         -providerName OpenDJ -providerClass org.forgerock.opendj.security.OpenDJProvider \
         -providerArg /path/to/keystore.conf \
         -storetype LDAP -keystore NONE -storepass changeit -keypass changeit \
         -importcert -alias "trusted-cert" -file /path/to/cert.crt

 # Import a trusted certificate from PEM file:
 keytool -J-cp -J/path/to/opendj/server/lib/bootstrap-client.jar \
         -providerName OpenDJ -providerClass org.forgerock.opendj.security.OpenDJProvider \
         -providerArg /path/to/keystore.conf \
         -storetype LDAP -keystore NONE -storepass changeit -keypass changeit \
         -importcert -alias "trusted-cert" -file /path/to/cert.pem

 # List the contents of the key store:
 keytool -J-cp -J/path/to/opendj/server/lib/bootstrap-client.jar \
         -providerName OpenDJ -providerClass org.forgerock.opendj.security.OpenDJProvider \
         -providerArg /path/to/keystore.conf \
         -storetype LDAP -keystore NONE -storepass changeit -keypass changeit \
         -list -v
 </pre>
 <p>
 The LDAP key store will store objects in entries directly beneath the key store's base DN. The base DN entry is
 expected to already exist. Private key and secret key entries are protected by 128-bit AES symmetric key derived
 using PBKDF2 from the key's password, if provided, and the key store's global password, if provided. If both
 passwords are provided then the keys will be encrypted twice. This does not provide additional protection but does
 provide more control over access to a single key store. For example, multiple applications may be able to access a
 single key store, with each application protecting their sensitive data using their individual password.
 <p>
 The LDAP schema used for the key store is contained in this JAR as resource and can be obtained using <a href="OpenDJProviderSchema.html#getSchemaLDIFResource()"><code>OpenDJProviderSchema.getSchemaLDIFResource()</code></a>. Alternatively, clients may build a
 <a href="../ldap/schema/Schema.html" title="class in org.forgerock.opendj.ldap.schema"><code>Schema</code></a> using the method
 <a href="OpenDJProviderSchema.html#addOpenDJProviderSchema(org.forgerock.opendj.ldap.schema.SchemaBuilder)"><code>OpenDJProviderSchema.addOpenDJProviderSchema(org.forgerock.opendj.ldap.schema.SchemaBuilder)</code></a>.</div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ExternalKeyWrappingStrategy.html" title="interface in org.forgerock.opendj.security">ExternalKeyWrappingStrategy</a></th>
<td class="colLast">
<div class="block">A service provider interface for externalizing the strategy used for wrapping individual private/secret keys.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="KeyStoreObjectCache.html" title="interface in org.forgerock.opendj.security">KeyStoreObjectCache</a></th>
<td class="colLast">
<div class="block">A service provider interface for implementing key store caches.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="KeyStoreObject.html" title="class in org.forgerock.opendj.security">KeyStoreObject</a></th>
<td class="colLast">
<div class="block">An in memory representation of a LDAP key store object.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="KeyStoreParameters.html" title="class in org.forgerock.opendj.security">KeyStoreParameters</a></th>
<td class="colLast">
<div class="block">The parameters which configure how the LDAP key store will be accessed.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="OpenDJProvider.html" title="class in org.forgerock.opendj.security">OpenDJProvider</a></th>
<td class="colLast">
<div class="block">The OpenDJ LDAP security provider which exposes an LDAP/LDIF based <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/KeyStore.html?is-external=true" title="class or interface in java.security" class="externalLink"><code>KeyStore</code></a>
 service, as well as providing utility methods facilitating construction of LDAP/LDIF based key stores.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="OpenDJProviderSchema.html" title="class in org.forgerock.opendj.security">OpenDJProviderSchema</a></th>
<td class="colLast">
<div class="block">Utility methods for accessing the LDAP schema elements required in order to support the OpenDJ security provider.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2011&#x2013;2025. All rights reserved.</small></p>
</footer>
</body>
</html>
