<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>RelationshipProvider (OpenIDM project 7.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.forgerock.openidm.managed, class: RelationshipProvider">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/RelationshipProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.forgerock.openidm.managed</a></div>
<h1 title="Class RelationshipProvider" class="title">Class RelationshipProvider</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.forgerock.openidm.managed.RelationshipProvider</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">RelationshipProvider</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected final <a href="../audit/util/ActivityLogger.html" title="interface in org.forgerock.openidm.audit.util">ActivityLogger</a></code></div>
<div class="col-second even-row-color"><code><a href="#activityLogger" class="member-name-link">activityLogger</a></code></div>
<div class="col-last even-row-color">
<div class="block">The activity logger.</div>
</div>
<div class="col-first odd-row-color"><code>protected final org.forgerock.json.resource.ConnectionFactory</code></div>
<div class="col-second odd-row-color"><code><a href="#connectionFactory" class="member-name-link">connectionFactory</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Used for accessing the repo</div>
</div>
<div class="col-first even-row-color"><code>static final org.forgerock.json.JsonPointer</code></div>
<div class="col-second even-row-color"><code><a href="#FIELD_ID" class="member-name-link">FIELD_ID</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of the field containing the id</div>
</div>
<div class="col-first odd-row-color"><code>static final org.forgerock.json.JsonPointer</code></div>
<div class="col-second odd-row-color"><code><a href="#FIELD_PROPERTIES" class="member-name-link">FIELD_PROPERTIES</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The name of the properties field in resource response</div>
</div>
<div class="col-first even-row-color"><code>static final org.forgerock.json.JsonPointer</code></div>
<div class="col-second even-row-color"><code><a href="#FIELD_REFERENCE" class="member-name-link">FIELD_REFERENCE</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of the secondId field in resource response</div>
</div>
<div class="col-first odd-row-color"><code>static final org.forgerock.json.JsonPointer</code></div>
<div class="col-second odd-row-color"><code><a href="#FIELD_REV" class="member-name-link">FIELD_REV</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The name of the field containing the revision</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="ManagedObjectSetService.html" title="interface in org.forgerock.openidm.managed">ManagedObjectSetService</a></code></div>
<div class="col-second even-row-color"><code><a href="#managedObjectSetService" class="member-name-link">managedObjectSetService</a></code></div>
<div class="col-last even-row-color">
<div class="block">A service for sending sync events on managed objects</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#PARAM_MANAGED_OBJECT_ID" class="member-name-link">PARAM_MANAGED_OBJECT_ID</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The name of the parameter to be used carry the managed object's ID in the Request and/or Context</div>
</div>
<div class="col-first even-row-color"><code>protected final org.forgerock.json.JsonPointer</code></div>
<div class="col-second even-row-color"><code><a href="#propertyPtr" class="member-name-link">propertyPtr</a></code></div>
<div class="col-last even-row-color">
<div class="block">A <code>JsonPointer</code> to the property representing this relationship in the parent object.</div>
</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#QUERY_FIELD_FIELD_NAME" class="member-name-link">QUERY_FIELD_FIELD_NAME</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A query field representing the field name of this relationship field</div>
</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#QUERY_FIELD_RESOURCE_PATH" class="member-name-link">QUERY_FIELD_RESOURCE_PATH</a></code></div>
<div class="col-last even-row-color">
<div class="block">A query field representing the full path of the managed object instance of this relationship field</div>
</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#RELATIONSHIP_QUERY_ID" class="member-name-link">RELATIONSHIP_QUERY_ID</a></code></div>
<div class="col-last odd-row-color">
<div class="block">An optimized relationship query ID</div>
</div>
<div class="col-first even-row-color"><code>protected final org.forgerock.openidm.managed.RelationshipValidator</code></div>
<div class="col-second even-row-color"><code><a href="#relationshipValidator" class="member-name-link">relationshipValidator</a></code></div>
<div class="col-last even-row-color">
<div class="block">The validator responsible for testing if the relationship request is valid.</div>
</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#REPO_FIELD_FIRST_ID" class="member-name-link">REPO_FIELD_FIRST_ID</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The name of the firstId field in the repo</div>
</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#REPO_FIELD_FIRST_PROPERTY_NAME" class="member-name-link">REPO_FIELD_FIRST_PROPERTY_NAME</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of the firstPropertyName field in the repo</div>
</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#REPO_FIELD_PROPERTIES" class="member-name-link">REPO_FIELD_PROPERTIES</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The name of the properties field coming out of the repo service</div>
</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#REPO_FIELD_SECOND_ID" class="member-name-link">REPO_FIELD_SECOND_ID</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of the secondId field in the repo</div>
</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#REPO_FIELD_SECOND_PROPERTY_NAME" class="member-name-link">REPO_FIELD_SECOND_PROPERTY_NAME</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The name of the secondPropertyName field in the repo</div>
</div>
<div class="col-first even-row-color"><code>protected static final org.forgerock.json.resource.ResourcePath</code></div>
<div class="col-second even-row-color"><code><a href="#REPO_RESOURCE_PATH" class="member-name-link">REPO_RESOURCE_PATH</a></code></div>
<div class="col-last even-row-color">
<div class="block">Path to this resource in the repo</div>
</div>
<div class="col-first odd-row-color"><code>protected final org.forgerock.json.resource.ResourcePath</code></div>
<div class="col-second odd-row-color"><code><a href="#resourceContainer" class="member-name-link">resourceContainer</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The resource container that property associated with this provider is a field of.</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="SchemaField.html" title="class in org.forgerock.openidm.managed">SchemaField</a></code></div>
<div class="col-second even-row-color"><code><a href="#schemaField" class="member-name-link">schemaField</a></code></div>
<div class="col-last even-row-color">
<div class="block">The schemaField representing this relationship</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.forgerock.json.resource.ConnectionFactory,org.forgerock.json.resource.ResourcePath,org.forgerock.openidm.managed.SchemaField,org.forgerock.openidm.audit.util.ActivityLogger,org.forgerock.openidm.managed.ManagedObjectSetService)" class="member-name-link">RelationshipProvider</a><wbr>(org.forgerock.json.resource.ConnectionFactory&nbsp;connectionFactory,
 org.forgerock.json.resource.ResourcePath&nbsp;resourcePath,
 <a href="SchemaField.html" title="class in org.forgerock.openidm.managed">SchemaField</a>&nbsp;schemaField,
 <a href="../audit/util/ActivityLogger.html" title="interface in org.forgerock.openidm.audit.util">ActivityLogger</a>&nbsp;activityLogger,
 <a href="ManagedObjectSetService.html" title="interface in org.forgerock.openidm.managed">ManagedObjectSetService</a>&nbsp;managedObjectSetService)</code></div>
<div class="col-last even-row-color">
<div class="block">Create a new relationship set for the given managed resource</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ActionResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#actionInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.ActionRequest)" class="member-name-link">actionInstance</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.ActionRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform an action on a relationship instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract org.forgerock.json.resource.RequestHandler</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#asRequestHandler()" class="member-name-link">asRequestHandler</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return a <code>RequestHandler</code> instance representing this provider</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract org.forgerock.util.promise.Promise&lt;org.forgerock.json.JsonValue,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#clear(org.forgerock.services.context.Context,java.lang.String)" class="member-name-link">clear</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourceId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Clear any relationship associated with the given resource.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.forgerock.json.JsonValue</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convertToRepoObject(org.forgerock.json.resource.ResourcePath,org.forgerock.json.JsonValue)" class="member-name-link">convertToRepoObject</a><wbr>(org.forgerock.json.resource.ResourcePath&nbsp;firstResourcePath,
 org.forgerock.json.JsonValue&nbsp;object)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Convert the given incoming request object to repo format.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createInstance(org.forgerock.services.context.Context,org.forgerock.json.resource.CreateRequest)" class="member-name-link">createInstance</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.CreateRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a relationship object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.DeleteRequest)" class="member-name-link">deleteInstance</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.DeleteRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Deletes a relationship object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expandFields(org.forgerock.services.context.Context,org.forgerock.json.resource.Request,org.forgerock.json.resource.ResourceResponse)" class="member-name-link">expandFields</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request,
 org.forgerock.json.resource.ResourceResponse&nbsp;response)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Performs resourceExpansion on the supplied response based on the fields specified in the current request.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final org.forgerock.json.resource.ResourcePath</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#firstResourcePath(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)" class="member-name-link">firstResourcePath</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the path of the first resource in this relationship using the firstId parameter from either the URI or 
 the Request.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.forgerock.util.Function&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#formatResponse(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)" class="member-name-link">formatResponse</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a Function to format a resource from the repository to that expected by the provider consumer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.forgerock.util.Function&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.util.promise.NeverThrowsException&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#formatResponseNoException(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)" class="member-name-link">formatResponseNoException</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a Function to format a resource from the repository to that expected by the provider consumer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.forgerock.json.resource.Connection</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConnection()" class="member-name-link">getConnection</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a <code>Connection</code> object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.forgerock.json.resource.ResourceResponse</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getManagedObject(org.forgerock.services.context.Context)" class="member-name-link">getManagedObject</a><wbr>(org.forgerock.services.context.Context&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reads and returns the managed object associated with the specified context.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getManagedObjectId(org.forgerock.services.context.Context)" class="member-name-link">getManagedObjectId</a><wbr>(org.forgerock.services.context.Context&nbsp;context)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the managed object's ID corresponding to the passed in <code>Context</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getManagedObjectPath(org.forgerock.services.context.Context)" class="member-name-link">getManagedObjectPath</a><wbr>(org.forgerock.services.context.Context&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the managed object's full path corresponding to the passed in <code>Context</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract org.forgerock.util.promise.Promise&lt;org.forgerock.json.JsonValue,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getRelationshipValueForResource(org.forgerock.services.context.Context,java.lang.String)" class="member-name-link">getRelationshipValueForResource</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourceId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the full relationship representation for this provider as a JsonValue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final org.forgerock.json.resource.ResourcePath</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResourceFullPath(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)" class="member-name-link">getResourceFullPath</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the full path of the resource in this relationship using the managedObjectId parameter from either the 
 URI or the Request.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SchemaField.html" title="class in org.forgerock.openidm.managed">SchemaField</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSchemaField()" class="member-name-link">getSchemaField</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="RelationshipProvider.html" title="class in org.forgerock.openidm.managed">RelationshipProvider</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#newProvider(org.forgerock.json.resource.ConnectionFactory,org.forgerock.json.resource.ResourcePath,org.forgerock.openidm.managed.SchemaField,org.forgerock.openidm.audit.util.ActivityLogger,org.forgerock.openidm.managed.ManagedObjectSetService)" class="member-name-link">newProvider</a><wbr>(org.forgerock.json.resource.ConnectionFactory&nbsp;connectionFactory,
 org.forgerock.json.resource.ResourcePath&nbsp;resourcePath,
 <a href="SchemaField.html" title="class in org.forgerock.openidm.managed">SchemaField</a>&nbsp;relationshipField,
 <a href="../audit/util/ActivityLogger.html" title="interface in org.forgerock.openidm.audit.util">ActivityLogger</a>&nbsp;activityLogger,
 <a href="ManagedObjectSetService.html" title="interface in org.forgerock.openidm.managed">ManagedObjectSetService</a>&nbsp;managedObjectSetService)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Get a new <a href="RelationshipProvider.html" title="class in org.forgerock.openidm.managed"><code>RelationshipProvider</code></a> instance associated with the given resource path and field</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#patchInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.PatchRequest)" class="member-name-link">patchInstance</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.PatchRequest&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Patch a relationship instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.ReadRequest)" class="member-name-link">readInstance</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.ReadRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reads a relationship object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract org.forgerock.util.promise.Promise&lt;org.forgerock.json.JsonValue,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setRelationshipValueForResource(boolean,org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.JsonValue)" class="member-name-link">setRelationshipValueForResource</a><wbr>(boolean&nbsp;clearExisting,
 org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourceId,
 org.forgerock.json.JsonValue&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Set the supplied <code>JsonValue</code> as the current state of this relationship.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.UpdateRequest)" class="member-name-link">updateInstance</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.UpdateRequest&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates a relationship object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#validateRelationshipField(org.forgerock.services.context.Context,org.forgerock.json.JsonValue,org.forgerock.json.JsonValue,org.forgerock.json.resource.ResourcePath,boolean)" class="member-name-link">validateRelationshipField</a><wbr>(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.JsonValue&nbsp;oldValue,
 org.forgerock.json.JsonValue&nbsp;newValue,
 org.forgerock.json.resource.ResourcePath&nbsp;referrerId,
 boolean&nbsp;performDuplicateAssignmentCheck)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Tests that all references in the relationship field are valid according to this provider's validator.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="activityLogger">
<h3>activityLogger</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../audit/util/ActivityLogger.html" title="interface in org.forgerock.openidm.audit.util">ActivityLogger</a></span>&nbsp;<span class="element-name">activityLogger</span></div>
<div class="block">The activity logger.</div>
</section>
</li>
<li>
<section class="detail" id="managedObjectSetService">
<h3>managedObjectSetService</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="ManagedObjectSetService.html" title="interface in org.forgerock.openidm.managed">ManagedObjectSetService</a></span>&nbsp;<span class="element-name">managedObjectSetService</span></div>
<div class="block">A service for sending sync events on managed objects</div>
</section>
</li>
<li>
<section class="detail" id="connectionFactory">
<h3>connectionFactory</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.forgerock.json.resource.ConnectionFactory</span>&nbsp;<span class="element-name">connectionFactory</span></div>
<div class="block">Used for accessing the repo</div>
</section>
</li>
<li>
<section class="detail" id="REPO_RESOURCE_PATH">
<h3>REPO_RESOURCE_PATH</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">org.forgerock.json.resource.ResourcePath</span>&nbsp;<span class="element-name">REPO_RESOURCE_PATH</span></div>
<div class="block">Path to this resource in the repo</div>
</section>
</li>
<li>
<section class="detail" id="resourceContainer">
<h3>resourceContainer</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.forgerock.json.resource.ResourcePath</span>&nbsp;<span class="element-name">resourceContainer</span></div>
<div class="block">The resource container that property associated with this provider is a field of.  This will typically be a 
  managed object path such as: "managed/user" or "managed/role".</div>
</section>
</li>
<li>
<section class="detail" id="schemaField">
<h3>schemaField</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="SchemaField.html" title="class in org.forgerock.openidm.managed">SchemaField</a></span>&nbsp;<span class="element-name">schemaField</span></div>
<div class="block">The schemaField representing this relationship</div>
</section>
</li>
<li>
<section class="detail" id="propertyPtr">
<h3>propertyPtr</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.forgerock.json.JsonPointer</span>&nbsp;<span class="element-name">propertyPtr</span></div>
<div class="block">A <code>JsonPointer</code> to the property representing this relationship in the parent object.</div>
</section>
</li>
<li>
<section class="detail" id="RELATIONSHIP_QUERY_ID">
<h3>RELATIONSHIP_QUERY_ID</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">RELATIONSHIP_QUERY_ID</span></div>
<div class="block">An optimized relationship query ID</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.forgerock.openidm.managed.RelationshipProvider.RELATIONSHIP_QUERY_ID">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="QUERY_FIELD_RESOURCE_PATH">
<h3>QUERY_FIELD_RESOURCE_PATH</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">QUERY_FIELD_RESOURCE_PATH</span></div>
<div class="block">A query field representing the full path of the managed object instance of this relationship field</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.forgerock.openidm.managed.RelationshipProvider.QUERY_FIELD_RESOURCE_PATH">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="QUERY_FIELD_FIELD_NAME">
<h3>QUERY_FIELD_FIELD_NAME</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">QUERY_FIELD_FIELD_NAME</span></div>
<div class="block">A query field representing the field name of this relationship field</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.forgerock.openidm.managed.RelationshipProvider.QUERY_FIELD_FIELD_NAME">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REPO_FIELD_FIRST_ID">
<h3>REPO_FIELD_FIRST_ID</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">REPO_FIELD_FIRST_ID</span></div>
<div class="block">The name of the firstId field in the repo</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.forgerock.openidm.managed.RelationshipProvider.REPO_FIELD_FIRST_ID">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REPO_FIELD_SECOND_ID">
<h3>REPO_FIELD_SECOND_ID</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">REPO_FIELD_SECOND_ID</span></div>
<div class="block">The name of the secondId field in the repo</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.forgerock.openidm.managed.RelationshipProvider.REPO_FIELD_SECOND_ID">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REPO_FIELD_FIRST_PROPERTY_NAME">
<h3>REPO_FIELD_FIRST_PROPERTY_NAME</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">REPO_FIELD_FIRST_PROPERTY_NAME</span></div>
<div class="block">The name of the firstPropertyName field in the repo</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.forgerock.openidm.managed.RelationshipProvider.REPO_FIELD_FIRST_PROPERTY_NAME">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REPO_FIELD_SECOND_PROPERTY_NAME">
<h3>REPO_FIELD_SECOND_PROPERTY_NAME</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">REPO_FIELD_SECOND_PROPERTY_NAME</span></div>
<div class="block">The name of the secondPropertyName field in the repo</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.forgerock.openidm.managed.RelationshipProvider.REPO_FIELD_SECOND_PROPERTY_NAME">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REPO_FIELD_PROPERTIES">
<h3>REPO_FIELD_PROPERTIES</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">REPO_FIELD_PROPERTIES</span></div>
<div class="block">The name of the properties field coming out of the repo service</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.forgerock.openidm.managed.RelationshipProvider.REPO_FIELD_PROPERTIES">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="PARAM_MANAGED_OBJECT_ID">
<h3>PARAM_MANAGED_OBJECT_ID</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">PARAM_MANAGED_OBJECT_ID</span></div>
<div class="block">The name of the parameter to be used carry the managed object's ID in the Request and/or Context</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.forgerock.openidm.managed.RelationshipProvider.PARAM_MANAGED_OBJECT_ID">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="FIELD_PROPERTIES">
<h3>FIELD_PROPERTIES</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">org.forgerock.json.JsonPointer</span>&nbsp;<span class="element-name">FIELD_PROPERTIES</span></div>
<div class="block">The name of the properties field in resource response</div>
</section>
</li>
<li>
<section class="detail" id="FIELD_REFERENCE">
<h3>FIELD_REFERENCE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">org.forgerock.json.JsonPointer</span>&nbsp;<span class="element-name">FIELD_REFERENCE</span></div>
<div class="block">The name of the secondId field in resource response</div>
</section>
</li>
<li>
<section class="detail" id="FIELD_ID">
<h3>FIELD_ID</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">org.forgerock.json.JsonPointer</span>&nbsp;<span class="element-name">FIELD_ID</span></div>
<div class="block">The name of the field containing the id</div>
</section>
</li>
<li>
<section class="detail" id="FIELD_REV">
<h3>FIELD_REV</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">org.forgerock.json.JsonPointer</span>&nbsp;<span class="element-name">FIELD_REV</span></div>
<div class="block">The name of the field containing the revision</div>
</section>
</li>
<li>
<section class="detail" id="relationshipValidator">
<h3>relationshipValidator</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.forgerock.openidm.managed.RelationshipValidator</span>&nbsp;<span class="element-name">relationshipValidator</span></div>
<div class="block">The validator responsible for testing if the relationship request is valid.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.forgerock.json.resource.ConnectionFactory,org.forgerock.json.resource.ResourcePath,org.forgerock.openidm.managed.SchemaField,org.forgerock.openidm.audit.util.ActivityLogger,org.forgerock.openidm.managed.ManagedObjectSetService)">
<h3>RelationshipProvider</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">RelationshipProvider</span><wbr><span class="parameters">(org.forgerock.json.resource.ConnectionFactory&nbsp;connectionFactory,
 org.forgerock.json.resource.ResourcePath&nbsp;resourcePath,
 <a href="SchemaField.html" title="class in org.forgerock.openidm.managed">SchemaField</a>&nbsp;schemaField,
 <a href="../audit/util/ActivityLogger.html" title="interface in org.forgerock.openidm.audit.util">ActivityLogger</a>&nbsp;activityLogger,
 <a href="ManagedObjectSetService.html" title="interface in org.forgerock.openidm.managed">ManagedObjectSetService</a>&nbsp;managedObjectSetService)</span></div>
<div class="block">Create a new relationship set for the given managed resource</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>connectionFactory</code> - Connection factory used to access the repository</dd>
<dd><code>resourcePath</code> - Name of the resource we are handling relationships for eg. managed/user</dd>
<dd><code>schemaField</code> - The field used to represent this relationship in the parent object</dd>
<dd><code>activityLogger</code> - The audit activity logger to use</dd>
<dd><code>managedObjectSetService</code> - Service to send sync events to</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="formatResponse(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)">
<h3>formatResponse</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.forgerock.util.Function&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">formatResponse</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request)</span></div>
<div class="block">Returns a Function to format a resource from the repository to that expected by the provider consumer. This is 
 simply a wrapper of <a href="#formatResponseNoException(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)"><code>formatResponseNoException(org.forgerock.services.context.Context, org.forgerock.json.resource.Request)</code></a> with a <code>ResourceException</code> in the signature to
 allow for use against <code>Promise&lt;ResourceResponse, ResourceException&gt;</code></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#formatResponseNoException(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)"><code>formatResponseNoException(Context, Request)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="formatResponseNoException(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)">
<h3>formatResponseNoException</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.forgerock.util.Function&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.util.promise.NeverThrowsException&gt;</span>&nbsp;<span class="element-name">formatResponseNoException</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request)</span></div>
<div class="block">Returns a Function to format a resource from the repository to that expected by the provider consumer. First
 object properties are removed and <code>secondId</code> (or <code>firstId</code> if it's a reverse relationship)
 will be converted to <code>_ref</code>
 <p/>
 This will convert repo resources in the format of:
 <pre>
     {
         "_id": "someId",
         "_rev": "someRev",
         "firstId": "/managed/object/uuid",
         "firstPropertyName": "roles",
         "secondId": "/managed/roles/uuid"
         "properties": { ... }
     }
 </pre>
 <p/>
 To a provider response format of:

 <pre>
     {
         "_ref": "/managed/roles/uuid",
         "_refProperties": {
             "_id": "someId",
             "_rev": "someRev",
             ...
         },
         "_refError": true,
         "_refErrorMessage": "some error message"
     }
 </pre></div>
</section>
</li>
<li>
<section class="detail" id="newProvider(org.forgerock.json.resource.ConnectionFactory,org.forgerock.json.resource.ResourcePath,org.forgerock.openidm.managed.SchemaField,org.forgerock.openidm.audit.util.ActivityLogger,org.forgerock.openidm.managed.ManagedObjectSetService)">
<h3>newProvider</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="RelationshipProvider.html" title="class in org.forgerock.openidm.managed">RelationshipProvider</a></span>&nbsp;<span class="element-name">newProvider</span><wbr><span class="parameters">(org.forgerock.json.resource.ConnectionFactory&nbsp;connectionFactory,
 org.forgerock.json.resource.ResourcePath&nbsp;resourcePath,
 <a href="SchemaField.html" title="class in org.forgerock.openidm.managed">SchemaField</a>&nbsp;relationshipField,
 <a href="../audit/util/ActivityLogger.html" title="interface in org.forgerock.openidm.audit.util">ActivityLogger</a>&nbsp;activityLogger,
 <a href="ManagedObjectSetService.html" title="interface in org.forgerock.openidm.managed">ManagedObjectSetService</a>&nbsp;managedObjectSetService)</span></div>
<div class="block">Get a new <a href="RelationshipProvider.html" title="class in org.forgerock.openidm.managed"><code>RelationshipProvider</code></a> instance associated with the given resource path and field</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>connectionFactory</code> - The connection factory used to access the repository</dd>
<dd><code>resourcePath</code> - Path of the resource to provide relationships for</dd>
<dd><code>relationshipField</code> - Field on the resource representing the provided relationship</dd>
<dt>Returns:</dt>
<dd>A new relationship provider instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="asRequestHandler()">
<h3>asRequestHandler</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">org.forgerock.json.resource.RequestHandler</span>&nbsp;<span class="element-name">asRequestHandler</span>()</div>
<div class="block">Return a <code>RequestHandler</code> instance representing this provider</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <code>RequestHandler</code> instance representing this provider</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRelationshipValueForResource(org.forgerock.services.context.Context,java.lang.String)">
<h3>getRelationshipValueForResource</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.JsonValue,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">getRelationshipValueForResource</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourceId)</span></div>
<div class="block">Get the full relationship representation for this provider as a JsonValue.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - Context of this request</dd>
<dd><code>resourceId</code> - Id of resource to fetch relationships on</dd>
<dt>Returns:</dt>
<dd>A promise containing the full representation of the relationship on the supplied resourceId
         or a ResourceException if an error occurred</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setRelationshipValueForResource(boolean,org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.JsonValue)">
<h3>setRelationshipValueForResource</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.JsonValue,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">setRelationshipValueForResource</span><wbr><span class="parameters">(boolean&nbsp;clearExisting,
 org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourceId,
 org.forgerock.json.JsonValue&nbsp;value)</span></div>
<div class="block">Set the supplied <code>JsonValue</code> as the current state of this relationship. This will support updating any 
 existing relationship (_id is present) and remove any relationship not present in the value from the repository.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clearExisting</code> - If existing relationships not present in the value parameter should be removed from the repository</dd>
<dd><code>context</code> - The context of this request</dd>
<dd><code>resourceId</code> - Id of the resource relation fields in value are to be memebers of</dd>
<dd><code>value</code> - A <code>JsonValue</code> map of relationship fields and their values</dd>
<dt>Returns:</dt>
<dd>A promise containing a JsonValue of the persisted relationship(s) for the given resourceId or
         ResourceException if an error occurred</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If the supplied value is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear(org.forgerock.services.context.Context,java.lang.String)">
<h3>clear</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.JsonValue,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">clear</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourceId)</span></div>
<div class="block">Clear any relationship associated with the given resource. This could be used if for example a resource no longer 
 exists.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - The current context.</dd>
<dd><code>resourceId</code> - The resource whose relationship we wish to clear</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validateRelationshipField(org.forgerock.services.context.Context,org.forgerock.json.JsonValue,org.forgerock.json.JsonValue,org.forgerock.json.resource.ResourcePath,boolean)">
<h3>validateRelationshipField</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">validateRelationshipField</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.JsonValue&nbsp;oldValue,
 org.forgerock.json.JsonValue&nbsp;newValue,
 org.forgerock.json.resource.ResourcePath&nbsp;referrerId,
 boolean&nbsp;performDuplicateAssignmentCheck)</span>
                                        throws <span class="exceptions">org.forgerock.json.resource.ResourceException</span></div>
<div class="block">Tests that all references in the relationship field are valid according to this provider's validator.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - context of the request working with the relationship.</dd>
<dd><code>oldValue</code> - old value of relationship field to refer to during validation of the newValue</dd>
<dd><code>newValue</code> - new value of relationship field to validate</dd>
<dd><code>referrerId</code> - the id of the object 'hosting' the relationships, aka the referrer; used to check whether
                          the referred-to object specified by the relationship already contains a reference to this referrer</dd>
<dd><code>performDuplicateAssignmentCheck</code> - set to true if invocation state should be compared to repository state to determine if
                                        existing relationships are specified in the invocation</dd>
<dt>Throws:</dt>
<dd><code>org.forgerock.json.resource.ResourceException</code> - BadRequestException if the relationship is found to be not valid, otherwise for other
 issues.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createInstance(org.forgerock.services.context.Context,org.forgerock.json.resource.CreateRequest)">
<h3>createInstance</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">createInstance</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.CreateRequest&nbsp;request)</span></div>
<div class="block">Creates a relationship object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - The current context.</dd>
<dd><code>request</code> - The current request.</dd>
<dt>Returns:</dt>
<dd>A promise containing the created relationship object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.ReadRequest)">
<h3>readInstance</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">readInstance</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.ReadRequest&nbsp;request)</span></div>
<div class="block">Reads a relationship object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - The current context.</dd>
<dd><code>relationshipId</code> - The relationship id.</dd>
<dd><code>request</code> - The current request.</dd>
<dt>Returns:</dt>
<dd>A promise containing the relationship object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.UpdateRequest)">
<h3>updateInstance</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">updateInstance</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.UpdateRequest&nbsp;request)</span></div>
<div class="block">Updates a relationship object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - The current context.</dd>
<dd><code>relationshipId</code> - The relationship id.</dd>
<dd><code>request</code> - The current request.</dd>
<dt>Returns:</dt>
<dd>A promise containing the updated relationship object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.DeleteRequest)">
<h3>deleteInstance</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">deleteInstance</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.DeleteRequest&nbsp;request)</span></div>
<div class="block">Deletes a relationship object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - The current context.</dd>
<dd><code>relationshipId</code> - The relationship id.</dd>
<dd><code>request</code> - The current request.</dd>
<dt>Returns:</dt>
<dd>A promise containing the deleted relationship object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="patchInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.PatchRequest)">
<h3>patchInstance</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">patchInstance</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.PatchRequest&nbsp;request)</span></div>
<div class="block">Patch a relationship instance. Used by RequestHandler child classes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the current context</dd>
<dd><code>relationshipId</code> - The id of the relationship instance to patch</dd>
<dd><code>request</code> - The patch request</dd>
<dt>Returns:</dt>
<dd>A promised patch response or exception</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="actionInstance(org.forgerock.services.context.Context,java.lang.String,org.forgerock.json.resource.ActionRequest)">
<h3>actionInstance</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ActionResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">actionInstance</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;relationshipId,
 org.forgerock.json.resource.ActionRequest&nbsp;request)</span></div>
<div class="block">Perform an action on a relationship instance. Used by child RequsetHandler classes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the current context</dd>
<dd><code>relationshipId</code> - The id of the relationship instance to perform the action on</dd>
<dd><code>request</code> - The action request</dd>
<dt>Returns:</dt>
<dd>A promised action response or exception</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="firstResourcePath(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)">
<h3>firstResourcePath</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.forgerock.json.resource.ResourcePath</span>&nbsp;<span class="element-name">firstResourcePath</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request)</span>
                                                                    throws <span class="exceptions">org.forgerock.json.resource.BadRequestException</span></div>
<div class="block">Returns the path of the first resource in this relationship using the firstId parameter from either the URI or 
 the Request. If firstId is not found in the URI context then the request parameter is used.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - Context containing a <code>UriRouterContext</code> to check for template variables</dd>
<dd><code>request</code> - Request containing a fall-back firstId parameter</dd>
<dt>Returns:</dt>
<dd>The resource path of the first resource as a child of resourcePath</dd>
<dt>Throws:</dt>
<dd><code>org.forgerock.json.resource.BadRequestException</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#resourceContainer"><code>resourceContainer</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getResourceFullPath(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)">
<h3>getResourceFullPath</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.forgerock.json.resource.ResourcePath</span>&nbsp;<span class="element-name">getResourceFullPath</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request)</span></div>
<div class="block">Returns the full path of the resource in this relationship using the managedObjectId parameter from either the 
 URI or the Request. If managedObejctId is not found in the URI context then the request parameter is used.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - Context containing a <code>UriRouterContext</code> to check for template variables</dd>
<dd><code>request</code> - Request containing a fall-back firstId parameter</dd>
<dt>Returns:</dt>
<dd>The resource path of the first resource as a child of resourcePath</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#resourceContainer"><code>resourceContainer</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertToRepoObject(org.forgerock.json.resource.ResourcePath,org.forgerock.json.JsonValue)">
<h3>convertToRepoObject</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.forgerock.json.JsonValue</span>&nbsp;<span class="element-name">convertToRepoObject</span><wbr><span class="parameters">(org.forgerock.json.resource.ResourcePath&nbsp;firstResourcePath,
 org.forgerock.json.JsonValue&nbsp;object)</span>
                                                    throws <span class="exceptions">org.forgerock.json.resource.BadRequestException</span></div>
<div class="block">Convert the given incoming request object to repo format.

 This converts _ref fields to secondId and populates first* fields.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>firstResourcePath</code> - The path of the first object in a relationship instance</dd>
<dd><code>object</code> - A <code>JsonValue</code> object from a resource response or incoming request to be converted for
               storage in the repo</dd>
<dt>Returns:</dt>
<dd>A new JsonValue containing the converted object in a format accepted by the repo</dd>
<dt>Throws:</dt>
<dd><code>org.forgerock.json.resource.BadRequestException</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#formatResponseNoException(org.forgerock.services.context.Context,org.forgerock.json.resource.Request)"><code>formatResponseNoException(Context, Request)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getManagedObjectId(org.forgerock.services.context.Context)">
<h3>getManagedObjectId</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getManagedObjectId</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context)</span></div>
<div class="block">Returns the managed object's ID corresponding to the passed in <code>Context</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the Context object.</dd>
<dt>Returns:</dt>
<dd>a String representing the managed object's ID.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getManagedObjectPath(org.forgerock.services.context.Context)">
<h3>getManagedObjectPath</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getManagedObjectPath</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context)</span></div>
<div class="block">Returns the managed object's full path corresponding to the passed in <code>Context</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the <code>Context</code> object.</dd>
<dt>Returns:</dt>
<dd>a String representing the managed object's ID.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getManagedObject(org.forgerock.services.context.Context)">
<h3>getManagedObject</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.forgerock.json.resource.ResourceResponse</span>&nbsp;<span class="element-name">getManagedObject</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context)</span>
                                                                 throws <span class="exceptions">org.forgerock.json.resource.ResourceException</span></div>
<div class="block">Reads and returns the managed object associated with the specified context.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the <code>Context</code> object.</dd>
<dt>Returns:</dt>
<dd>the managed object.</dd>
<dt>Throws:</dt>
<dd><code>org.forgerock.json.resource.ResourceException</code> - if an error was encountered while reading the managed object.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConnection()">
<h3>getConnection</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.forgerock.json.resource.Connection</span>&nbsp;<span class="element-name">getConnection</span>()
                                                        throws <span class="exceptions">org.forgerock.json.resource.ResourceException</span></div>
<div class="block">Returns a <code>Connection</code> object.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <code>Connection</code> object.</dd>
<dt>Throws:</dt>
<dd><code>org.forgerock.json.resource.ResourceException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="expandFields(org.forgerock.services.context.Context,org.forgerock.json.resource.Request,org.forgerock.json.resource.ResourceResponse)">
<h3>expandFields</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.forgerock.util.promise.Promise&lt;org.forgerock.json.resource.ResourceResponse,<wbr>org.forgerock.json.resource.ResourceException&gt;</span>&nbsp;<span class="element-name">expandFields</span><wbr><span class="parameters">(org.forgerock.services.context.Context&nbsp;context,
 org.forgerock.json.resource.Request&nbsp;request,
 org.forgerock.json.resource.ResourceResponse&nbsp;response)</span>
                                                                                                                                               throws <span class="exceptions">org.forgerock.json.resource.ResourceException</span></div>
<div class="block">Performs resourceExpansion on the supplied response based on the fields specified in the current request.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the current <code>Context</code> object</dd>
<dd><code>request</code> - the current <code>Request</code> object</dd>
<dd><code>response</code> - the <code>ResourceResponse</code> to expand fields on.</dd>
<dt>Returns:</dt>
<dd>A promise containing the response with the expanded fields, if any.</dd>
<dt>Throws:</dt>
<dd><code>org.forgerock.json.resource.ResourceException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSchemaField()">
<h3>getSchemaField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SchemaField.html" title="class in org.forgerock.openidm.managed">SchemaField</a></span>&nbsp;<span class="element-name">getSchemaField</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2011&#x2013;2025. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
