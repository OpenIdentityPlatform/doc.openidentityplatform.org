<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_422) on Thu Sep 05 06:53:16 UTC 2024 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>OAuth2ClientFilter (OpenIG Project 5.2.5-SNAPSHOT API)</title>
<meta name="date" content="2024-09-05">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="OAuth2ClientFilter (OpenIG Project 5.2.5-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OAuth2ClientFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2BearerWWWAuthenticateHeader.html" title="class in org.forgerock.openig.filter.oauth2.client"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.Heaplet.html" title="class in org.forgerock.openig.filter.oauth2.client"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" target="_top">Frames</a></li>
<li><a href="OAuth2ClientFilter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.forgerock.openig.filter.oauth2.client</div>
<h2 title="Class OAuth2ClientFilter" class="title">Class OAuth2ClientFilter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.forgerock.openig.filter.oauth2.client.OAuth2ClientFilter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.forgerock.http.Filter</dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">OAuth2ClientFilter</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements org.forgerock.http.Filter</pre>
<div class="block">A filter which is responsible for authenticating the end-user using OAuth 2.0
 delegated authorization. The filter does the following depending on the
 incoming request URI:
 <ul>
 <li><code>{clientEndpoint}/login?registration=&lt;registrationName&gt;&amp;goto=&lt;url&gt;</code> - redirects
 the user for authorization against the specified client
 registration.
 <li><code>{clientEndpoint}/login?{*}discovery={input}&amp;goto=&lt;url&gt;</code> -
 performs issuer discovery and dynamic client registration if possible on
 the given user input and redirects the user to the client endpoint.
 <li><code>{clientEndpoint}/logout?goto=&lt;url&gt;</code> - removes
 authorization state for the end-user
 <li><code>{clientEndpoint}/callback</code> - OAuth 2.0 authorization
 call-back end-point (state encodes nonce, goto, and client registration)
 <li>all other requests - restores authorization state and places it in the
 target location.
 </ul>
 <p>
 Configuration options:

 <pre>
 <code>
 "target"                       : expression,             [OPTIONAL - default is ${attributes.openid}]
 "clientEndpoint"               : expression,             [REQUIRED]
 "loginHandler"                 : handler,                [REQUIRED - if zero or multiple client registrations.
                                                           OPTIONAL - if one client registration.]
 "registrations"                : [ reference or          [OPTIONAL - MUST list the client registrations
                                    inlined declaration],             which are going to be used by this client.]
 "discoveryHandler"             : handler,                [OPTIONAL - by default it uses the 'ClientHandler'
                                                                      provided in heap.]
 "failureHandler"               : handler,                [REQUIRED]
 "defaultLoginGoto"             : expression,             [OPTIONAL - default return empty page]
 "defaultLogoutGoto"            : expression,             [OPTIONAL - default return empty page]
 "requireLogin"                 : boolean                 [OPTIONAL - default require login]
 "requireHttps"                 : boolean                 [OPTIONAL - default require SSL]
 "cacheExpiration"              : duration                [OPTIONAL - default to 20 seconds]
 "executor"                     : executor                [OPTIONAL - by default uses 'ScheduledThreadPool'
                                                                      heap object]
 "metadata"                     : {                       [OPTIONAL - contains metadata dedicated for dynamic
                                                                      client registration.]
             "redirect_uris"    : [ expression ],                [REQUIRED for dynamic client registration.]
             "scopes"           : [ expression ]                 [OPTIONAL - usage with OpenAM only.]
 }
 </code>
 </pre>

 For example, if you want to use a nascar page (with multiple client
 registrations, defined in the "registrations" attribute):

 <pre>
 <code>
 {
     "name": "OpenIDConnect",
     "type": "OAuth2ClientFilter",
     "config": {
         "target"                : "${attributes.openid}",
         "clientEndpoint"        : "/openid",
         "registrations"         : [ "openam", "linkedin", "google" ],
         "loginHandler"          : "NascarPage",
         "failureHandler"        : "LoginFailed",
         "defaultLoginGoto"      : "/homepage",
         "defaultLogoutGoto"     : "/loggedOut",
         "requireHttps"          : false,
         "requireLogin"          : true
     }
 }
 </code>
 </pre>

 This one, containing a nascar page and allowing dynamic client registration with OpenAM:

 <pre>
 <code>
 {
     "name": "OpenIDConnect",
     "type": "OAuth2ClientFilter",
     "config": {
         "target"                : "${attributes.openid}",
         "clientEndpoint"        : "/openid",
         "loginHandler"          : "NascarPage",
         "registrations"         : [ "openam", "linkedin", "google" ],
         "failureHandler"        : "LoginFailed",
         "defaultLoginGoto"      : "/homepage",
         "defaultLogoutGoto"     : "/loggedOut",
         "requireHttps"          : false,
         "requireLogin"          : true,
         "metadata"              : {
             "client_name": "iRock",
             "contacts": [ "werock@example.com", "werock@forgerock.org" ],
             "scopes": [
                 "openid", "profile"
             ],
             "redirect_uris": [ "http://my.example.com:8082/openid/callback" ],
             "logo_uri": "https://client.example.org/logo.png",
             "subject_type": "pairwise"
         }
     }
 }
 </code>
 </pre>

 Or this one, with a single client registration.

 <pre>
 <code>
 {
     "name": "OpenIDConnect",
     "type": "OAuth2ClientFilter",
     "config": {
         "target"                : "${attributes.openid}",
         "clientEndpoint"        : "/openid",
         "registrations"         : [ "openam" ],
         "failureHandler"        : "LoginFailed"
     }
 }
 </code>
 </pre>

 Once authorized, this filter will inject the following information into
 the target location:

 <pre>
 <code>
 "openid" : {
         "client_registration" : "google",
         "access_token"       : "xxx",
         "id_token"           : "xxx",
         "token_type"         : "Bearer",
         "expires_in"         : 3599,
         "scope"              : [ "openid", "profile", "email" ],
         "client_endpoint"    : "http://www.example.com:8081/openid",
         "id_token_claims"    : {
             "at_hash"            : "xxx",
             "sub"                : "xxx",
             "aud"                : [ "xxx.apps.googleusercontent.com" ],
             "email_verified"     : true,
             "azp"                : "xxx.apps.googleusercontent.com",
             "iss"                : "accounts.google.com",
             "exp"                : "2014-07-25T00:12:53+0000",
             "iat"                : "2014-07-24T23:07:53+0000",
             "email"              : "micky.mouse@gmail.com"
         },
         "user_info"          : {
             "sub"                : "xxx",
             "email_verified"     : "true",
             "gender"             : "male",
             "kind"               : "plus#personOpenIdConnect",
             "profile"            : "https://plus.google.com/xxx",
             "name"               : "Micky Mouse",
             "given_name"         : "Micky",
             "locale"             : "en-GB",
             "family_name"        : "Mouse",
             "picture"            : "https://lh4.googleusercontent.com/xxx/photo.jpg?sz=50",
             "email"              : "micky.mouse@gmail.com"
         }
     }
 </code>
 }
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.Heaplet.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter.Heaplet</a></span></code>
<div class="block">Creates and initializes the filter in a heap environment.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#DEFAULT_TOKEN_KEY">DEFAULT_TOKEN_KEY</a></span></code>
<div class="block">The expression which will be used for storing authorization information in the context.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#OAuth2ClientFilter-org.forgerock.openig.filter.oauth2.client.ClientRegistrationRepository-org.forgerock.util.PerItemEvictionStrategyCache-org.forgerock.util.time.TimeService-org.forgerock.http.Handler-org.forgerock.openig.el.Expression-">OAuth2ClientFilter</a></span>(org.forgerock.openig.filter.oauth2.client.ClientRegistrationRepository&nbsp;registrations,
                  org.forgerock.util.PerItemEvictionStrategyCache&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.forgerock.util.promise.Promise&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;,<a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ErrorException.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ErrorException</a>&gt;&gt;&nbsp;userInfoCache,
                  org.forgerock.util.time.TimeService&nbsp;time,
                  org.forgerock.http.Handler&nbsp;discoveryAndDynamicRegistrationChain,
                  <a href="../../../../../../org/forgerock/openig/el/Expression.html" title="class in org.forgerock.openig.el">Expression</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;clientEndpoint)</code>
<div class="block">Constructs an <a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client"><code>OAuth2ClientFilter</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.forgerock.util.promise.Promise&lt;org.forgerock.http.protocol.Response,org.forgerock.util.promise.NeverThrowsException&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#filter-org.forgerock.services.context.Context-org.forgerock.http.protocol.Request-org.forgerock.http.Handler-">filter</a></span>(org.forgerock.services.context.Context&nbsp;context,
      org.forgerock.http.protocol.Request&nbsp;request,
      org.forgerock.http.Handler&nbsp;next)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#setDefaultLoginGoto-org.forgerock.openig.el.Expression-">setDefaultLoginGoto</a></span>(<a href="../../../../../../org/forgerock/openig/el/Expression.html" title="class in org.forgerock.openig.el">Expression</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;endpoint)</code>
<div class="block">Sets the expression which will be used for obtaining the default login
 "goto" URI.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#setDefaultLogoutGoto-org.forgerock.openig.el.Expression-">setDefaultLogoutGoto</a></span>(<a href="../../../../../../org/forgerock/openig/el/Expression.html" title="class in org.forgerock.openig.el">Expression</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;endpoint)</code>
<div class="block">Sets the expression which will be used for obtaining the default logout
 "goto" URI.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#setFailureHandler-org.forgerock.http.Handler-">setFailureHandler</a></span>(org.forgerock.http.Handler&nbsp;handler)</code>
<div class="block">Sets the handler which will be invoked when authentication fails.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#setLoginHandler-org.forgerock.http.Handler-">setLoginHandler</a></span>(org.forgerock.http.Handler&nbsp;handler)</code>
<div class="block">Sets the handler which will be invoked when the user needs to
 authenticate.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#setRequireHttps-boolean-">setRequireHttps</a></span>(boolean&nbsp;requireHttps)</code>
<div class="block">Specifies whether all incoming requests must use TLS.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#setRequireLogin-boolean-">setRequireLogin</a></span>(boolean&nbsp;requireLogin)</code>
<div class="block">Specifies whether authentication is required for all incoming requests.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html#setTarget-org.forgerock.openig.el.LeftValueExpression-">setTarget</a></span>(<a href="../../../../../../org/forgerock/openig/el/LeftValueExpression.html" title="class in org.forgerock.openig.el">LeftValueExpression</a>&lt;?&gt;&nbsp;target)</code>
<div class="block">Sets the expression which will be used for storing authorization
 information in the context.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_TOKEN_KEY">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_TOKEN_KEY</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> DEFAULT_TOKEN_KEY</pre>
<div class="block">The expression which will be used for storing authorization information in the context.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.forgerock.openig.filter.oauth2.client.OAuth2ClientFilter.DEFAULT_TOKEN_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="OAuth2ClientFilter-org.forgerock.openig.filter.oauth2.client.ClientRegistrationRepository-org.forgerock.util.PerItemEvictionStrategyCache-org.forgerock.util.time.TimeService-org.forgerock.http.Handler-org.forgerock.openig.el.Expression-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OAuth2ClientFilter</h4>
<pre>public&nbsp;OAuth2ClientFilter(org.forgerock.openig.filter.oauth2.client.ClientRegistrationRepository&nbsp;registrations,
                          org.forgerock.util.PerItemEvictionStrategyCache&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.forgerock.util.promise.Promise&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;,<a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ErrorException.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ErrorException</a>&gt;&gt;&nbsp;userInfoCache,
                          org.forgerock.util.time.TimeService&nbsp;time,
                          org.forgerock.http.Handler&nbsp;discoveryAndDynamicRegistrationChain,
                          <a href="../../../../../../org/forgerock/openig/el/Expression.html" title="class in org.forgerock.openig.el">Expression</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;clientEndpoint)</pre>
<div class="block">Constructs an <a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client"><code>OAuth2ClientFilter</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>registrations</code> - The <code>ClientRegistrationRepository</code> that handles the
            registrations.</dd>
<dd><code>userInfoCache</code> - The cache to store the user informations, not <code>null</code>.</dd>
<dd><code>time</code> - The TimeService to use.</dd>
<dd><code>discoveryAndDynamicRegistrationChain</code> - The chain used for discovery and dynamic client registration.</dd>
<dd><code>clientEndpoint</code> - The expression which will be used for obtaining the base URI
            for this filter.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="filter-org.forgerock.services.context.Context-org.forgerock.http.protocol.Request-org.forgerock.http.Handler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filter</h4>
<pre>public&nbsp;org.forgerock.util.promise.Promise&lt;org.forgerock.http.protocol.Response,org.forgerock.util.promise.NeverThrowsException&gt;&nbsp;filter(org.forgerock.services.context.Context&nbsp;context,
                                                                                                                                       org.forgerock.http.protocol.Request&nbsp;request,
                                                                                                                                       org.forgerock.http.Handler&nbsp;next)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>filter</code>&nbsp;in interface&nbsp;<code>org.forgerock.http.Filter</code></dd>
</dl>
</li>
</ul>
<a name="setDefaultLoginGoto-org.forgerock.openig.el.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultLoginGoto</h4>
<pre>public&nbsp;<a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a>&nbsp;setDefaultLoginGoto(<a href="../../../../../../org/forgerock/openig/el/Expression.html" title="class in org.forgerock.openig.el">Expression</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;endpoint)</pre>
<div class="block">Sets the expression which will be used for obtaining the default login
 "goto" URI. The default goto URI will be used when a user performs a user
 initiated login without providing a "goto" http parameter. This
 configuration parameter is optional. If no "goto" parameter is provided
 in the request and there is no default "goto" then user initiated login
 requests will simply return a 200 status.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>endpoint</code> - The expression which will be used for obtaining the default
            login "goto" URI.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This filter.</dd>
</dl>
</li>
</ul>
<a name="setDefaultLogoutGoto-org.forgerock.openig.el.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultLogoutGoto</h4>
<pre>public&nbsp;<a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a>&nbsp;setDefaultLogoutGoto(<a href="../../../../../../org/forgerock/openig/el/Expression.html" title="class in org.forgerock.openig.el">Expression</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;endpoint)</pre>
<div class="block">Sets the expression which will be used for obtaining the default logout
 "goto" URI. The default goto URI will be used when a user performs a user
 initiated logout without providing a "goto" http parameter. This
 configuration parameter is optional. If no "goto" parameter is provided
 in the request and there is no default "goto" then user initiated logout
 requests will simply return a 200 status.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>endpoint</code> - The expression which will be used for obtaining the default
            logout "goto" URI.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This filter.</dd>
</dl>
</li>
</ul>
<a name="setFailureHandler-org.forgerock.http.Handler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFailureHandler</h4>
<pre>public&nbsp;<a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a>&nbsp;setFailureHandler(org.forgerock.http.Handler&nbsp;handler)</pre>
<div class="block">Sets the handler which will be invoked when authentication fails. This
 configuration parameter is required. If authorization fails for any
 reason and the request cannot be processed using the next filter/handler,
 then the request will be forwarded to the failure handler. In addition,
 the target expression will be populated with the following OAuth
 2.0 error information:

 <pre>
 <code>
 &lt;target&gt; : {
     "client_registration" : "google",
     "error"               : {
         "realm"              : string,          [OPTIONAL]
         "scope"              : array of string, [OPTIONAL list of required scopes]
         "error"              : string,          [OPTIONAL]
         "error_description"  : string,          [OPTIONAL]
         "error_uri"          : string           [OPTIONAL]
     },
     // The following fields may or may not be present depending on
     // how far authorization proceeded.
     "access_token"       : "xxx",
     "id_token"           : "xxx",
     "token_type"         : "Bearer",
     "expires_in"         : 3599,
     "scope"              : [ "openid", "profile", "email" ],
     "client_endpoint"    : "http://www.example.com:8081/openid",
 }
 </code>
 </pre>

 See <code>OAuth2Error</code> for a detailed description of the various error
 fields and their possible values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handler</code> - The handler which will be invoked when authentication fails.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This filter.</dd>
</dl>
</li>
</ul>
<a name="setLoginHandler-org.forgerock.http.Handler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLoginHandler</h4>
<pre>public&nbsp;<a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a>&nbsp;setLoginHandler(org.forgerock.http.Handler&nbsp;handler)</pre>
<div class="block">Sets the handler which will be invoked when the user needs to
 authenticate. This configuration parameter is required if there are more
 than one client registration configured.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handler</code> - The handler which will be invoked when the user needs to
            authenticate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This filter.</dd>
</dl>
</li>
</ul>
<a name="setRequireHttps-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRequireHttps</h4>
<pre>public&nbsp;<a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a>&nbsp;setRequireHttps(boolean&nbsp;requireHttps)</pre>
<div class="block">Specifies whether all incoming requests must use TLS. This configuration
 parameter is optional and set to <code>true</code> by default.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requireHttps</code> - <code>true</code> if all incoming requests must use TLS,
            <code>false</code> by default.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This filter.</dd>
</dl>
</li>
</ul>
<a name="setRequireLogin-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRequireLogin</h4>
<pre>public&nbsp;<a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a>&nbsp;setRequireLogin(boolean&nbsp;requireLogin)</pre>
<div class="block">Specifies whether authentication is required for all incoming requests.
 This configuration parameter is optional and set to <code>true</code> by
 default.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requireLogin</code> - <code>true</code> if authentication is required for all incoming
            requests, or <code>false</code> if authentication should be
            performed only when required (default <code>true</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This filter.</dd>
</dl>
</li>
</ul>
<a name="setTarget-org.forgerock.openig.el.LeftValueExpression-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setTarget</h4>
<pre>public&nbsp;<a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" title="class in org.forgerock.openig.filter.oauth2.client">OAuth2ClientFilter</a>&nbsp;setTarget(<a href="../../../../../../org/forgerock/openig/el/LeftValueExpression.html" title="class in org.forgerock.openig.el">LeftValueExpression</a>&lt;?&gt;&nbsp;target)</pre>
<div class="block">Sets the expression which will be used for storing authorization
 information in the context. This configuration parameter is required.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>target</code> - The expression which will be used for storing authorization
            information in the context.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This filter.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OAuth2ClientFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2BearerWWWAuthenticateHeader.html" title="class in org.forgerock.openig.filter.oauth2.client"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.Heaplet.html" title="class in org.forgerock.openig.filter.oauth2.client"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/forgerock/openig/filter/oauth2/client/OAuth2ClientFilter.html" target="_top">Frames</a></li>
<li><a href="OAuth2ClientFilter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2024 <a href="https://github.com/OpenIdentityPlatform">Open Identity Platform Community</a>. All rights reserved.</small></p>
</body>
</html>
