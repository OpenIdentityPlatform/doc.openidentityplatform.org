<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang>
<head>
<!-- Generated by javadoc (1.8.0_362) on Wed Jan 29 15:29:34 MSK 2025 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TimeService (org.openidentityplatform.commons.parent 2.2.3 Documentation)</title>
<meta name="date" content="2025-01-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TimeService (org.openidentityplatform.commons.parent 2.2.3 Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimeService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>org.openidentityplatform.commons.parent 2.2.3 Documentation</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/forgerock/util/time/TimeService.html" target="_top">Frames</a></li>
<li><a href="TimeService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.forgerock.util.time</div>
<h2 title="Interface TimeService" class="title">Interface TimeService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">TimeService</span></pre>
<div class="block">Provides time related methods for computing durations, for providing the now
 instant and other use cases.
 <p>
 Why using a service interface instead of JVM provided time methods?
 <p>
 Simply because you gain better control over the time understood by the
 application. For example, if you would have to code an expiration time logic,
 you would check periodically if the computed expiration timestamp is greater
 than the now timestamp. So far, so good.
 <p>
 When it comes to testing, things gets worst: you typically have to use
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#sleep-long-" title="class or interface in java.lang"><code>Thread.sleep(long)</code></a> to wait for a given amount of time so that your
 expiration date is reached. That makes tests much longer to execute and
 somehow brittle when you're testing short timeouts.
 <p>
 Using a <a href="../../../../org/forgerock/util/time/TimeService.html" title="interface in org.forgerock.util.time"><code>TimeService</code></a> helps you to keep your code readable and provides
 a way to better control how the time is flowing for your application
 (especially useful in the tests).
 <p>
 For example, <a href="../../../../org/forgerock/util/time/TimeService.html#now--"><code>now()</code></a> is used in place of
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/System.html?is-external=true#currentTimeMillis--" title="class or interface in java.lang"><code>System.currentTimeMillis()</code></a>. in your code and you can easily mock it
 and make it return controlled values. Here is an example with <a
 href="https://code.google.com/p/mockito/">Mockito</a>:

 <pre>
 &#064;Mock
 private TimeService time;

 &#064;BeforeMethod
 public void setUp() throws Exception {
     MockitoAnnotations.initMocks(this);
 }

 &#064;Test
 public shouldAdvanceInTime() throws Exception {
     // Mimics steps in the future at each call
     when(time.now()).thenReturn(0L, 1000L, 10000L);

     assertThat(time.now()).isEqualTo(0L);
     assertThat(time.now()).isEqualTo(1000L);
     assertThat(time.now()).isEqualTo(10000L);
 }
 </pre>

 TimeService provides a <a href="../../../../org/forgerock/util/time/TimeService.html#SYSTEM">default service implementation</a>
 using the System provided time methods for ease of use.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.3.4</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/System.html?is-external=true#currentTimeMillis--" title="class or interface in java.lang"><code>System.currentTimeMillis()</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/forgerock/util/time/TimeService.html" title="interface in org.forgerock.util.time">TimeService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/forgerock/util/time/TimeService.html#SYSTEM">SYSTEM</a></span></code>
<div class="block"><a href="../../../../org/forgerock/util/time/TimeService.html" title="interface in org.forgerock.util.time"><code>TimeService</code></a> implementation based on <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/System.html?is-external=true" title="class or interface in java.lang"><code>System</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/forgerock/util/time/TimeService.html#now--">now</a></span>()</code>
<div class="block">Returns a value that represents "now" since the epoch.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/forgerock/util/time/TimeService.html#since-long-">since</a></span>(long&nbsp;past)</code>
<div class="block">Computes the elapsed time between <a href="../../../../org/forgerock/util/time/TimeService.html#now--">now</a> and <code>past</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SYSTEM">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SYSTEM</h4>
<pre>static final&nbsp;<a href="../../../../org/forgerock/util/time/TimeService.html" title="interface in org.forgerock.util.time">TimeService</a> SYSTEM</pre>
<div class="block"><a href="../../../../org/forgerock/util/time/TimeService.html" title="interface in org.forgerock.util.time"><code>TimeService</code></a> implementation based on <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/System.html?is-external=true" title="class or interface in java.lang"><code>System</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.3.4</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/System.html?is-external=true#currentTimeMillis--" title="class or interface in java.lang"><code>System.currentTimeMillis()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="now--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>now</h4>
<pre>long&nbsp;now()</pre>
<div class="block">Returns a value that represents "now" since the epoch.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a value that represents "now" since the epoch.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.3.4</dd>
</dl>
</li>
</ul>
<a name="since-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>since</h4>
<pre>long&nbsp;since(long&nbsp;past)</pre>
<div class="block">Computes the elapsed time between <a href="../../../../org/forgerock/util/time/TimeService.html#now--">now</a> and <code>past</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>past</code> - time value to compare to now.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the elapsed time</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.3.4</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimeService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>org.openidentityplatform.commons.parent 2.2.3 Documentation</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/forgerock/util/time/TimeService.html" target="_top">Frames</a></li>
<li><a href="TimeService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2025 <a href="https://github.com/OpenIdentityPlatform">Open Identity Platform Community</a>. All rights reserved.</small></p>
</body>
</html>
