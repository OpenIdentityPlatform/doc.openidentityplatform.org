<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_422) on Fri Sep 06 09:04:00 MSK 2024 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>PerItemEvictionStrategyCache (org.openidentityplatform.commons.parent 2.1.7-SNAPSHOT Documentation)</title>
<meta name="date" content="2024-09-06">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PerItemEvictionStrategyCache (org.openidentityplatform.commons.parent 2.1.7-SNAPSHOT Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PerItemEvictionStrategyCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>org.openidentityplatform.commons.parent 2.1.7-SNAPSHOT Documentation</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/forgerock/util/Pair.html" title="class in org.forgerock.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/forgerock/util/RangeSet.html" title="class in org.forgerock.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/forgerock/util/PerItemEvictionStrategyCache.html" target="_top">Frames</a></li>
<li><a href="PerItemEvictionStrategyCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.forgerock.util</div>
<h2 title="Class PerItemEvictionStrategyCache" class="title">Class PerItemEvictionStrategyCache&lt;K,V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.forgerock.util.PerItemEvictionStrategyCache&lt;K,V&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Type of the key</dd>
<dd><code>V</code> - Type of the value</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">PerItemEvictionStrategyCache&lt;K,V&gt;</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">PerItemEvictionStrategyCache is a thread-safe write-through cache.
 <p>
 Instead of storing directly the value in the backing Map, it requires the
 consumer to provide a value factory (a Callable). A new FutureTask
 encapsulates the callable, is executed and is placed inside a
 ConcurrentHashMap if absent.
 <p>
 The final behavior is that, even if two concurrent Threads are borrowing an
 object from the cache, given that they provide an equivalent value factory,
 the first one will compute the value while the other will get the result from
 the Future (and will wait until the result is computed or a timeout occurs).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#PerItemEvictionStrategyCache-java.util.concurrent.ScheduledExecutorService-org.forgerock.util.AsyncFunction-">PerItemEvictionStrategyCache</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ScheduledExecutorService</a>&nbsp;executorService,
                            <a href="../../../org/forgerock/util/AsyncFunction.html" title="interface in org.forgerock.util">AsyncFunction</a>&lt;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>,<a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a>&gt;&nbsp;defaultTimeoutFunction)</code>
<div class="block">Build a new <a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="class in org.forgerock.util"><code>PerItemEvictionStrategyCache</code></a> using the given scheduled executor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#PerItemEvictionStrategyCache-java.util.concurrent.ScheduledExecutorService-org.forgerock.util.time.Duration-">PerItemEvictionStrategyCache</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ScheduledExecutorService</a>&nbsp;executorService,
                            <a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a>&nbsp;defaultTimeout)</code>
<div class="block">Build a new <a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="class in org.forgerock.util"><code>PerItemEvictionStrategyCache</code></a> using the given scheduled executor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#clear--">clear</a></span>()</code>
<div class="block">Clean-up the cache entries.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#evict-K-">evict</a></span>(<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">K</a>&nbsp;key)</code>
<div class="block">Evict a cached value from the cache.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#getMaxTimeout--">getMaxTimeout</a></span>()</code>
<div class="block">Gets the maximum timeout (can be null).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#getValue-K-java.util.concurrent.Callable-">getValue</a></span>(<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">K</a>&nbsp;key,
        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>&gt;&nbsp;callable)</code>
<div class="block">Borrow (and create before hand if absent) a cache entry.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#getValue-K-java.util.concurrent.Callable-org.forgerock.util.AsyncFunction-">getValue</a></span>(<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">K</a>&nbsp;key,
        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>&gt;&nbsp;callable,
        <a href="../../../org/forgerock/util/AsyncFunction.html" title="interface in org.forgerock.util">AsyncFunction</a>&lt;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>,<a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a>&gt;&nbsp;expire)</code>
<div class="block">Borrow (and create before hand if absent) a cache entry.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#isEmpty--">isEmpty</a></span>()</code>
<div class="block">Returns whether this cache is empty or not.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#setMaxTimeout-org.forgerock.util.time.Duration-">setMaxTimeout</a></span>(<a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a>&nbsp;maxTimeout)</code>
<div class="block">Sets the maximum timeout.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html#size--">size</a></span>()</code>
<div class="block">Returns the number of cached values.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PerItemEvictionStrategyCache-java.util.concurrent.ScheduledExecutorService-org.forgerock.util.time.Duration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PerItemEvictionStrategyCache</h4>
<pre>public&nbsp;PerItemEvictionStrategyCache(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ScheduledExecutorService</a>&nbsp;executorService,
                                    <a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a>&nbsp;defaultTimeout)</pre>
<div class="block">Build a new <a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="class in org.forgerock.util"><code>PerItemEvictionStrategyCache</code></a> using the given scheduled executor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executorService</code> - scheduled executor for registering expiration callbacks.</dd>
<dd><code>defaultTimeout</code> - the default cache entry timeout</dd>
</dl>
</li>
</ul>
<a name="PerItemEvictionStrategyCache-java.util.concurrent.ScheduledExecutorService-org.forgerock.util.AsyncFunction-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PerItemEvictionStrategyCache</h4>
<pre>public&nbsp;PerItemEvictionStrategyCache(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ScheduledExecutorService</a>&nbsp;executorService,
                                    <a href="../../../org/forgerock/util/AsyncFunction.html" title="interface in org.forgerock.util">AsyncFunction</a>&lt;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>,<a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a>&gt;&nbsp;defaultTimeoutFunction)</pre>
<div class="block">Build a new <a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="class in org.forgerock.util"><code>PerItemEvictionStrategyCache</code></a> using the given scheduled executor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executorService</code> - scheduled executor for registering expiration callbacks.</dd>
<dd><code>defaultTimeoutFunction</code> - the function that will compute the cache entry timeout (must not be null)
         the default timeout to cache the entries</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getValue-java.lang.Object-java.util.concurrent.Callable-">
<!--   -->
</a><a name="getValue-K-java.util.concurrent.Callable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValue</h4>
<pre>public&nbsp;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>&nbsp;getValue(<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">K</a>&nbsp;key,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>&gt;&nbsp;callable)
           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Borrow (and create before hand if absent) a cache entry. If another
 Thread has created (or the creation is undergoing) the value, this
 method waits indefinitely for the value to be available.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - entry key</dd>
<dd><code>callable</code> - cached value factory</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the cached value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the current thread was interrupted while waiting</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code> - if the cached value computation threw an exception</dd>
</dl>
</li>
</ul>
<a name="getValue-java.lang.Object-java.util.concurrent.Callable-org.forgerock.util.AsyncFunction-">
<!--   -->
</a><a name="getValue-K-java.util.concurrent.Callable-org.forgerock.util.AsyncFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValue</h4>
<pre>public&nbsp;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>&nbsp;getValue(<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">K</a>&nbsp;key,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>&gt;&nbsp;callable,
                  <a href="../../../org/forgerock/util/AsyncFunction.html" title="interface in org.forgerock.util">AsyncFunction</a>&lt;<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">V</a>,<a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a>&gt;&nbsp;expire)
           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Borrow (and create before hand if absent) a cache entry. If another
 Thread has created (or the creation is undergoing) the value, this
 method waits indefinitely for the value to be available.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - entry key</dd>
<dd><code>callable</code> - cached value factory</dd>
<dd><code>expire</code> - function to override the global cache's timeout</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the cached value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the current thread was interrupted while waiting</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code> - if the cached value computation threw an exception</dd>
</dl>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">Clean-up the cache entries.</div>
</li>
</ul>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
<div class="block">Returns the number of cached values.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of cached values</dd>
</dl>
</li>
</ul>
<a name="isEmpty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>public&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block">Returns whether this cache is empty or not.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the cache does not contain any values, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="evict-java.lang.Object-">
<!--   -->
</a><a name="evict-K-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evict</h4>
<pre>public&nbsp;void&nbsp;evict(<a href="../../../org/forgerock/util/PerItemEvictionStrategyCache.html" title="type parameter in PerItemEvictionStrategyCache">K</a>&nbsp;key)</pre>
<div class="block">Evict a cached value from the cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the entry key</dd>
</dl>
</li>
</ul>
<a name="getMaxTimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxTimeout</h4>
<pre>public&nbsp;<a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a>&nbsp;getMaxTimeout()</pre>
<div class="block">Gets the maximum timeout (can be null).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum timeout</dd>
</dl>
</li>
</ul>
<a name="setMaxTimeout-org.forgerock.util.time.Duration-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setMaxTimeout</h4>
<pre>public&nbsp;void&nbsp;setMaxTimeout(<a href="../../../org/forgerock/util/time/Duration.html" title="class in org.forgerock.util.time">Duration</a>&nbsp;maxTimeout)</pre>
<div class="block">Sets the maximum timeout. If the timeout returned by the timeoutFunction is greater than this
 specified maximum timeout, then the maximum timeout is used instead of the returned one to cache the entry.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxTimeout</code> - the maximum timeout to use.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PerItemEvictionStrategyCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>org.openidentityplatform.commons.parent 2.1.7-SNAPSHOT Documentation</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/forgerock/util/Pair.html" title="class in org.forgerock.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/forgerock/util/RangeSet.html" title="class in org.forgerock.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/forgerock/util/PerItemEvictionStrategyCache.html" target="_top">Frames</a></li>
<li><a href="PerItemEvictionStrategyCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2024 <a href="https://github.com/OpenIdentityPlatform">Open Identity Platform Community</a>. All rights reserved.</small></p>
</body>
</html>
