<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_422) on Fri Sep 06 09:04:07 MSK 2024 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>com.persistit.encoding (org.openidentityplatform.commons.parent 2.1.7-SNAPSHOT Documentation)</title>
<meta name="date" content="2024-09-06">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="com.persistit.encoding (org.openidentityplatform.commons.parent 2.1.7-SNAPSHOT Documentation)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>org.openidentityplatform.commons.parent 2.1.7-SNAPSHOT Documentation</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/persistit/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../com/persistit/exception/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/persistit/encoding/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.persistit.encoding</h1>
<div class="docSummary">
<div class="block">
Implements extended encoding of objects and strings to and from 
<a href="../../../com/persistit/Key.html" title="class in com.persistit"><code>Key</code></a>s and <a href="../../../com/persistit/Value.html" title="class in com.persistit"><code>Value</code></a>s.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding">CoderContext</a></td>
<td class="colLast">
<div class="block">A marker interface for an application-specific object that may be passed to a
 <a href="../../../com/persistit/encoding/KeyCoder.html" title="interface in com.persistit.encoding"><code>KeyCoder</code></a> or <a href="../../../com/persistit/encoding/ValueCoder.html" title="interface in com.persistit.encoding"><code>ValueCoder</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/CoderManager.html" title="interface in com.persistit.encoding">CoderManager</a></td>
<td class="colLast">
<div class="block">
 Manages the collections of <a href="../../../com/persistit/encoding/KeyCoder.html" title="interface in com.persistit.encoding"><code>KeyCoder</code></a>s and <a href="../../../com/persistit/encoding/ValueCoder.html" title="interface in com.persistit.encoding"><code>ValueCoder</code></a>s that
 encode and decode object values in Persistit&trade;.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/HandleCache.html" title="interface in com.persistit.encoding">HandleCache</a></td>
<td class="colLast">
<div class="block">
 Interface for an object that can receive and supply an int-valued handle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/KeyCoder.html" title="interface in com.persistit.encoding">KeyCoder</a></td>
<td class="colLast">
<div class="block">
 Interface for specialized encoding and decoding of an <code>Object</code> of
 arbitrary type to or from a <a href="../../../com/persistit/Key.html" title="class in com.persistit"><code>Key</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/KeyDisplayer.html" title="interface in com.persistit.encoding">KeyDisplayer</a></td>
<td class="colLast">
<div class="block">
 An extension of <a href="../../../com/persistit/encoding/KeyCoder.html" title="interface in com.persistit.encoding"><code>KeyCoder</code></a> that adds the <a href="../../../com/persistit/encoding/KeyDisplayer.html#displayKeySegment-com.persistit.Key-java.lang.Appendable-java.lang.Class-com.persistit.encoding.CoderContext-"><code>KeyDisplayer.displayKeySegment(com.persistit.Key, java.lang.Appendable, java.lang.Class&lt;?&gt;, com.persistit.encoding.CoderContext)</code></a>
 method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/KeyRenderer.html" title="interface in com.persistit.encoding">KeyRenderer</a></td>
<td class="colLast">
<div class="block">
 An extended <a href="../../../com/persistit/encoding/KeyCoder.html" title="interface in com.persistit.encoding"><code>KeyCoder</code></a> that can populate a supplied <code>Object</code>
 with data that was formerly written to a <a href="../../../com/persistit/Key.html" title="class in com.persistit"><code>Key</code></a> by the
 <code>KeyCoder</code> .</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/ObjectCoder.html" title="interface in com.persistit.encoding">ObjectCoder</a></td>
<td class="colLast">
<div class="block">
 Combines the <a href="../../../com/persistit/encoding/KeyCoder.html" title="interface in com.persistit.encoding"><code>KeyCoder</code></a>, <a href="../../../com/persistit/encoding/KeyRenderer.html" title="interface in com.persistit.encoding"><code>KeyRenderer</code></a>, <a href="../../../com/persistit/encoding/ValueCoder.html" title="interface in com.persistit.encoding"><code>ValueCoder</code></a> and
 <a href="../../../com/persistit/encoding/ValueRenderer.html" title="interface in com.persistit.encoding"><code>ValueRenderer</code></a> into a single interface that allows Persistit to store
 and retrieve arbitrary objects - even non-Serializable objects - without
 byte-code enhancement, without incurring the space or time overhead of Java
 serialization, or the need to modify the class to perform custom
 serialization.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/ValueCoder.html" title="interface in com.persistit.encoding">ValueCoder</a></td>
<td class="colLast">
<div class="block">
 Interface for specialized encoding and decoding of <code>Object</code>s of
 arbitrary type in a <a href="../../../com/persistit/Value.html" title="class in com.persistit"><code>Value</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/ValueDisplayer.html" title="interface in com.persistit.encoding">ValueDisplayer</a></td>
<td class="colLast">
<div class="block">
 An extension of <a href="../../../com/persistit/encoding/ValueCoder.html" title="interface in com.persistit.encoding"><code>ValueCoder</code></a> that adds the <a href="../../../com/persistit/encoding/ValueDisplayer.html#display-com.persistit.Value-java.lang.StringBuilder-java.lang.Class-com.persistit.encoding.CoderContext-"><code>ValueDisplayer.display(com.persistit.Value, java.lang.StringBuilder, java.lang.Class&lt;?&gt;, com.persistit.encoding.CoderContext)</code></a> method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/ValueRenderer.html" title="interface in com.persistit.encoding">ValueRenderer</a></td>
<td class="colLast">
<div class="block">
 An extended <a href="../../../com/persistit/encoding/ValueCoder.html" title="interface in com.persistit.encoding"><code>ValueCoder</code></a> that can populate a supplied
 <code>Object</code> with data that was formerly written to a <a href="../../../com/persistit/Value.html" title="class in com.persistit"><code>Value</code></a> by
 the <code>ValueCoder</code>.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/CollectionValueCoder.html" title="class in com.persistit.encoding">CollectionValueCoder</a></td>
<td class="colLast">
<div class="block">
 Implements ValueCoder, ValueRenderer and ValueDisplayer for selected classes
 in the Java Collections API.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/EnumValueCoder.html" title="class in com.persistit.encoding">EnumValueCoder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/ObjectCache.html" title="class in com.persistit.encoding">ObjectCache</a></td>
<td class="colLast">
<div class="block">
 A simple cache for deserialized objects.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/persistit/encoding/SerialValueCoder.html" title="class in com.persistit.encoding">SerialValueCoder</a></td>
<td class="colLast">
<div class="block">
 A <a href="../../../com/persistit/encoding/ValueCoder.html" title="interface in com.persistit.encoding"><code>ValueCoder</code></a> that uses standard Java serialization to store and
 retrieve object values.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package com.persistit.encoding Description">Package com.persistit.encoding Description</h2>
<div class="block"><p>
Implements extended encoding of objects and strings to and from 
<a href="../../../com/persistit/Key.html" title="class in com.persistit"><code>Key</code></a>s and <a href="../../../com/persistit/Value.html" title="class in com.persistit"><code>Value</code></a>s.
</p>
<p>
There are three kinds of encoding mechanisms used in Persistit&trade;:
<ol>
<li>
Encoding and decoding of objects to and from <tt>Key</tt>s,
</li>
<li>
Specialized encoding and decoding of <tt>java.lang.String</tt>s to 
and from <tt>Key</tt>s, and
</li>
<li>
Encoding and decoding of objects to and from <tt>Value</tt>s.
</li>
</ol>
</p>
<p>
These mechanisms are each slightly different because the correct 
collation of key values depends on the encoding of primitive values and
<tt>Objects</tt> into <tt>Key</tt>s, whereas collation is not an issue
for the encoding of <tt>Value</tt>s. The encoding of <tt>Key</tt>s also differs 
from the encoding of <tt>Value</tt>s because although collation is not
an issue for <tt>Value</tt>s, generally the kinds of objects
serialized into <tt>Value</tt>s will be much more complex than those
usefully encoded into <tt>Key</tt>s.
</p>
<p>
Logic for these two different uses is specified by twp different
interfaces, <a href="../../../com/persistit/encoding/KeyCoder.html" title="interface in com.persistit.encoding"><code>KeyCoder</code></a> and
<a href="../../../com/persistit/encoding/ValueCoder.html" title="interface in com.persistit.encoding"><code>ValueCoder</code></a>. 
Each of these has methods to translate an <tt>Object</tt> to and from an array
of bytes.
</p>
<p>
The specific <tt>KeyCoder</tt> or <tt>ValueCoder</tt> to use in
encoding or decoding a <tt>Key</tt> or <tt>Value</tt> is determined
by the current <a href="../../../com/persistit/encoding/CoderManager.html" title="interface in com.persistit.encoding"><code>CoderManager</code></a>.  Persistit
has a singleton <tt>CoderManager</tt> at all times.  The
<a href="../../../com/persistit/DefaultCoderManager.html" title="class in com.persistit"><code>DefaultCoderManager</code></a> is a simple 
implementation that permits applications to register a <tt>KeyCoder</tt>
and <tt>ValueCoder</tt> implementation for each class that requires
extended encoding and decoding.
</p>
<p>
Note that a <tt>ValueCoder</tt> registered for a given class overrides
default serialization behavior for that class.  A <tt>ValueCoder</tt>
can encode state information from a class that is not marked
<tt>java.io.Serializable</tt> or <tt>java.io.Externalizable</tt>.  In addition, a
<tt>ValueCoder</tt> typically represents the state of an object much more
concisely than standard object serialization because all class names
are represented by system-wide handles rather than class names. (See the
<code>ClassIndex</code> class for details on how
classes are mapped to small integer handles.)
</p>
<a name="_renderers"></a>
<h3><tt>KeyRenderer</tt> and <tt>ValueRenderer</tt></h3>
<p>
The interfaces <a href="../../../com/persistit/encoding/KeyRenderer.html" title="interface in com.persistit.encoding"><code>KeyRenderer</code></a> and 
<a href="../../../com/persistit/encoding/ValueRenderer.html" title="interface in com.persistit.encoding"><code>ValueRenderer</code></a> extends <tt>KeyCoder</tt> and
<tt>ValueCoder</tt> by adding a <tt>render</tt> method.  The purpose is 
to allow the application to pass a mutable object that the renderer 
populates with decoded data, rather than creating a new object 
for each decoded value. This mutable object, called the <tt>target</tt>, 
may be of a different class than the originally encoded value. It is up 
to the <tt>KeyRenderer</tt> or <tt>ValueRenderer</tt> implementation
to determine whether a target object is a suitable recipient for the decoded data.
</p>
<p>
This mechanism can be used to retrieve a subset of all the information that was
originally encoded as part of a complex object into a simpler "rendition" object.
For example, to display the name, sex and date of birth of numerous complex
Person objects, the application could define a class called PersonNameSexDob having
only those fields.  It could then define a <tt>ValueRenderer</tt> registered to
the Person class that reads and populates only the three relevant fields and skips
the rest.  The resulting PersonNameSexDob object could then provide the data
for a summarized listing of Person objects.
</p>
<p>
The <a href="../../../com/persistit/DefaultObjectCoder.html" title="class in com.persistit"><code>DefaultObjectCoder</code></a> class 
provides a convenient implementation of these interfaces. It uses 
Java reflection to read and write the fields of an object to and 
from Persistit <tt>Value</tt>s and <tt>Key</tt>s.
</p>
<p>
Finally, the <a href="../../../com/persistit/encoding/ObjectCache.html" title="class in com.persistit.encoding"><code>ObjectCache</code></a> class provides a
simple cache for previously loaded objects.  Unlike the Persistit buffer
pool, <tt>ObjectCache</tt> caches a fully realized object, rather than pages
containing byte arrays from which objects can be deserialized.  
<tt>ObjectCache</tt> is similar to a <tt>java.util.WeakHashMap</tt>, but
implements different removal rules that are more appropriate for
caching persistent objects.
</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>org.openidentityplatform.commons.parent 2.1.7-SNAPSHOT Documentation</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/persistit/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../com/persistit/exception/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/persistit/encoding/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2024 <a href="https://github.com/OpenIdentityPlatform">Open Identity Platform Community</a>. All rights reserved.</small></p>
</body>
</html>
