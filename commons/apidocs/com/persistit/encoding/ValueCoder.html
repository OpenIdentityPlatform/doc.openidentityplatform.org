<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang>
<head>
<!-- Generated by javadoc (1.8.0_362) on Wed Jan 29 15:29:36 MSK 2025 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ValueCoder (org.openidentityplatform.commons.parent 2.2.3 Documentation)</title>
<meta name="date" content="2025-01-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ValueCoder (org.openidentityplatform.commons.parent 2.2.3 Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ValueCoder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>org.openidentityplatform.commons.parent 2.2.3 Documentation</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/persistit/encoding/SerialValueCoder.html" title="class in com.persistit.encoding"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/persistit/encoding/ValueDisplayer.html" title="interface in com.persistit.encoding"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/persistit/encoding/ValueCoder.html" target="_top">Frames</a></li>
<li><a href="ValueCoder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.persistit.encoding</div>
<h2 title="Interface ValueCoder" class="title">Interface ValueCoder</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../com/persistit/encoding/ObjectCoder.html" title="interface in com.persistit.encoding">ObjectCoder</a>, <a href="../../../com/persistit/encoding/ValueDisplayer.html" title="interface in com.persistit.encoding">ValueDisplayer</a>, <a href="../../../com/persistit/encoding/ValueRenderer.html" title="interface in com.persistit.encoding">ValueRenderer</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/persistit/encoding/CollectionValueCoder.html" title="class in com.persistit.encoding">CollectionValueCoder</a>, <a href="../../../com/persistit/DefaultObjectCoder.html" title="class in com.persistit">DefaultObjectCoder</a>, <a href="../../../com/persistit/DefaultValueCoder.html" title="class in com.persistit">DefaultValueCoder</a>, <a href="../../../com/persistit/encoding/EnumValueCoder.html" title="class in com.persistit.encoding">EnumValueCoder</a>, <a href="../../../com/persistit/encoding/SerialValueCoder.html" title="class in com.persistit.encoding">SerialValueCoder</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">ValueCoder</span></pre>
<div class="block"><p>
 Interface for specialized encoding and decoding of <code>Object</code>s of
 arbitrary type in a <a href="../../../com/persistit/Value.html" title="class in com.persistit"><code>Value</code></a>. Persistit contains built-in logic to
 encode objects of certain classes. For other classes, if there is no
 registered <code>ValueCoder</code>, Persistit uses standard object
 serialization to generate a byte array that represents the state of that
 object in the database.
 </p>
 <p>
 By implementing and registering a <code>ValueCoder</code> with the current
 <a href="../../../com/persistit/encoding/CoderManager.html" title="interface in com.persistit.encoding"><code>CoderManager</code></a> you can override this default encoding. Typically the
 customized encoding of an object will be much shorter than that produced by
 serialization because the customized encoding classes by their Persistit
 class handles (see <code>ClassIndex</code>) rather than their names.
 In addition, standard serialization serializes the entire graph of other
 objects that may be directly or indirectly referred to by the object being
 made persistent. This behavior may result in storing much more data than is
 required, and more importantly, may result in incorrect semantics. A
 customized <code>ValueEncoder</code> can handle persistence of fields that
 refer to other objects in a manner that is semantically appropriate for the
 specific object. Note that if a class has a <code>ValueCoder</code>, it can
 be stored in Persistit even if it does not implement
 <code>java.io.Serializable</code>.
 </p>
 <p>
 A <code>ValueCoder</code> implements methods to convert an object of some
 class to an array of bytes and back again. Typically the implementation of a
 <code>ValueCoder</code> will simply invoke the <code>Value</code>'s
 <code>put</code> methods to write the fields into the <code>Value</code>. For
 example, the following code defines a class, and a <code>ValueCoder</code> to
 store and retrieve it.
 </p>
 <blockquote>
 
 <pre>
 class MyClass {
     int id;
     int anotherInt;
     String someString;
     MyClass anotherMyClass;
 }
 
 class MyClassValueCoder implements ValueCoder {
     public void put(Value value, Object object, CoderContext context) {
         MyClass mc = (MyClass) object;
         value.put(mc.id);
         value.put(mc.anotherInt);
         value.put(mc.someString);
         value.put(mc.anotherMyClass == null ? -1 : mc.anotherMyClass.id);
     }
 
     public Object get(Value value, Class clazz, CoderContext context) {
         MyClass mc = new MyClass();
         mc.id = value.getInt();
         mc.anotherInt = value.getInt();
         mc.someString = value.getString();
         mc.anotherMyClass = lookupMyClass(value.getInt());
         return mc;
     }
 }
 </pre>
 
 </blockquote>
 <p>
 The application should register this <code>ValueCoder</code> before
 attempting to invoke <a href="../../../com/persistit/Value.html#put-java.lang.Object-"><code>Value.put(Object)</code></a> on an object of class
 <code>MyClass</code> or to retrieve an object value using <a href="../../../com/persistit/Value.html#get--"><code>Value.get()</code></a>
 that will resolve to a <code>MyClass</code>. Generally this means that
 applications should register all <code>ValueCoder</code>s and
 <code>KeyCoder</code>s during application startup, immediately after invoking
 <a href="../../../com/persistit/Persistit.html#initialize--"><code>Persistit.initialize()</code></a>. For example: <blockquote>
 
 <pre>
      ...
  try
  {
      Persistit.initialize();
      CoderManager cm = Persistit.getInstance().getCoderManager();
      cm.registerValueCoder(new MyClassValueCoder());
      cm.registerValueCoder(new MyClassValueCoder2());
      ...
      cm.registerKeyCoder(new MyClassKeyCoder());
      ...
  }
  catch (PersistitException e)
  {
      ...
  }
 </pre>
 
 </blockquote>
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/persistit/encoding/ValueCoder.html#get-com.persistit.Value-java.lang.Class-com.persistit.encoding.CoderContext-">get</a></span>(<a href="../../../com/persistit/Value.html" title="class in com.persistit">Value</a>&nbsp;value,
   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;clazz,
   <a href="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding">CoderContext</a>&nbsp;context)</code>
<div class="block">
 Creates an instance of the supplied class, populates its state by
 decoding the supplied <code>Value</code>, and returns it.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/persistit/encoding/ValueCoder.html#put-com.persistit.Value-java.lang.Object-com.persistit.encoding.CoderContext-">put</a></span>(<a href="../../../com/persistit/Value.html" title="class in com.persistit">Value</a>&nbsp;value,
   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;object,
   <a href="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding">CoderContext</a>&nbsp;context)</code>
<div class="block">
 Encodes the supplied <code>Object</code> into the supplied
 <code>Value</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="put-com.persistit.Value-java.lang.Object-com.persistit.encoding.CoderContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>void&nbsp;put(<a href="../../../com/persistit/Value.html" title="class in com.persistit">Value</a>&nbsp;value,
         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;object,
         <a href="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding">CoderContext</a>&nbsp;context)
  throws <a href="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</a></pre>
<div class="block"><p>
 Encodes the supplied <code>Object</code> into the supplied
 <code>Value</code>. This method will be called only if this
 <code>ValueCoder</code> has been registered with the current
 <a href="../../../com/persistit/encoding/CoderManager.html" title="interface in com.persistit.encoding"><code>CoderManager</code></a> to encode objects having the class of the supplied
 object.
 </p>
 <p>
 Upon completion of this method, the backing byte array of the
 <code>Value</code> and its size should be updated to reflect the
 serialized object. Use the methods <a href="../../../com/persistit/Value.html#getEncodedBytes--"><code>Value.getEncodedBytes()</code></a>,
 <a href="../../../com/persistit/Value.html#getEncodedSize--"><code>Value.getEncodedSize()</code></a> and <a href="../../../com/persistit/Value.html#setEncodedSize-int-"><code>Value.setEncodedSize(int)</code></a> to
 manipulate the byte array directly. More commonly, the implementation of
 this method will simply call the appropriate <code>put</code> methods to
 write the interior field values into the <code>Value</code> object.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - The <code>Value</code> to which the interior data of the
            supplied <code>Object</code> should be encoded</dd>
<dd><code>object</code> - The object value to encode. This parameter will never be
            <code>null</code> because Persistit encodes nulls with a
            built-in encoding.</dd>
<dd><code>context</code> - An arbitrary object that can optionally be supplied by the
            application to convey an application-specific context for the
            operation. (See <a href="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding"><code>CoderContext</code></a>.) The default value is
            <code>null</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</a></code></dd>
</dl>
</li>
</ul>
<a name="get-com.persistit.Value-java.lang.Class-com.persistit.encoding.CoderContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>get</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;get(<a href="../../../com/persistit/Value.html" title="class in com.persistit">Value</a>&nbsp;value,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;clazz,
           <a href="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding">CoderContext</a>&nbsp;context)
    throws <a href="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</a></pre>
<div class="block"><p>
 Creates an instance of the supplied class, populates its state by
 decoding the supplied <code>Value</code>, and returns it. This method
 will be called only if this <code>ValueCoder</code> has been registered
 with the current <a href="../../../com/persistit/encoding/CoderManager.html" title="interface in com.persistit.encoding"><code>CoderManager</code></a> to encode objects having supplied
 <code>Class</code> value. Persistit will never call this method to decode
 a value that was <code>null</code> when written because null values are
 handled by built-in encoding logic.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - The <code>Value</code> from which interior fields of the
            object are to be retrieved</dd>
<dd><code>clazz</code> - The class of the object to be returned.</dd>
<dd><code>context</code> - An arbitrary object that can optionally be supplied by the
            application to convey an application-specific context for the
            operation. (See <a href="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding"><code>CoderContext</code></a>.) The default value is
            <code>null</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An <code>Object</code> having the same class as the suppled
         <code>clazz</code> parameter.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ValueCoder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>org.openidentityplatform.commons.parent 2.2.3 Documentation</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/persistit/encoding/SerialValueCoder.html" title="class in com.persistit.encoding"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/persistit/encoding/ValueDisplayer.html" title="interface in com.persistit.encoding"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/persistit/encoding/ValueCoder.html" target="_top">Frames</a></li>
<li><a href="ValueCoder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2025 <a href="https://github.com/OpenIdentityPlatform">Open Identity Platform Community</a>. All rights reserved.</small></p>
</body>
</html>
